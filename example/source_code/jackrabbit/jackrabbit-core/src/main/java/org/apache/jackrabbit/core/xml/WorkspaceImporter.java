org apach jackrabbit core xml
org apach jackrabbit core batch item oper batcheditemoper
org apach jackrabbit core hierarchi manag hierarchymanag
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core workspac impl workspaceimpl
org apach jackrabbit core config import config importconfig
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core nodetyp effect node type effectivenodetyp
org apach jackrabbit core session session context sessioncontext
org apach jackrabbit core state child node entri childnodeentri
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core util refer chang tracker referencechangetrack
org apach jackrabbit core intern internalvalu
org apach jackrabbit core version intern version manag internalversionmanag
org apach jackrabbit core version version histori info versionhistoryinfo
org apach jackrabbit spi
org apach jackrabbit spi path
org apach jackrabbit spi node definit qnodedefinit
org apach jackrabbit spi properti definit qpropertydefinit
org apach jackrabbit spi common convers malform path except malformedpathexcept
org apach jackrabbit spi common constant nameconst
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr import uuid behavior importuuidbehavior
javax jcr item exist except itemexistsexcept
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr properti type propertytyp
javax jcr repositori except repositoryexcept
javax jcr lock lock except lockexcept
javax jcr nodetyp constraint violat except constraintviolationexcept
javax jcr version version except versionexcept
java util arrai list arraylist
java util iter
java util list
java util stack
code workspaceimport code
workspac import workspaceimport import
logger log logger factori loggerfactori logger getlogg workspac import workspaceimport
node state nodest import target importtarget
workspac impl workspaceimpl wsp
session impl sessionimpl session
intern version manag internalversionmanag version manag versionmanag
hierarchi manag hierarchymanag hier mgr hiermgr
batch item oper batcheditemoper item op itemop
uuid behavior uuidbehavior
abort
stack node state nodest parent
helper object track remap uuid' import refer
properti correct depend uuid map
refer chang tracker referencechangetrack ref tracker reftrack
creat code workspaceimport code instanc
param parentpath target path add import subtre
param wsp workspac oper
param ntreg node type registri
param uuidbehavior flag govern incom uuid handl
throw pathnotfoundexcept node exist
code parentpath code
current session grant read
access
throw constraintviolationexcept node
code parentpath code protect
throw versionexcept node
code parentpath code
check
throw lockexcept lock prevent addit
subtre
throw repositoryexcept error occur
workspac import workspaceimport path parent path parentpath
workspac impl workspaceimpl wsp
session context sessioncontext session context sessioncontext
uuid behavior uuidbehavior
path found except pathnotfoundexcept constraint violat except constraintviolationexcept
version except versionexcept lock except lockexcept repositori except repositoryexcept
parent path parentpath wsp session context sessioncontext uuid behavior uuidbehavior
creat code workspaceimport code instanc
param parentpath target path add import subtre
param wsp workspac oper
param ntreg node type registri
param uuidbehavior flag govern incom uuid handl
param config import configur
throw pathnotfoundexcept node exist
code parentpath code
current session grant read
access
throw constraintviolationexcept node
code parentpath code protect
throw versionexcept node
code parentpath code
check
throw lockexcept lock prevent addit
subtre
throw repositoryexcept error occur
workspac import workspaceimport
path parent path parentpath workspac impl workspaceimpl wsp session context sessioncontext session context sessioncontext
uuid behavior uuidbehavior import config importconfig config
path found except pathnotfoundexcept constraint violat except constraintviolationexcept
version except versionexcept lock except lockexcept repositori except repositoryexcept
wsp wsp
session session context sessioncontext session impl getsessionimpl
version manag versionmanag session intern version manag getinternalversionmanag
uuid behavior uuidbehavior uuid behavior uuidbehavior
item op itemop batch item oper batcheditemoper
wsp item state manag getitemstatemanag session context sessioncontext
hier mgr hiermgr wsp hierarchi manag gethierarchymanag
perform preliminari check
item op itemop verifi write verifycanwrit parent path parentpath
import target importtarget item op itemop node state getnodest parent path parentpath
abort
ref tracker reftrack refer chang tracker referencechangetrack
parent stack node state nodest
parent push import target importtarget
todo tobefix import pass protect item configur import
time log except import configur
expect work workspac import jcr
config
list protect item import protecteditemimport config protect item import getprotecteditemimport
protect item import protecteditemimport ppi
ppi init session session uuid behavior uuidbehavior ref tracker reftrack
log warn protect item import configur support workspac import
throw unsupportedoperationexcept workspac import protect node implement
param parent parent node state
param conflict conflict node state
param nodeinfo node info
return resolv node state
throw repositoryexcept error occur
node state nodest resolv uuid conflict resolveuuidconflict node state nodest parent
node state nodest conflict
node info nodeinfo node info nodeinfo
repositori except repositoryexcept
node state nodest node
uuid behavior uuidbehavior import uuid behavior importuuidbehavior import uuid creat import uuid creat
creat uuid
check node ad check access right
node type constraint assum lock version statu
retent hold check ancestor
item op itemop check add node checkaddnod parent node info nodeinfo getnam
node info nodeinfo node type getnodetypenam
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check constraint check constraint
node item op itemop creat node state createnodest parent node info nodeinfo getnam
node info nodeinfo node type getnodetypenam node info nodeinfo mixin name getmixinnam
rememb uuid map
effect node type effectivenodetyp ent item op itemop effect node type geteffectivenodetyp node
ent includ node type includesnodetyp constant nameconst mix referenc mix referenc
ref tracker reftrack map mappedid node info nodeinfo getid node node getnodeid
uuid behavior uuidbehavior import uuid behavior importuuidbehavior import uuid collis throw import uuid collis throw
exist node shareabl fail creat
node share exist
conflict shareabl isshar
item op itemop clone conflict parent node info nodeinfo getnam
string msg node uuid node info nodeinfo getid
exist
log debug msg
item exist except itemexistsexcept msg
uuid behavior uuidbehavior import uuid behavior importuuidbehavior import uuid collis remov exist import uuid collis remov exist
make conflict node importtarget ancestor thereof
path hier mgr hiermgr path getpath import target importtarget node getnodeid
path hier mgr hiermgr path getpath conflict node getnodeid
equal ancestor isancestorof
string msg remov ancestor node
log debug msg
constraint violat except constraintviolationexcept msg
malform path except malformedpathexcept mpe
string msg intern error fail determin degre relationship
log error msg mpe
repositori except repositoryexcept msg mpe
remov conflict
check conflict remov
access right node type constraint lock version statu
item op itemop check remov node checkremovenod conflict
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check lock check lock
batch item oper batcheditemoper check check check check
batch item oper batcheditemoper check constraint check constraint
batch item oper batcheditemoper check hold check hold
batch item oper batcheditemoper check retent check retent
remov conflict recurs
item op itemop remov node state removenodest conflict
creat uuid
check node ad check access right
node type constraint assum lock version statu
retent hold check ancestor
item op itemop check add node checkaddnod parent node info nodeinfo getnam
node info nodeinfo node type getnodetypenam
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check constraint check constraint
creat node
node item op itemop creat node state createnodest parent node info nodeinfo getnam
node info nodeinfo node type getnodetypenam node info nodeinfo mixin name getmixinnam
node info nodeinfo getid
uuid behavior uuidbehavior import uuid behavior importuuidbehavior import uuid collis replac exist import uuid collis replac exist
node nodeid parent parentid conflict parent getparentid
parent parentid
string msg root node replac
log debug msg
repositori except repositoryexcept msg
'replace' current parent parent conflict
parent item op itemop node state getnodest parent parentid
item found except itemnotfoundexcept inf
string msg intern error fail retriev parent state
log error msg inf
repositori except repositoryexcept msg inf
remov conflict
check conflict remov
access right node type constraint lock version statu
item op itemop check remov node checkremovenod conflict
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check lock check lock
batch item oper batcheditemoper check check check check
batch item oper batcheditemoper check constraint check constraint
batch item oper batcheditemoper check hold check hold
batch item oper batcheditemoper check retent check retent
'replace' 'remov exist add new' oper
order parent'
child node entri jcr
backup list child node entri order
restor
child node entri childnodeentri cne conflict cneconflict parent child node entri getchildnodeentri node info nodeinfo getid
list child node entri childnodeentri cne list cnelist arrai list arraylist child node entri childnodeentri parent child node entri getchildnodeentri
remov conflict recurs
item op itemop remov node state removenodest conflict
creat uuid locat conflict
check node ad locat
access right node type constraint lock version
statu retent hold
item op itemop check add node checkaddnod parent node info nodeinfo getnam
node info nodeinfo node type getnodetypenam
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check lock check lock
batch item oper batcheditemoper check check check check
batch item oper batcheditemoper check constraint check constraint
batch item oper batcheditemoper check hold check hold
batch item oper batcheditemoper check retent check retent
creat node
node item op itemop creat node state createnodest parent node info nodeinfo getnam
node info nodeinfo node type getnodetypenam node info nodeinfo mixin name getmixinnam
node info nodeinfo getid
restor list child node entri jcr
cne conflict cneconflict getnam equal node info nodeinfo getnam
restor origin child node list
parent set child node entri setchildnodeentri cne list cnelist
replac child node entri
preserv origin posit
parent remov child node entri removeallchildnodeentri
child node entri childnodeentri cne cne list cnelist
cne getid equal node info nodeinfo getid
replac entri
parent add child node entri addchildnodeentri node info nodeinfo getnam node info nodeinfo getid
parent add child node entri addchildnodeentri cne getnam cne getid
string msg unknown uuidbehavior uuid behavior uuidbehavior
log debug msg
repositori except repositoryexcept msg
node
post process import node initi properti special
semant
param node node state
throw repositoryexcept error occur
post process node postprocessnod node state nodest node repositori except repositoryexcept
special handl requir properti special semant
defin mix referenc mix version
mix lockabl
todo fixm deleg 'node type instanc handler'
effect node type effectivenodetyp ent item op itemop effect node type geteffectivenodetyp node
ent includ node type includesnodetyp constant nameconst mix simpl version mix simpl version
check version histori
node case version node
export remov import
import uuid collis remov exist
import uuid collis replac exist
creat version histori
version histori info versionhistoryinfo histori
version manag versionmanag version histori getversionhistori session node
intern internalvalu histori historyid intern internalvalu creat
histori version histori getversionhistoryid
intern internalvalu version versionid intern internalvalu creat
histori root version getrootversionid
jcr ischeckedout
condit add properti conditionaladdproperti
node constant nameconst jcr ischeckedout jcr ischeckedout
properti type propertytyp boolean intern internalvalu creat
set extra properti full version node
ent includ node type includesnodetyp constant nameconst mix version mix version
jcr versionhistori
condit add properti conditionaladdproperti
node constant nameconst jcr versionhistori jcr versionhistori
properti type propertytyp refer histori historyid
jcr basevers
condit add properti conditionaladdproperti
node constant nameconst jcr basevers jcr basevers
properti type propertytyp refer version versionid
jcr predecessor
condit add properti conditionaladdproperti
node constant nameconst jcr predecessor jcr predecessor
properti type propertytyp refer version versionid
process properti processproperti node state nodest node prop info propinfo info pinfo repositori except repositoryexcept
properti state propertyst prop
properti definit qpropertydefinit def
info pinfo getnam
type info pinfo type gettyp
node properti haspropertynam
properti exist
properti propertyid exist idexist properti propertyid node node getnodeid
prop properti state propertyst item op itemop item state getitemst exist idexist
def item op itemop find applic properti definit findapplicablepropertydefinit prop getnam prop type gettyp prop multi valu ismultivalu node
def protect isprotect
skip protect properti
log debug skip protect properti
item op itemop safe jcr path safegetjcrpath exist idexist
def auto creat isautocr
prop type gettyp type type properti type propertytyp undefin
def multipl ismultipl prop multi valu ismultivalu
item exist except itemexistsexcept item op itemop safe jcr path safegetjcrpath prop properti getpropertyid
properti
find applic definit
def info pinfo applic properti def getapplicablepropertydef item op itemop effect node type geteffectivenodetyp node
def protect isprotect
skip protect properti
log debug skip protect properti
creat properti
prop item op itemop creat properti state createpropertyst node type def
check multi valu characterist
text textvalu valu info pinfo text valu gettextvalu
valu length def multipl ismultipl
constraint violat except constraintviolationexcept item op itemop safe jcr path safegetjcrpath prop properti getpropertyid
multi valu
convert serial valu internalvalu object
target type targettyp info pinfo target type gettargettyp def
intern internalvalu iva intern internalvalu valu length
valu length
iva valu intern getinternalvalu target type targettyp
set valu
prop set valu setvalu iva
make properti valid definit
item op itemop valid prop
prop type gettyp properti type propertytyp refer
prop type gettyp properti type propertytyp weakrefer
store refer resolut
ref tracker reftrack process refer processedrefer prop
store properti
item op itemop store prop
add properti node properti
exist
param node node properti ad
param properti
param type properti type link propertytyp
param multipl properti multivalu
param initi properti ad
throw repositoryexcept properti ad
condit add properti conditionaladdproperti
node state nodest node type multipl
intern internalvalu
repositori except repositoryexcept
node properti haspropertynam
properti definit qpropertydefinit def item op itemop find applic properti definit findapplicablepropertydefinit
type multipl node
properti state propertyst prop item op itemop creat properti state createpropertyst
node type def
prop set valu setvalu intern internalvalu
import
inheritdoc
start repositori except repositoryexcept
start updat oper
item op itemop edit
illeg state except illegalstateexcept is
abort
string msg intern error fail start updat oper
log debug msg
repositori except repositoryexcept msg is
inheritdoc
start node startnod node info nodeinfo node info nodeinfo list prop info propinfo prop info propinfo
repositori except repositoryexcept
abort
import abort outta
succeed
node state nodest parent
check saniti workspac session
wsp saniti check sanitycheck
parent parent peek
process node
node state nodest node
node nodeid node info nodeinfo getid
node nodenam node info nodeinfo getnam
ntname node info nodeinfo node type getnodetypenam
mixin node info nodeinfo mixin name getmixinnam
parent
parent node skip skip child node
parent push parent push null push null stack skip node
succeed
log debug skip node node nodenam
parent child node entri haschildnodeentri node nodenam
node exist
child node entri childnodeentri entri
parent child node entri getchildnodeentri node nodenam
node nodeid exist idexist entri getid
node state nodest exist node state nodest item op itemop item state getitemst exist idexist
node definit qnodedefinit def item op itemop find applic node definit findapplicablenodedefinit
node nodenam exist node type getnodetypenam parent
def sibl allowssamenames
exist sibl
check potenti conflict
effect node type effectivenodetyp ent exist entexist
item op itemop effect node type geteffectivenodetyp exist
def protect isprotect ent exist entexist includ node type includesnodetyp ntname
skip protect node
parent push parent push null push null stack skip node
succeed
log debug skip protect node
item op itemop safe jcr path safegetjcrpath exist node getnodeid
def auto creat isautocr ent exist entexist includ node type includesnodetyp ntname
node auto creat
creat
node exist
edg case collid node uuid
http issu apach org jira brows jcr
exist idexist equal
uuid behavior uuidbehavior import uuid behavior importuuidbehavior import uuid collis remov exist import uuid collis remov exist
uuid behavior uuidbehavior import uuid behavior importuuidbehavior import uuid collis replac exist import uuid collis replac exist
item exist except itemexistsexcept item op itemop safe jcr path safegetjcrpath exist node getnodeid
fall
node
node
potenti uuid conflict creat node
node definit qnodedefinit def item op itemop find applic node definit findapplicablenodedefinit
node nodenam ntname parent
def protect isprotect
skip protect node
parent push parent push null push null stack skip node
succeed
log debug skip protect node node nodenam
check node ad check access right
node type constraint assum lock version statu
retent hold check ancestor
item op itemop check add node checkaddnod parent node nodenam ntname
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check constraint check constraint
creat node
node item op itemop creat node state createnodest parent node nodenam ntname mixin def
potenti uuid conflict
node state nodest conflict item op itemop node state getnodest
resolv uuid conflict
node resolv uuid conflict resolveuuidconflict parent conflict node info nodeinfo
node
node creat skip node
parent push parent push null push null stack skip node
succeed
log debug skip exist node node nodenam
item found except itemnotfoundexcept
creat uuid
node definit qnodedefinit def item op itemop find applic node definit findapplicablenodedefinit
node nodenam ntname parent
def protect isprotect
skip protect node
parent push parent push null push null stack skip node
succeed
log debug skip protect node node nodenam
check node ad check access right
node type constraint assum lock version statu
retent hold check ancestor
item op itemop check add node checkaddnod parent node nodenam ntname
batch item oper batcheditemoper check access check access
batch item oper batcheditemoper check constraint check constraint
creat node
node item op itemop creat node state createnodest parent node nodenam ntname mixin def
process properti
prop info propinfo prop info propinfo prop info propinfo
process properti processproperti node prop info propinfo
store affect node
item op itemop store node
item op itemop store parent
push current node stack parent
parent push node
succeed
succeed
updat oper fail cancel modif
abort
item op itemop cancel
inheritdoc
end node endnod node info nodeinfo node info nodeinfo repositori except repositoryexcept
abort
import abort outta
node state nodest node parent pop
node
node skip
succeed
check saniti workspac session
wsp saniti check sanitycheck
post process node initi properti special semant
post process node postprocessnod node
make node valid definit
item op itemop valid node
node store state
item op itemop store node
succeed
succeed
updat oper fail cancel modif
abort
item op itemop cancel
inheritdoc
end repositori except repositoryexcept
abort
import abort outta
succeed
check saniti workspac session
wsp saniti check sanitycheck
adjust refer refer uuid map
newli gener uuid import
iter object iter ref tracker reftrack process refer getprocessedrefer
iter hasnext
properti state propertyst prop properti state propertyst iter
paranoid
prop type gettyp properti type propertytyp refer
prop type gettyp properti type propertytyp weakrefer
modifi
intern internalvalu valu prop valu getvalu
intern internalvalu val newval intern internalvalu valu length
valu length
node nodeid adjust
ref tracker reftrack map getmappedid valu node getnodeid
adjust
val newval intern internalvalu creat
adjust
prop type gettyp properti type propertytyp refer
modifi
refer adjust copi
val newval valu
modifi
prop set valu setvalu val newval
item op itemop store prop
ref tracker reftrack clear
make import target valid definit
item op itemop valid import target importtarget
final store state import target
parent import subtre
item op itemop store import target importtarget
succeed
succeed
updat oper fail cancel modif
abort
item op itemop cancel
abort
finish updat
item op itemop updat
