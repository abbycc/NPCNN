org apach jackrabbit core persist mem
java buffer input stream bufferedinputstream
java buffer output stream bufferedoutputstream
java byte arrai input stream bytearrayinputstream
java byte arrai output stream bytearrayoutputstream
java data input stream datainputstream
java data output stream dataoutputstream
java file
java except ioexcept
java input stream inputstream
java util arrai list arraylist
java util hash map hashmap
java util list
java util map
javax jcr repositori except repositoryexcept
org apach common util ioutil
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core local local file system localfilesystem
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core persist context pmcontext
org apach jackrabbit core persist bundl abstract bundl persist manag abstractbundlepersistencemanag
org apach jackrabbit core persist util blob store blobstor
org apach jackrabbit core persist util bundl bind bundlebind
org apach jackrabbit core persist util error handl errorhandl
org apach jackrabbit core persist util file system blob store filesystemblobstor
org apach jackrabbit core persist util node prop bundl nodepropbundl
org apach jackrabbit core persist util serial
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node refer noderefer
org slf4j logger
org slf4j logger factori loggerfactori
code bundleinmempersistencemanag code code hashmap code base
code persistencemanag code jackrabbit data memori
capabl store load content simpl custom
binari serial format link serial
configur properti
code initialcapac code initi capac hash map store data
code loadfactor code load factor hash map store data
code persist code code true code content hash map
load startup store shutdown
code fals code persist
code usefileblobstor code code true code content blob
directli store file system memori
code minblobs code blob store binari properti larger
minblobsit byte default
note class test purpos
mem bundl persist manag inmembundlepersistencemanag abstract bundl persist manag abstractbundlepersistencemanag
default logger
logger log logger factori loggerfactori logger getlogg mem bundl persist manag inmembundlepersistencemanag
flag indic manag initi
initi
path bundl store shutdown
code persist true code
string bundl file path bundl file path data bundl bin
path blob store shutdown
code persist true code code usefileblobstor fals code
string blob file path blob file path data blob bin
path refer store shutdown
code persist true code
string ref file path ref file path data ref bin
file system content hash map read written
code persist true code
file system filesystem wsp wspf
file system blob data store
code usefileblobstor true code
file system filesystem blob blobf
initi size buffer serial object
initi buffer size initi buffer size
minimum size properti written blob store
setminblobs string
min blob size minblobs
flag error handl
error handl errorhandl error handl errorhandl error handl errorhandl
bundl bind
bundl bind bundlebind bind
bundl memori store
map node nodeid bundl store bundlestor
refer memori store
map node nodeid ref store refsstor
blob store
blob store blobstor blob store blobstor
blob memori store inmemblobstor
code usefileblobstor fals code
map string blob
initi capac
initi capac initialcapac
load factor hash map
load factor loadfactor
hash map persist
persist
store blob file system memori
file blob store usefileblobstor
creat code inmembundlepersistencemanag code instanc
mem bundl persist manag inmembundlepersistencemanag
initi
set initi capac setinitialcapac initi capac initialcapac
initi capac initialcapac initi capac initialcapac
set initi capac setinitialcapac string initi capac initialcapac
initi capac initialcapac integ pars int parseint initi capac initialcapac
string initi capac getinitialcapac
integ string tostr initi capac initialcapac
set load factor setloadfactor load factor loadfactor
load factor loadfactor load factor loadfactor
set load factor setloadfactor string load factor loadfactor
load factor loadfactor float pars float parsefloat load factor loadfactor
string load factor getloadfactor
float string tostr load factor loadfactor
persist ispersist
persist
set persist setpersist persist
persist persist
set persist setpersist string persist
persist boolean valueof persist boolean booleanvalu
set file blob store setusefileblobstor file blob store usefileblobstor
file blob store usefileblobstor file blob store usefileblobstor
set file blob store setusefileblobstor string file blob store usefileblobstor
file blob store usefileblobstor boolean valueof file blob store usefileblobstor boolean booleanvalu
string min blob size getminblobs
string valueof min blob size minblobs
set min blob size setminblobs string min blob size minblobs
min blob size minblobs integ decod min blob size minblobs int intvalu
read content hash map file system
throw except error occur
load content loadcont except
read item state
file system resourc filesystemresourc re fsre file system resourc filesystemresourc wsp wspf bundl file path bundl file path
re fsre exist
buffer input stream bufferedinputstream bi buffer input stream bufferedinputstream re fsre input stream getinputstream
data input stream datainputstream data input stream datainputstream bi
read int readint int readint number entri
string read utf readutf string readutf
node nodeid node nodeid valueof
length read int readint int length readint data length
data length
read fulli readfulli data readfulli data data
store map
bundl store bundlestor put data
close
read refer
re fsre file system resourc filesystemresourc wsp wspf ref file path ref file path
bi buffer input stream bufferedinputstream re fsre input stream getinputstream
data input stream datainputstream bi
read int readint int readint number entri
string read utf readutf string readutf target
node nodeid node nodeid valueof
length read int readint int length readint data length
data length
read fulli readfulli data readfulli data data
store map
ref store refsstor put data
close
file blob store usefileblobstor
read blob
re fsre file system resourc filesystemresourc wsp wspf blob file path blob file path
bi buffer input stream bufferedinputstream re fsre input stream getinputstream
data input stream datainputstream bi
read int readint int readint number entri
string read utf readutf string readutf
length read int readint int length readint data length
data length
read fulli readfulli data readfulli data data
store map
blob put data
close
write content hash map store file system
throw except error occur
store content storecont except
write bundl
file system resourc filesystemresourc re fsre file system resourc filesystemresourc wsp wspf bundl file path bundl file path
re fsre make parent dir makeparentdir
buffer output stream bufferedoutputstream bo buffer output stream bufferedoutputstream re fsre output stream getoutputstream
data output stream dataoutputstream data output stream dataoutputstream bo
write int writeint bundl store bundlestor size writeint bundlestor size number entri
entri
node nodeid bundl store bundlestor kei set keyset
write utf writeutf string tostr writeutf tostr
data bundl store bundlestor
write int writeint data length writeint data length data length
write data write data data
close
write refer
re fsre file system resourc filesystemresourc wsp wspf ref file path ref file path
re fsre make parent dir makeparentdir
bo buffer output stream bufferedoutputstream re fsre output stream getoutputstream
data output stream dataoutputstream bo
write int writeint ref store refsstor size writeint refsstor size number entri
entri
node nodeid ref store refsstor kei set keyset
write utf writeutf string tostr writeutf tostr target
data ref store refsstor
write int writeint data length writeint data length data length
write data write data data
close
file blob store usefileblobstor
write blob
re fsre file system resourc filesystemresourc wsp wspf blob file path blob file path
re fsre make parent dir makeparentdir
bo buffer output stream bufferedoutputstream re fsre output stream getoutputstream
data output stream dataoutputstream bo
write int writeint blob size writeint blob size number entri
entri
string blob kei set keyset
write utf writeutf writeutf
data blob
write int writeint data length writeint data length data length
write data write data data
close
persistencemanag
inheritdoc
init context pmcontext context except
initi
illeg state except illegalstateexcept initi
init context
initi mem store
bundl store bundlestor hash map hashmap node nodeid initi capac initialcapac load factor loadfactor
ref store refsstor hash map hashmap node nodeid initi capac initialcapac load factor loadfactor
choos filesystem blobstor base data persist
file blob store usefileblobstor
blob blobf local file system localfilesystem
local file system localfilesystem blob blobf set root setroot file context home dir gethomedir blob
blob blobf init
blob store blobstor file system blob store filesystemblobstor blob blobf
blob store blobstor mem blob store inmemblobstor
wsp wspf context file system getfilesystem
load namespac
bind bundl bind bundlebind error handl errorhandl blob store blobstor index getnsindex index getnameindex context data store getdatastor
bind set min blob size setminblobs min blob size minblobs
persist
deseri content store
load content loadcont
initi
inheritdoc
close except
initi
illeg state except illegalstateexcept initi
persist
serial content state ref store
store content storecont
file blob store usefileblobstor
blob blobf close
persist clear blob
wsp wspf delet folder deletefold blob
initi
inheritdoc
node refer noderefer load refer loadreferencesto node nodeid item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
ref store refsstor kei containskei
item state except nosuchitemstateexcept string tostr
node refer noderefer ref node refer noderefer
serial deseri ref byte arrai input stream bytearrayinputstream ref store refsstor
ref
except
string msg fail read refer
log error msg
item state except itemstateexcept msg
inheritdoc
overrid
store node refer noderefer ref item state except itemstateexcept
byte arrai output stream bytearrayoutputstream byte arrai output stream bytearrayoutputstream initi buffer size initi buffer size
serial refer
serial serial ref
store serial format map memori effici
ref store refsstor put ref target gettargetid byte arrai tobytearrai
except
string msg fail store ref
log debug msg
item state except itemstateexcept msg
inheritdoc
exist refer existsreferencesto node nodeid target targetid item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
ref store refsstor kei containskei target targetid
inheritdoc
overrid
destroi node refer noderefer ref item state except itemstateexcept
ref store refsstor remov ref target gettargetid
inheritdoc
list node nodeid node id getallnodeid node nodeid max count maxcount item state except itemstateexcept repositori except repositoryexcept
ignor count paramet
list node nodeid result arrai list arraylist node nodeid
result add addal bundl store bundlestor kei set keyset
result
inheritdoc
overrid
node prop bundl nodepropbundl load bundl loadbundl node nodeid item state except itemstateexcept
bundl store bundlestor kei containskei
bind read bundl readbundl byte arrai input stream bytearrayinputstream bundl store bundlestor
except
string msg fail read bundl
log error msg
item state except itemstateexcept msg
inheritdoc
overrid
store bundl storebundl node prop bundl nodepropbundl bundl item state except itemstateexcept
byte arrai output stream bytearrayoutputstream byte arrai output stream bytearrayoutputstream initi buffer size initi buffer size
bind write bundl writebundl bundl
bundl store bundlestor put bundl getid byte arrai tobytearrai
except ioexcept
string msg fail write bundl bundl getid
log error msg
item state except itemstateexcept msg
inheritdoc
overrid
destroi bundl destroybundl node prop bundl nodepropbundl bundl item state except itemstateexcept
bundl store bundlestor remov bundl getid
inheritdoc
overrid
blob store blobstor blob store getblobstor
blob store blobstor
helper interfac closeabl store
closeabl blob store closeableblobstor blob store blobstor
close
trivial link blobstor implement back link hashmap
mem blob store inmemblobstor closeabl blob store closeableblobstor
mem blob store inmemblobstor
blob hash map hashmap string
inheritdoc
string creat createid properti propertyid index
string builder stringbuild buf string builder stringbuild
buf append parent getparentid string tostr
buf append
buf append index getnsindex string index stringtoindex getnam namespac uri getnamespaceuri
buf append
buf append index getnameindex string index stringtoindex getnam local getlocalnam
buf append
buf append index
buf string tostr
inheritdoc
put string blob blobid input stream inputstream size except
blob put blob blobid util ioutil byte arrai tobytearrai
inheritdoc
input stream inputstream string blob blobid except
blob kei containskei blob blobid
byte arrai input stream bytearrayinputstream blob blob blobid
inheritdoc
remov string blob blobid except
blob remov blob blobid
inheritdoc
close
blob clear
