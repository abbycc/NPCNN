org apach jackrabbit core journal
org slf4j logger
org slf4j logger factori loggerfactori
java file
java except ioexcept
java random access file randomaccessfil
maintain file base revis counter lock assur uniqu
file revis filerevis instanc revis instancerevis
logger
logger log logger factori loggerfactori logger getlogg file revis filerevis
underli random access file
random access file randomaccessfil raf
cach
flag indic revis file close
close
creat file base revis counter
param file hold global counter
throw journalexcept error occur
file revis filerevis file file journal except journalexcept
file exist
file creat file createnewfil
raf random access file randomaccessfil file
raf length
set
except ioexcept
string msg error attempt creat file file
journal except journalexcept msg
return current counter
return counter
throw journalexcept error occur
journal except journalexcept
close
journal except journalexcept revis file close
raf seek
raf read long readlong
except ioexcept
journal except journalexcept error occur
set current counter
param counter
throw journalexcept error occur
set journal except journalexcept
close
journal except journalexcept revis file close
raf seek
raf write long writelong
raf getfd sync
except ioexcept
journal except journalexcept error occur
close file revis close underli random access file
close
raf close
close
except ioexcept
log warn error close revis file
