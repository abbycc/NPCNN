org apach jackrabbit core
org apach common collect map refer map referencemap
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core nodetyp node definit impl nodedefinitionimpl
org apach jackrabbit core nodetyp prop def propdefid
org apach jackrabbit core nodetyp properti definit impl propertydefinitionimpl
org apach jackrabbit core secur access manag accessmanag
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core state session item state manag sessionitemstatemanag
org apach jackrabbit core state item state listen itemstatelisten
org apach jackrabbit core util dumpabl
org apach jackrabbit core version version histori impl versionhistoryimpl
org apach jackrabbit core version version impl versionimpl
org apach jackrabbit prefix declar except noprefixdeclaredexcept
org apach jackrabbit path
org apach jackrabbit path format pathformat
org apach jackrabbit qname
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr access deni except accessdeniedexcept
javax jcr item found except itemnotfoundexcept
javax jcr namespac except namespaceexcept
javax jcr node iter nodeiter
javax jcr path found except pathnotfoundexcept
javax jcr properti iter propertyiter
javax jcr repositori except repositoryexcept
javax jcr nodetyp node definit nodedefinit
javax jcr nodetyp properti definit propertydefinit
java print stream printstream
java util arrai list arraylist
java util iter
java util map
code itemmanag code instanc code session code
instanc factori code node code code properti code
instanc
code itemmanag code respons
provid access code item code instanc code itemid code
code node code code item code provid rel access
return instanc exist code node code code properti code
absolut path
creat session instanc code node code
code properti code exist creat
guarante multipl instanc repres
code node code code properti code
code session code instanc
maintain cach item instanc creat
respect access right code session code method
parent code session code code xasess code
code itemmanag code instanc start global transact
item manag itemmanag item life cycl listen itemlifecyclelisten dumpabl item state listen itemstatelisten
logger log logger factori loggerfactori logger getlogg item manag itemmanag
node definit nodedefinit root node def rootnodedef
node nodeid root node rootnodeid
session impl sessionimpl session
item state manag itemstatemanag item state provid itemstateprovid
hierarchi manag hierarchymanag hier mgr hiermgr
cach item instanc creat code itemmanag code
map item cach itemcach
creat session instanc code itemmanag code instanc
param itemstateprovid item state provid
instanc
param session session instanc
param rootnodedef definit root node
param rootnodeid root node
item manag itemmanag session item state manag sessionitemstatemanag item state provid itemstateprovid hierarchi manag hierarchymanag hier mgr hiermgr
session impl sessionimpl session node definit nodedefinit root node def rootnodedef
node nodeid root node rootnodeid
item state provid itemstateprovid item state provid itemstateprovid
hier mgr hiermgr hier mgr hiermgr
session session
root node def rootnodedef root node def rootnodedef
root node rootnodeid root node rootnodeid
setup item cach weak refer item
item cach itemcach refer map referencemap refer map referencemap hard refer map referencemap weak
item state provid itemstateprovid add listen addlisten
dispos code itemmanag code free resourc
dispos
item cach itemcach clear
node definit nodedefinit definit getdefinit node state nodest state
repositori except repositoryexcept
node def nodedefid def defid state definit getdefinitionid
node definit impl nodedefinitionimpl def session node type manag getnodetypemanag node definit getnodedefinit def defid
def
todo proper handl inconsist corrupt definit
'flag' item refer exist definit
log warn node safe jcr path safegetjcrpath state node getnodeid
invalid definitionid def defid
fallback find applic definit
node impl nodeimpl parent node impl nodeimpl item getitem state parent getparentid
node state nodest parent state parentst node state nodest parent item state getitemst
node state nodest child node entri childnodeentri cne parent state parentst child node entri getchildnodeentri state node getnodeid
def parent applic child node definit getapplicablechildnodedefinit cne getnam state node type getnodetypenam
state set definit setdefinitionid def unwrap getid
def
properti definit propertydefinit definit getdefinit properti state propertyst state
repositori except repositoryexcept
prop def propdefid def defid state definit getdefinitionid
properti definit impl propertydefinitionimpl def session node type manag getnodetypemanag properti definit getpropertydefinit def defid
def
todo proper handl inconsist corrupt definit
'flag' item refer exist definit
log warn properti safe jcr path safegetjcrpath state properti getpropertyid
invalid definitionid def defid
fallback find applic definit
node impl nodeimpl parent node impl nodeimpl item getitem state parent getparentid
def parent applic properti definit getapplicablepropertydefinit
state getnam state type gettyp state multi valu ismultivalu
state set definit setdefinitionid def unwrap getid
def
retriev state item code code item
exist code itemnotfoundexcept code thrown
item exist current session grant read access
code accessdeniedexcept code thrown
param item retriev
return state state item
throw itemnotfoundexcept item code code exist
throw accessdeniedexcept current session allow
read item
throw repositoryexcept error occur
item state itemst item state getitemst item itemid
item found except itemnotfoundexcept access deni except accessdeniedexcept
repositori except repositoryexcept
check privileg
session access manag getaccessmanag grant isgrant access manag accessmanag read
clear cach
item impl itemimpl item retriev item retrieveitem
item
evict item evictitem
access deni except accessdeniedexcept read item
item state provid itemstateprovid item state getitemst
item state except nosuchitemstateexcept nsise
string msg item
log debug msg
item found except itemnotfoundexcept msg
item state except itemstateexcept is
string msg fail retriev item state
log error msg
repositori except repositoryexcept msg is
item access method
check item path exist
param path path item check
return true item exist
item exist itemexist path path
check saniti session
session saniti check sanitycheck
item itemid hier mgr hiermgr resolv path resolvepath path
check state exist item
item state provid itemstateprovid item state hasitemst
check privileg
session access manag getaccessmanag grant isgrant access manag accessmanag read
clear cach
evict item evictitem
item exist session grant read access
item found except itemnotfoundexcept inf
repositori except repositoryexcept
check item exist
param item check
return true item exist
item exist itemexist item itemid
check saniti session
session saniti check sanitycheck
check state exist item
item state provid itemstateprovid item state hasitemst
check privileg
session access manag getaccessmanag grant isgrant access manag accessmanag read
clear cach
evict item evictitem
item exist session grant read access
item found except itemnotfoundexcept inf
repositori except repositoryexcept
return
throw repositoryexcept
node impl nodeimpl root node getrootnod repositori except repositoryexcept
node impl nodeimpl item getitem root node rootnodeid
param path
return
throw pathnotfoundexcept
throw accessdeniedexcept
throw repositoryexcept
item impl itemimpl item getitem path path
path found except pathnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
item itemid hier mgr hiermgr resolv path resolvepath path
path found except pathnotfoundexcept safe jcr path safegetjcrpath path
item getitem
item found except itemnotfoundexcept inf
path found except pathnotfoundexcept safe jcr path safegetjcrpath path
param
return
throw repositoryexcept
item impl itemimpl item getitem item itemid
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check saniti session
session saniti check sanitycheck
check cach
item impl itemimpl item retriev item retrieveitem
item
cach creat instanc
check privileg
session access manag getaccessmanag grant isgrant access manag accessmanag read
access deni except accessdeniedexcept read item
creat instanc item
item creat item instanc createiteminst
item
return item instanc item state
param state item state
return item instanc item code state code
throw repositoryexcept
item impl itemimpl item getitem item state itemst state
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check saniti session
session saniti check sanitycheck
item itemid state getid
check cach
item impl itemimpl item retriev item retrieveitem
item
cach creat instanc
check privileg state
state statu getstatu item state itemst statu statu
session access manag getaccessmanag grant isgrant access manag accessmanag read
access deni except accessdeniedexcept read item
creat instanc item
item creat item instanc createiteminst
item
param parentid
return
throw itemnotfoundexcept
throw accessdeniedexcept
throw repositoryexcept
child node haschildnod node nodeid parent parentid
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check saniti session
session saniti check sanitycheck
item state itemst state item state getitemst parent parentid
state node isnod
string msg list child node properti parent parentid
log debug msg
repositori except repositoryexcept msg
node state nodest node state nodest node state nodest state
iter iter node state nodest child node entri getchildnodeentri iter
iter hasnext
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri iter
check read access
session access manag getaccessmanag grant isgrant entri getid access manag accessmanag read
param parentid
return
throw itemnotfoundexcept
throw accessdeniedexcept
throw repositoryexcept
node iter nodeiter child node getchildnod node nodeid parent parentid
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check saniti session
session saniti check sanitycheck
item state itemst state item state getitemst parent parentid
state node isnod
string msg list child node properti parent parentid
log debug msg
repositori except repositoryexcept msg
node state nodest node state nodest node state nodest state
arrai list arraylist child id childid arrai list arraylist
iter iter node state nodest child node entri getchildnodeentri iter
iter hasnext
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri iter
check read access
session access manag getaccessmanag grant isgrant entri getid access manag accessmanag read
child id childid add entri getid
lazi item iter lazyitemiter child id childid
param parentid
return
throw itemnotfoundexcept
throw accessdeniedexcept
throw repositoryexcept
child properti haschildproperti node nodeid parent parentid
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check saniti session
session saniti check sanitycheck
item state itemst state item state getitemst parent parentid
state node isnod
string msg list child properti properti parent parentid
log debug msg
repositori except repositoryexcept msg
node state nodest node state nodest node state nodest state
iter iter node state nodest properti name getpropertynam iter
iter hasnext
qname prop propnam qname iter
check read access
session access manag getaccessmanag grant isgrant properti propertyid parent parentid prop propnam access manag accessmanag read
param parentid
return
throw itemnotfoundexcept
throw accessdeniedexcept
throw repositoryexcept
properti iter propertyiter child properti getchildproperti node nodeid parent parentid
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check saniti session
session saniti check sanitycheck
item state itemst state item state getitemst parent parentid
state node isnod
string msg list child properti properti parent parentid
log debug msg
repositori except repositoryexcept msg
node state nodest node state nodest node state nodest state
arrai list arraylist child id childid arrai list arraylist
iter iter node state nodest properti name getpropertynam iter
iter hasnext
qname prop propnam qname iter
properti propertyid properti propertyid parent parentid prop propnam
check read access
session access manag getaccessmanag grant isgrant access manag accessmanag read
child id childid add
lazi item iter lazyitemiter child id childid
item factori method
item impl itemimpl creat item instanc createiteminst item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
creat instanc item state object
item impl itemimpl item
item state itemst state
state item state provid itemstateprovid item state getitemst
item state except nosuchitemstateexcept nsise
item found except itemnotfoundexcept string tostr
item state except itemstateexcept is
string msg fail retriev item state item
log error msg is
repositori except repositoryexcept msg is
equal root node rootnodeid
special handl requir root node
item creat node instanc createnodeinst node state nodest state root node def rootnodedef
state node isnod
item creat node instanc createnodeinst node state nodest state
item creat properti instanc createpropertyinst properti state propertyst state
item
node impl nodeimpl creat node instanc createnodeinst node state nodest state node definit nodedefinit def
repositori except repositoryexcept
node nodeid state node getnodeid
inform life cycl node object
order maintain item cach consist
item life cycl listen itemlifecyclelisten listen item life cycl listen itemlifecyclelisten
check special node
state node type getnodetypenam equal qname version version
creat version instanc createversioninst state def listen
state node type getnodetypenam equal qname versionhistori versionhistori
creat version histori instanc createversionhistoryinst state def listen
creat node object
node impl nodeimpl session state def listen
node impl nodeimpl creat node instanc createnodeinst node state nodest state repositori except repositoryexcept
definit node
node definit nodedefinit def definit getdefinit state
creat instanc
creat node instanc createnodeinst state def
properti impl propertyimpl creat properti instanc createpropertyinst properti state propertyst state
properti definit propertydefinit def
inform life cycl properti object
order maintain item cach consist
item life cycl listen itemlifecyclelisten listen item life cycl listen itemlifecyclelisten
creat properti object
properti impl propertyimpl
session state properti getpropertyid state def listen
properti impl propertyimpl creat properti instanc createpropertyinst properti state propertyst state
repositori except repositoryexcept
definit properti
properti definit propertydefinit def definit getdefinit state
creat instanc
creat properti instanc createpropertyinst state def
creat version instanc
param node
param state node state
param def node definit
param listen listen
return version instanc
throw repositoryexcept error occur
version impl versionimpl creat version instanc createversioninst
node nodeid node state nodest state node definit nodedefinit def
item life cycl listen itemlifecyclelisten listen repositori except repositoryexcept
version impl versionimpl session state def listen
creat version histori instanc
param node
param state node state
param def node definit
param listen listen
return version instanc
throw repositoryexcept error occur
version histori impl versionhistoryimpl creat version histori instanc createversionhistoryinst
node nodeid node state nodest state node definit nodedefinit def
item life cycl listen itemlifecyclelisten listen repositori except repositoryexcept
version histori impl versionhistoryimpl session state def listen
item cach method
return item refer cach
param item retriev
return item refer store cach entri
code null code cach entri
item impl itemimpl retriev item retrieveitem item itemid
item impl itemimpl item cach itemcach
put refer item cach
item' path kei
param item item cach
cach item cacheitem item impl itemimpl item
item itemid item getid
item cach itemcach kei containskei
log warn overwrit cach item
log debug enabl isdebugen
log debug cach item
item cach itemcach put item
remov cach entri specif item
param item remov cach
evict item evictitem item itemid
log debug enabl isdebugen
log debug remov item cach
item cach itemcach remov
misc helper method
failsaf convers intern code path code jcr path
error messag
param path path convert
return jcr path
string safe jcr path safegetjcrpath path path
session jcr path getjcrpath path
namespac except namespaceexcept
log error fail convert path string tostr jcr path
return string represent intern path fallback
path string tostr
failsaf translat intern code itemid code jcr path
error messag
param path convert
return jcr path
string safe jcr path safegetjcrpath item itemid
safe jcr path safegetjcrpath hier mgr hiermgr path getpath
repositori except repositoryexcept
log error fail determin path
return string represent fallback
string tostr
itemlifecyclelisten
inheritdoc
item creat itemcr item impl itemimpl item
log debug enabl isdebugen
log debug creat item item getid
add instanc cach
cach item cacheitem item
inheritdoc
item invalid iteminvalid item itemid item impl itemimpl item
log debug enabl isdebugen
log debug invalid item
remov instanc cach
evict item evictitem
inheritdoc
item destroi itemdestroi item itemid item impl itemimpl item
log debug enabl isdebugen
log debug destroi item
longer interest item
item remov life cycl listen removelifecyclelisten
remov instanc cach
evict item evictitem
dumpabl
inheritdoc
dump print stream printstream
println itemmanag
println
println item cach
println
iter iter item cach itemcach kei set keyset iter
iter hasnext
item itemid item itemid iter
item impl itemimpl item item impl itemimpl item cach itemcach
item node isnod
print node
print properti
item transient istransi
print transient
print
println item safe jcr path safegetjcrpath item
itemstatelisten
inheritdoc
state creat statecr item state itemst creat
item impl itemimpl item retriev item retrieveitem creat getid
item
item state creat statecr creat
inheritdoc
state modifi statemodifi item state itemst modifi
item impl itemimpl item retriev item retrieveitem modifi getid
item
item state modifi statemodifi modifi
inheritdoc
state destroi statedestroi item state itemst destroi
item impl itemimpl item retriev item retrieveitem destroi getid
item
item state destroi statedestroi destroi
inheritdoc
state discard statediscard item state itemst discard
item impl itemimpl item retriev item retrieveitem discard getid
item
item state discard statediscard discard
