org apach jackrabbit core
org apach jackrabbit api jsr283 secur access control except accesscontrolexcept
org apach jackrabbit api secur princip princip manag principalmanag
org apach jackrabbit api secur user authoriz
org apach jackrabbit api secur user group
org apach jackrabbit api secur user user manag usermanag
org apach jackrabbit core config access manag config accessmanagerconfig
org apach jackrabbit core config bean config beanconfig
org apach jackrabbit core config login modul config loginmoduleconfig
org apach jackrabbit core config secur config securityconfig
org apach jackrabbit core config workspac config workspaceconfig
org apach jackrabbit core config workspac secur config workspacesecurityconfig
org apach jackrabbit core secur context amcontext
org apach jackrabbit core secur access manag accessmanag
org apach jackrabbit core secur jackrabbit secur manag jackrabbitsecuritymanag
org apach jackrabbit core secur secur constant securityconst
org apach jackrabbit core secur authent auth context authcontext
org apach jackrabbit core secur authent auth context provid authcontextprovid
org apach jackrabbit core secur author access control provid accesscontrolprovid
org apach jackrabbit core secur author access control provid factori accesscontrolproviderfactori
org apach jackrabbit core secur author access control provid factori impl accesscontrolproviderfactoryimpl
org apach jackrabbit core secur author workspac access manag workspaceaccessmanag
org apach jackrabbit core secur princip default princip provid defaultprincipalprovid
org apach jackrabbit core secur princip princip impl principalimpl
org apach jackrabbit core secur princip princip manag impl principalmanagerimpl
org apach jackrabbit core secur princip princip provid principalprovid
org apach jackrabbit core secur princip princip provid registri principalproviderregistri
org apach jackrabbit core secur princip provid registri impl providerregistryimpl
org apach jackrabbit core secur user user manag impl usermanagerimpl
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr access deni except accessdeniedexcept
javax jcr credenti
javax jcr workspac except nosuchworkspaceexcept
javax jcr repositori
javax jcr repositori except repositoryexcept
javax jcr session
javax secur auth subject
java secur princip
java util hash map hashmap
java util iter
java util map
java util properti
java util set
secur manag act central manag class secur relat
oper low level protect level manag
link principalprovid
link accesscontrolprovid
link workspaceaccessmanag
link usermanag
default secur manag defaultsecuritymanag jackrabbit secur manag jackrabbitsecuritymanag
todo core secur packag protect access systemsess requir move
default logger
logger log logger factori loggerfactori logger getlogg default secur manag defaultsecuritymanag
initi
repositori implement
repositori impl repositoryimpl repositori
session system workspac
system session systemsess secur session securitysess
system user manag implement need defaultprincipalprovid
user manag usermanag system user manag systemusermanag
system session principalmangag intern access princip
princip manag principalmanag system princip manag systemprincipalmanag
user administr retriev
configur config entri miss default
link securityconst admin
string admin adminid
access control provid workspac
kei workspac
link accesscontrolprovid
map provid acprovid hash map hashmap
accesscontrolproviderfactori
access control provid factori accesscontrolproviderfactori provid factori acproviderfactori
configur workspaceaccessmanag
workspac access manag workspaceaccessmanag workspac access manag workspaceaccessmanag
princip provid registri
princip provid registri principalproviderregistri princip provid registri principalproviderregistri
factori login context repositori login
auth context provid authcontextprovid auth context provid authcontextprovid
jackrabbitsecuritymanag
jackrabbitsecuritymanag init repositori session
init repositori repositori session system session systemsess repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
repositori repositori impl repositoryimpl
repositori except repositoryexcept repositoryimpl expect
system session systemsess system session systemsess
repositori except repositoryexcept systemsess expect
secur session securitysess system session systemsess system session systemsess
repositori repositori impl repositoryimpl repositori
secur config securityconfig config repositori config getconfig secur config getsecurityconfig
login modul config loginmoduleconfig login mod conf loginmodconf config login modul config getloginmoduleconfig
build authcontextprovid base appnam option loginmoduleconfig
auth context provid authcontextprovid auth context provid authcontextprovid config app getappnam login mod conf loginmodconf
auth context provid authcontextprovid jaa isjaa
log info init jaa login configur config app getappnam
auth context provid authcontextprovid local isloc
log info init repositori login configur config app getappnam
string msg jaa repositoryconfig contain valid configuri config app getappnam
log error msg
repositori except repositoryexcept msg
properti modul config moduleconfig auth context provid authcontextprovid modul config getmoduleconfig
retriev default id admin anomym login modul configur
string anonym anonymousid
modul config moduleconfig length
modul config moduleconfig kei containskei login modul config loginmoduleconfig param admin param admin
admin adminid modul config moduleconfig properti getproperti login modul config loginmoduleconfig param admin param admin
modul config moduleconfig kei containskei login modul config loginmoduleconfig param anonym param anonym
anonym anonymousid modul config moduleconfig properti getproperti login modul config loginmoduleconfig param anonym param anonym
fallback
admin adminid
log debug adminid defin loginmodul jaa config default
admin adminid secur constant securityconst admin admin
anonym anonymousid
log debug anonymousid defin loginmodul jaa config anonym defin
creat system usermanag make system user exist
system user manag systemusermanag user manag impl usermanagerimpl secur session securitysess admin adminid
creat system user createsystemus admin adminid anonym anonymousid
init default provid factori
provid factori acproviderfactori access control provid factori impl accesscontrolproviderfactoryimpl
provid factori acproviderfactori init
creat evalutor workspac access
workspac access manag workspaceaccessmanag creat workspac access manag createworkspaceaccessmanag
initi principa provid registri
creat default
princip provid principalprovid default defaultpp default princip provid defaultprincipalprovid secur session securitysess user manag impl usermanagerimpl system user manag systemusermanag
default defaultpp init properti
creat registri instanc
princip provid registri principalproviderregistri provid registri impl providerregistryimpl default defaultpp
regist configur princip provid
modul config moduleconfig length
princip provid registri principalproviderregistri regist provid registerprovid modul config moduleconfig
creat princip manag secur workspac
system princip manag systemprincipalmanag princip manag impl principalmanagerimpl secur session securitysess princip provid registri principalproviderregistri provid getprovid
initi
jackrabbitsecuritymanag dispos string
dispos string workspac workspacenam
check initi checkiniti
provid acprovid
access control provid accesscontrolprovid prov access control provid accesscontrolprovid provid acprovid remov workspac workspacenam
prov
prov close
jackrabbitsecuritymanag close
close
check initi checkiniti
provid acprovid
iter itr provid acprovid valu iter
itr hasnext
access control provid accesscontrolprovid itr close
provid acprovid clear
jackrabbitsecuritymanag getsecurityconfig
secur config securityconfig secur config getsecurityconfig repositori except repositoryexcept
repositori config getconfig secur config getsecurityconfig
jackrabbitsecuritymanag getaccessmanag session amcontext
access manag accessmanag access manag getaccessmanag session session context amcontext context amcontext repositori except repositoryexcept
check initi checkiniti
access manag config accessmanagerconfig config amconfig secur config getsecurityconfig access manag config getaccessmanagerconfig
string wsp wspname session workspac getworkspac getnam
access control provid accesscontrolprovid access control provid getaccesscontrolprovid wsp wspname
access manag accessmanag access mgr accessmgr access manag accessmanag config amconfig instanc newinst
access mgr accessmgr init context amcontext workspac access manag workspaceaccessmanag
access mgr accessmgr
access deni except accessdeniedexcept ad
throw
ad
except
wrap repositoryexcept
string msg fail instanti accessmanag config amconfig class getclassnam
print stack trace printstacktrac
log error msg
repositori except repositoryexcept msg
jackrabbitsecuritymanag getprincipalmanag session
princip manag principalmanag princip manag getprincipalmanag session session
repositori except repositoryexcept
check initi checkiniti
session secur session securitysess
system princip manag systemprincipalmanag
session session impl sessionimpl
session impl sessionimpl impl simpl session impl sessionimpl session
princip manag impl principalmanagerimpl impl simpl princip provid registri principalproviderregistri provid getprovid
repositori except repositoryexcept intern error sessionimpl expect
jackrabbitsecuritymanag getusermanag session
user manag usermanag user manag getusermanag session session repositori except repositoryexcept
check initi checkiniti
session secur session securitysess
system user manag systemusermanag
session session impl sessionimpl
string workspac workspacenam secur session securitysess workspac getworkspac getnam
session impl sessionimpl impl simpl session impl sessionimpl session
session impl sessionimpl session impl sessionimpl impl simpl creat session createsess workspac workspacenam
user manag impl usermanagerimpl admin adminid
workspac except nosuchworkspaceexcept
access control except accesscontrolexcept build usermanag session user getuserid
repositori except repositoryexcept intern error sessionimpl expect
creat authcontext link credenti
link subject
includ select applic specif loginmodul
initi credenti session system workspac
return link authcontext credenti subject
throw repositoryexcept except repositori state
auth context authcontext auth context getauthcontext credenti cred subject subject
repositori except repositoryexcept
check initi checkiniti
auth context provid authcontextprovid auth context getauthcontext cred subject secur session securitysess princip provid registri principalproviderregistri
param wspname
return code workspacesecurityconfig code workspac
code null code
workspac secur config workspacesecurityconfig workspac secur config getworkspacesecurityconfig string wsp wspname
workspac config workspaceconfig conf repositori config getconfig workspac config getworkspaceconfig wsp wspname
conf
conf secur config getsecurityconfig
return access control provid
code workspacenam code
param workspacenam
return access control provid
throw nosuchworkspaceexcept workspac 'workspacename' exist
throw repositoryexcept
access control provid accesscontrolprovid access control provid getaccesscontrolprovid string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
provid acprovid
access control provid accesscontrolprovid provid access control provid accesscontrolprovid provid acprovid workspac workspacenam
provid
system session systemsess system session systemsess repositori system session getsystemsess workspac workspacenam
provid provid factori acproviderfactori creat provid createprovid system session systemsess workspac secur config getworkspacesecurityconfig workspac workspacenam
provid acprovid put workspac workspacenam provid
provid
return workspaceaccessmanag respons repositori
workspac access manag workspaceaccessmanag creat workspac access manag createworkspaceaccessmanag repositori except repositoryexcept
workspac access manag workspaceaccessmanag wsp access wspaccess
bean config beanconfig config repositori config getconfig secur config getsecurityconfig secur manag config getsecuritymanagerconfig workspac access config getworkspaceaccessconfig
config
wsp access wspaccess workspac access manag workspaceaccessmanag config instanc newinst
fallback default implement
log debug workspaceaccessmanag configur default
wsp access wspaccess workspac access manag impl workspaceaccessmanagerimpl
wsp access wspaccess init
wsp access wspaccess
make 'administrators' group exist user
configur default adminid member user group
param adminid
param anonymousid
throw repositoryexcept
creat system user createsystemus string admin adminid
string anonym anonymousid repositori except repositoryexcept
princip princip impl principalimpl secur constant securityconst administr administr
group admin group system user manag systemusermanag authoriz getauthoriz
admin
admin system user manag systemusermanag creat group creategroup princip impl principalimpl secur constant securityconst administr administr
log debug creat administr group secur constant securityconst administr administr
admin adminid
authoriz admin system user manag systemusermanag authoriz getauthoriz admin adminid
admin
admin system user manag systemusermanag creat user createus admin adminid admin adminid
log info creat admin user admin adminid
admin add member addmemb admin
log info ad admin admin adminid member administr group
anonym anonymousid
authoriz anonym system user manag systemusermanag authoriz getauthoriz anonym anonymousid
anonym
system user manag systemusermanag creat user createus anonym anonymousid
log info creat anonym user anonym anonymousid
check initi checkiniti
initi
illeg state except illegalstateexcept initi
class
code workspaceaccessmanag code link grant set princip string
evalu access root node workspac
grant
workspac access manag impl workspaceaccessmanagerimpl secur constant securityconst workspac access manag workspaceaccessmanag
workspaceaccessmanag
inheritdoc
init jackrabbit secur manag jackrabbitsecuritymanag secur manag securitymanag repositori except repositoryexcept
inheritdoc
close repositori except repositoryexcept
inheritdoc
grant set princip string workspac workspacenam repositori except repositoryexcept
access control provid accesscontrolprovid prov access control provid getaccesscontrolprovid workspac workspacenam
prov access root canaccessroot princip
workspac except nosuchworkspaceexcept
workspac return fals
