org apach jackrabbit core observ
org apach jackrabbit core hierarchi manag hierarchymanag
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core nodetyp node type impl nodetypeimpl
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit malform path except malformedpathexcept
org apach jackrabbit path
org apach jackrabbit qname
org apach log4j logger
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
javax jcr nodetyp node type nodetyp
javax jcr nodetyp node type manag nodetypemanag
java util arrai list arraylist
java util collect
java util iter
java util list
code eventstatecollect code class implement link eventst
object creat base link org apach jackrabbit core state itemst
pass link createeventst method
basic sequenc method call
link createeventst link addal creat add event
state collect
link prepar link preparedelet prepar event
step omit eventlisten event delet item
allow
link dispatch dispatch event eventlisten
event state collect eventstatecollect
logger instanc class
logger log logger logger getlogg event state collect eventstatecollect
list event
list event arrai list arraylist
code observationmanagerfactori code notifi eventlisten
observ manag factori observationmanagerfactori dispatch
session creat event
session impl sessionimpl session
creat empti code eventstatecollect code
param session session creat event
event state collect eventstatecollect observ manag factori observationmanagerfactori dispatch
session impl sessionimpl session
dispatch dispatch
session session
creat link eventst instanc code itemst code
code code
param rootnodeuuid uuid root node
param code itemst code
param provid code itemstateprovid code provid code itemst code
item contain code code collect
throw itemstateexcept error occur creat event
state item state
creat event state createeventst string root node uuid rootnodeuuid chang log changelog item state manag itemstatemanag provid item state except itemstateexcept
creat hierarchi manag base changelog
itemstateprovid
todo cachinghierarchymanag
chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
chang log base hierarchi mgr changelogbasedhierarchymgr root node uuid rootnodeuuid provid
session namespac resolv getnamespaceresolv
iter modifi state modifiedst hasnext
item state itemst state item state itemst
state node isnod
node chang
cover case
properti ad
properti remov
child node ad
child node remov
node move
node reorder
case detect ad delet state
propertyst
case detect ad delet state
nodest
case node chang node chang
child node renam node chang
node move case interest
node move
case node state state
parent node
node state nodest node state nodest state
overlai state hasoverlayedst
string parent uuid oldparentuuid overlai state getoverlayedst parent uuid getparentuuid
string parent uuid newparentuuid parent uuid getparentuuid
parent uuid newparentuuid
parent uuid oldparentuuid equal parent uuid newparentuuid
node move
gener node remov node ad event
node state nodest parent oldpar
parent oldpar node state nodest node nodeid parent uuid oldparentuuid
item state except nosuchitemstateexcept
parent delet retriev
share item state manag
parent oldpar node state nodest provid item state getitemst node nodeid parent uuid oldparentuuid
node type impl nodetypeimpl parent node type oldparentnodetyp node type getnodetyp parent oldpar session
path path newpath path getpath getid hmgr
path path oldpath zombi path getzombiepath getid hmgr
path oldpath equal path newpath
event add event state eventst child node remov childnoderemov parent uuid oldparentuuid
parent getpar path oldpath
uuid getuuid
path oldpath element getnameel
parent node type oldparentnodetyp
session
node state nodest parent newpar node state nodest node nodeid parent uuid newparentuuid
node type impl nodetypeimpl parent node type newparentnodetyp node type getnodetyp parent newpar session
event add event state eventst child node ad childnodead parent uuid newparentuuid
parent getpar path newpath
uuid getuuid
path newpath element getnameel
parent node type newparentnodetyp
session
log error unabl calcul path move node
move node modifi parent node
node state nodest parent
root node parent uuid
state parent uuid getparentuuid
parent node state nodest node nodeid state parent uuid getparentuuid
item state except nosuchitemstateexcept
happen
parent modifi node delet
string msg parent node state getid delet
log error msg
item state except itemstateexcept msg
parent
check node renam
node state nodest child node entri childnodeentri move
iter remov node removednod parent remov child node entri getremovedchildnodeentri iter remov node removednod hasnext
node state nodest child node entri childnodeentri child node state nodest child node entri childnodeentri remov node removednod
child uuid getuuid equal uuid getuuid
found node ad
move child
move
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
path path newpath path getpath state getid hmgr
path parent path parentpath parent getpar path newpath
path path oldpath
move index getindex
path oldpath path creat parent path parentpath move getnam
path oldpath path creat parent path parentpath move getnam move index getindex
malform path except malformedpathexcept
happen
string msg malform path item state getid
log error msg
item state except itemstateexcept msg
event add event state eventst child node remov childnoderemov parent uuid getuuid
parent path parentpath
uuid getuuid
path oldpath element getnameel
node type nodetyp
session
event add event state eventst child node ad childnodead parent uuid getuuid
parent path parentpath
uuid getuuid
path newpath element getnameel
node type nodetyp
session
check child node modifi node state reorder
list reorder reorder child node entri getreorderedchildnodeentri
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
reorder size
creat node remov node ad event
reorder
iter reorder iter hasnext
node state nodest child node entri childnodeentri child node state nodest child node entri childnodeentri
qname child getnam
index child index getindex child index getindex
path parent path parentpath path getpath getid hmgr
path path element pathel ad elem addedelem path creat index element getnameel
remov index
node state nodest overlai node state nodest overlai state getoverlayedst
node state nodest child node entri childnodeentri entri overlai child node entri getchildnodeentri child uuid getuuid
entri
item state except itemstateexcept unabl retriev child index item child uuid getuuid
index oldindex entri index getindex entri index getindex
path path element pathel remov elem removedelem path creat index oldindex element getnameel
event add event state eventst child node remov childnoderemov uuid getuuid
parent path parentpath
child uuid getuuid
remov elem removedelem
node type nodetyp
session
event add event state eventst child node ad childnodead uuid getuuid
parent path parentpath
child uuid getuuid
ad elem addedelem
node type nodetyp
session
properti chang
path path path getpath state getid hmgr
node state nodest parent node state nodest provid item state getitemst node nodeid state parent uuid getparentuuid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
event add event state eventst properti chang propertychang state parent uuid getparentuuid
parent getpar path
path element getnameel
node type nodetyp
session
iter ad state addedst hasnext
item state itemst state item state itemst
state node isnod
node creat
node state nodest node state nodest state
node nodeid parent parentid node nodeid parent uuid getparentuuid
node state nodest parent
unknown parent node
provid item state hasitemst parent parentid
parent node state nodest provid item state getitemst parent parentid
parent node state nodest parent parentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
path path path getpath getid hmgr
event add event state eventst child node ad childnodead parent uuid getparentuuid
parent getpar path
uuid getuuid
path element getnameel
node type nodetyp
session
properti creat set
node state nodest node state nodest node nodeid state parent uuid getparentuuid
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
path path path getpath state getid hmgr
event add event state eventst properti ad propertyad state parent uuid getparentuuid
parent getpar path
path element getnameel
node type nodetyp
session
iter delet state deletedst hasnext
item state itemst state item state itemst
state node isnod
node delet
node state nodest node state nodest state
node state nodest parent node state nodest provid item state getitemst node nodeid parent uuid getparentuuid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
path path zombi path getzombiepath state getid hmgr
event add event state eventst child node remov childnoderemov parent uuid getparentuuid
parent getpar path
uuid getuuid
path element getnameel
node type nodetyp
session
properti remov
creat event node exist
node state nodest node state nodest node nodeid state parent uuid getparentuuid
node state exist properti remov
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
path path zombi path getzombiepath state getid hmgr
event add event state eventst properti remov propertyremov state parent uuid getparentuuid
parent getpar path
path element getnameel
node type nodetyp
session
item state except nosuchitemstateexcept
node remov creat event
add event state collect collect
param
add addal collect
event add addal
prepar ad event dispatch
prepar
dispatch prepar event prepareev
prepar delet item code code
param prepar
prepar delet preparedelet chang log changelog
dispatch prepar delet preparedelet
dispatch event link javax jcr observ eventlisten
dispatch
dispatch dispatch event dispatchev
return iter link eventst instanc
return iter link eventst instanc
iter iter
event iter
resolv node type code node code link nodetyp
object link nodetypemanag code session code
param node node
param session session
return link nodetyp code node code
throw itemstateexcept nodetyp resolv
node type impl nodetypeimpl node type getnodetyp node state nodest node session impl sessionimpl session
item state except itemstateexcept
session node type manag getnodetypemanag node type getnodetyp node node type getnodetypenam
except
catch eventu runtim except
happen
string msg item node getid unknown node type node node type getnodetypenam
log error msg
item state except itemstateexcept msg
return path parent node node code path code
param path
return parent path
throw itemstateexcept code code parent
path code code design root
path parent getpar path item state except itemstateexcept
ancestor getancestor
path found except pathnotfoundexcept
happen
string msg unabl resolv parent path
log error msg
item state except itemstateexcept msg
resolv path item code itemid code
param itemid item
return path item
throw itemstateexcept path resolv
path path getpath item itemid item itemid hierarchi manag hierarchymanag hmgr
item state except itemstateexcept
hmgr path getpath item itemid
repositori except repositoryexcept
happen
string msg unabl resolv path item item itemid
log error msg
item state except itemstateexcept msg
resolv zombi path item
code itemid code
param itemid item
return path item
throw itemstateexcept path resolv
path zombi path getzombiepath item itemid item itemid chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
item state except itemstateexcept
hmgr zombi path getzombiepath item itemid
repositori except repositoryexcept
happen
string msg unabl resolv zombi path item item itemid
log error msg
item state except itemstateexcept msg
