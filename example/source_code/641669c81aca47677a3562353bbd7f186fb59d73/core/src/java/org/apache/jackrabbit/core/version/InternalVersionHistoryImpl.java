org apach jackrabbit core version
org apach jackrabbit constant
org apach jackrabbit core node impl nodeimpl
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core intern internalvalu
org apach jackrabbit qname
org apach jackrabbit uuid uuid
org apach log4j logger
javax jcr properti type propertytyp
javax jcr referenti integr except referentialintegrityexcept
javax jcr repositori except repositoryexcept
javax jcr
javax jcr version version except versionexcept
java util calendar
java util hash map hashmap
java util iter
java util list
java util set
implement code internalversionhistori code
intern version histori impl internalversionhistoryimpl intern version item impl internalversionitemimpl
intern version histori internalversionhistori constant
default logger
logger log logger logger getlogg intern version histori internalversionhistori
cach version label
kei version label string
version
hash map hashmap label cach labelcach hash map hashmap
root version histori
intern version internalvers root version rootvers
hashmap version
kei versionid string
version
hash map hashmap version cach versioncach hash map hashmap
node state version histori
node state nodestateex node
node hold label node
node state nodestateex label node labelnod
histori
string histori historyid
version node
string version versionableid
creat versionhistori object node state
intern version histori impl internalversionhistoryimpl version manag impl versionmanagerimpl mgr vmgr node state nodestateex node
repositori except repositoryexcept
mgr vmgr
node node
init
initiali histori load intern cach
throw repositoryexcept
init repositori except repositoryexcept
version cach versioncach clear
label cach labelcach clear
histori historyid node uuid getuuid
version
version versionableid string node properti getpropertyvalu jcr versionableuuid jcr versionableuuid intern internalvalu
entri
node state nodestateex children node child node getchildnod
children length
node state nodestateex child children
child getnam equal jcr versionlabel jcr versionlabel
label node labelnod child
intern version impl internalversionimpl intern version impl internalversionimpl child child getnam
version cach versioncach put getid
root version isrootvers
root version rootvers
resolv successor predecessor
iter iter version cach versioncach valu iter
iter hasnext
intern version impl internalversionimpl intern version impl internalversionimpl iter
resolv predecessor resolvepredecessor
init label cach
properti state propertyst label label node labelnod properti getproperti
label length
properti state propertyst state pstate label
state pstate type gettyp properti type propertytyp refer
qname state pstate getnam
uuid ref uuid state pstate valu getvalu intern internalvalu
intern version impl internalversionimpl intern version impl internalversionimpl version getvers ref string tostr
label cach labelcach put
intern add label internaladdlabel
item state except itemstateexcept
repositori except repositoryexcept
inheritdoc
string getid
histori historyid
inheritdoc
intern version item internalversionitem parent getpar
inheritdoc
intern version internalvers root version getrootvers
root version rootvers
inheritdoc
intern version internalvers version getvers qname version versionnam version except versionexcept
add cach
iter iter version cach versioncach valu iter
iter hasnext
intern version internalvers intern version internalvers iter
getnam equal version versionnam
version except versionexcept version version versionnam exist
inheritdoc
version hasvers qname version versionnam
add cach
iter iter version cach versioncach valu iter
iter hasnext
intern version internalvers intern version internalvers iter
getnam equal version versionnam
inheritdoc
version hasvers string uuid
version cach versioncach kei containskei uuid
inheritdoc
intern version internalvers version getvers string uuid
intern version internalvers version cach versioncach uuid
inheritdoc
intern version internalvers version label getversionbylabel qname label
intern version internalvers label cach labelcach label
inheritdoc
iter version getvers
version cach versioncach valu iter
inheritdoc
num version getnumvers
version cach versioncach size
inheritdoc
string version uuid getversionableuuid
version versionableid
inheritdoc
qname version label getversionlabel
qname label cach labelcach kei set keyset arrai toarrai qname label cach labelcach size
inheritdoc
string version label uuid getversionlabelsuuid
label node labelnod uuid getuuid
remov version versionhistori
vesion exist specifi root version
referenc node base version versionexcept thrown
successor remov version successor
predecessor remov version vice versa entir
version node subnod remov
param versionnam
throw versionexcept
remov version removevers qname version versionnam repositori except repositoryexcept
intern version impl internalversionimpl intern version impl internalversionimpl version getvers version versionnam
equal root version rootvers
string msg remov version versionnam allow
log debug msg
version except versionexcept msg
check refer version storag exist version
list ref version manag getversionmanag item refer getitemrefer
ref empti isempti
referenti integr except referentialintegrityexcept unabl remov version referenc
remov persist state
node remov node removenod getnam
unregist label
qname label intern label internalgetlabel
label length
intern remov label internalremovelabel label
label node labelnod remov properti removeproperti label
detach version graph
intern detach internaldetach
remov histori
version cach versioncach remov getid
store
node store
set version code label code code version code
label assign version versionexcept
thrown code move code code true code code version code
code null code label remov respect version
case version label previous assign return
code null code label move
param versionnam version
param label label assgign
param move flag collis
return version previous assign label code null code
throw versionexcept
intern version internalvers set version label setversionlabel qname version versionnam qname label move
version except versionexcept
intern version internalvers version
version versionnam version getvers version versionnam
version versionnam version
version except versionexcept version version versionnam exist version histori
intern version impl internalversionimpl prev intern version impl internalversionimpl label cach labelcach label
prev
version
prev equal version
version
move
defin throw
version except versionexcept version label label defin version prev getnam
updat persist
version
label node labelnod remov properti removeproperti label
label node labelnod set properti setpropertyvalu label intern internalvalu creat uuid version getid
label node labelnod store
repositori except repositoryexcept
version except versionexcept
updat intern structur
prev
prev intern remov label internalremovelabel label
label cach labelcach remov label
version
label cach labelcach put label version
intern version impl internalversionimpl version intern add label internaladdlabel label
prev
check node creat version freez
state node
param
param src
return
throw repositoryexcept
intern version impl internalversionimpl checkin qname node impl nodeimpl src
repositori except repositoryexcept
copi predecessor src node
pred src properti getproperti jcr predecessor jcr predecessor valu getvalu
intern internalvalu predecessor intern internalvalu pred length
pred length
string pred predid pred string getstr
check version exist
version cach versioncach kei containskei pred predid
repositori except repositoryexcept invalid predecessor sourc node
predecessor intern internalvalu creat uuid pred predid
string version versionid uuid random uuid randomuuid string tostr
node state nodestateex node vnode node add node addnod version version version versionid
initi 'created' 'predecessors'
node vnode set properti setpropertyvalu jcr creat jcr creat intern internalvalu creat calendar instanc getinst
node vnode set properti valu setpropertyvalu jcr predecessor jcr predecessor properti type propertytyp refer predecessor
initi 'empty' successor valu dynam resolv
node vnode set properti valu setpropertyvalu jcr successor jcr successor properti type propertytyp refer intern internalvalu empti arrai empti arrai
checkin sourc node
intern frozen node impl internalfrozennodeimpl checkin node vnode jcr frozennod jcr frozennod src
updat version graph
intern version impl internalversionimpl version intern version impl internalversionimpl node vnode
version resolv predecessor resolvepredecessor
store
node store
updat cach
version cach versioncach put version getid version
version
creat code internalversionhistori code parent
node
param parent
param
return
throw repositoryexcept
intern version histori impl internalversionhistoryimpl creat version manag impl versionmanagerimpl mgr vmgr
node state nodestateex parent
string histori historyid qname
node state nodest node state nodest
repositori except repositoryexcept
creat histori node
node state nodestateex node pnode parent add node addnod versionhistori versionhistori histori historyid
set version uuid
node pnode set properti setpropertyvalu jcr versionableuuid jcr versionableuuid intern internalvalu creat node state nodest uuid getuuid
creat label node
node pnode add node addnod jcr versionlabel jcr versionlabel versionlabel versionlabel
creat root version
string version versionid uuid random uuid randomuuid string tostr
node state nodestateex node vnode node pnode add node addnod jcr rootvers jcr rootvers version version version versionid
initi 'created' 'predecessors'
node vnode set properti setpropertyvalu jcr creat jcr creat intern internalvalu creat calendar instanc getinst
node vnode set properti valu setpropertyvalu jcr predecessor jcr predecessor properti type propertytyp refer intern internalvalu empti arrai empti arrai
node vnode set properti valu setpropertyvalu jcr successor jcr successor properti type propertytyp refer intern internalvalu empti arrai empti arrai
add empti frozen node root version
node state nodestateex node node vnode add node addnod jcr frozennod jcr frozennod frozennod frozennod
initi intern properti
node set properti setpropertyvalu jcr frozenuuid jcr frozenuuid intern internalvalu creat node state nodest uuid getuuid
node set properti setpropertyvalu jcr frozenprimarytyp jcr frozenprimarytyp
intern internalvalu creat node state nodest node type getnodetypenam
set mixin node state nodest mixin type name getmixintypenam
mixin size
intern internalvalu ivalu intern internalvalu mixin size
iter iter mixin iter
mixin size
ivalu intern internalvalu creat qname iter
node set properti valu setpropertyvalu jcr frozenmixintyp jcr frozenmixintyp properti type propertytyp ivalu
parent store
intern version histori impl internalversionhistoryimpl mgr vmgr node pnode
