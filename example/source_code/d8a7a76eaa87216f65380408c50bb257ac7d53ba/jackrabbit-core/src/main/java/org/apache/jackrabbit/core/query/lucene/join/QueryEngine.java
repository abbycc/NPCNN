org apach jackrabbit core queri lucen join
javax jcr queri qom queri object model constant queryobjectmodelconst jcr join type left outer jcr join type left outer
javax jcr queri qom queri object model constant queryobjectmodelconst jcr join type outer jcr join type outer
javax jcr queri qom queri object model constant queryobjectmodelconst jcr order descend jcr order descend
java except ioexcept
java util arrai list arraylist
java util arrai
java util collect
java util compar
java util link hash map linkedhashmap
java util list
java util map
java util set
java util tree set treeset
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr unsupport repositori oper except unsupportedrepositoryoperationexcept
javax jcr
javax jcr factori valuefactori
javax jcr workspac
javax jcr nodetyp node type except nosuchnodetypeexcept
javax jcr nodetyp node type nodetyp
javax jcr nodetyp node type manag nodetypemanag
javax jcr nodetyp properti definit propertydefinit
javax jcr queri invalid queri except invalidqueryexcept
javax jcr queri queri result queryresult
javax jcr queri row
javax jcr queri row iter rowiter
javax jcr queri qom column
javax jcr queri qom constraint
javax jcr queri qom join
javax jcr queri qom operand
javax jcr queri qom order
javax jcr queri qom properti propertyvalu
javax jcr queri qom queri object model factori queryobjectmodelfactori
javax jcr queri qom selector
javax jcr queri qom sourc
org apach common util ioutil
org apach jackrabbit common jcr util jcrutil
org apach jackrabbit common iter row iter adapt rowiteratoradapt
org apach jackrabbit common queri qom operand evalu operandevalu
org apach jackrabbit core queri lucen lucen queri factori lucenequeryfactori
org slf4j logger
org slf4j logger factori loggerfactori
queri engin queryengin
logger instanc class
logger log logger factori loggerfactori logger getlogg queri engin queryengin
print indent step printindentstep
row compar
row compar rowcompar compar row
compar valuecompar compar compar valuecompar
order order
operand evalu operandevalu evalu
row compar rowcompar order order operand evalu operandevalu evalu
order order
evalu evalu
compar row row
order order order
operand operand order operand getoperand
evalu valu getvalu operand
evalu valu getvalu operand
compar
jcr order descend jcr order descend equal order order getord
repositori except repositoryexcept
runtim except runtimeexcept
unabl compar row
compar
length length
compar compar
length length
lucen queri factori lucenequeryfactori lqf
node type manag nodetypemanag manag ntmanag
queri object model factori queryobjectmodelfactori qom factori qomfactori
factori valuefactori factori valuefactori
operand evalu operandevalu evalu
queri engin queryengin session session lucen queri factori lucenequeryfactori lqf
map string variabl repositori except repositoryexcept
lqf lqf
workspac workspac session workspac getworkspac
manag ntmanag workspac node type manag getnodetypemanag
qom factori qomfactori workspac queri manag getquerymanag qom factori getqomfactori
factori valuefactori session factori getvaluefactori
evalu operand evalu operandevalu factori valuefactori variabl
queri result queryresult execut column column sourc sourc
constraint constraint order order offset limit
repositori except repositoryexcept
time system current time milli currenttimemilli
queri result queryresult execut column sourc constraint order
offset limit
log debug enabl isdebugen
time system current time milli currenttimemilli time
log debug sql2 queri execut time
queri result queryresult execut column column sourc sourc
constraint constraint order order offset
limit print indent printindent repositori except repositoryexcept
sourc selector
execut column selector sourc constraint order
offset limit print indent printindent
sourc join
execut column join sourc constraint order
offset limit print indent printindent
unsupport repositori oper except unsupportedrepositoryoperationexcept
unknown sourc type sourc
queri result queryresult execut column column join join
constraint constraint order order offset
limit print indent printindent repositori except repositoryexcept
swap join sourc normal outer join left
jcr join type outer jcr join type outer equal ignor case equalsignorecas join join type getjointyp
log debug enabl isdebugen
log debug gen string genstr print indent printindent
sql2 outer join transform left outer join
join join betterjoin qom factori qomfactori join join getright join left getleft
jcr join type left outer jcr join type left outer join join condit getjoincondit
execut column join betterjoin constraint order offset
limit print indent printindent
join merger joinmerg merger join merger joinmerg join merger getjoinmerg join
column map getcolumnmap column selector name getselectornam join evalu
qom factori qomfactori
constraint splitter constraintsplitt splitter constraint splitter constraintsplitt constraint
qom factori qomfactori merger left selector getleftselector
merger selector getrightselector join
constraint split info constraintsplitinfo info csinfo splitter constraint split info getconstraintsplitinfo
log queri analysi logqueryanalysi info csinfo print indent printindent
time join left side timejoinleftsid system current time milli currenttimemilli
compar row left leftco row path compar rowpathcompar
merger left selector getleftselector
set row left row leftrow build left row join buildleftrowsjoin info csinfo left leftco print indent printindent
print indent step printindentstep
log debug enabl isdebugen
time join left side timejoinleftsid system current time milli currenttimemilli time join left side timejoinleftsid
log debug gen string genstr print indent printindent sql2 join left side
time join left side timejoinleftsid fetch left row leftrow size
row
join constraint inform split
rightconstraint select 'on' constraint
csinfo 'where' constraint
case outer join run queri 'on'
'on' 'where' condit
merg time case outer join
'null' row bad row return
end
rightrowsset 'on' dataset
excludingouterjoinrowsset 'on' 'where' condit dataset
null 'where' condit
time join side timejoinrightsid system current time milli currenttimemilli
list constraint constraint rightconstraint merger
join constraint getrightjoinconstraint left row leftrow
compar row rightco row path compar rowpathcompar
merger selector getrightselector
outer join isouterjoin jcr join type left outer jcr join type left outer equal ignor case equalsignorecas join
join type getjointyp
set row row rightrow build row join buildrightrowsjoin info csinfo constraint rightconstraint outer join isouterjoin
rightco print indent printindent print indent step printindentstep
initi null
set row exclud outer join row set excludingouterjoinrowsset
outer join isouterjoin info csinfo constraint getrightconstraint
exclud outer join row set excludingouterjoinrowsset build row join buildrightrowsjoin info csinfo
constraint rightconstraint rightco print indent printindent
print indent step printindentstep
log debug enabl isdebugen
time join side timejoinrightsid system current time milli currenttimemilli time join side timejoinrightsid
log debug gen string genstr print indent printindent
sql2 join side time join side timejoinrightsid
fetch row rightrow size row
time merg sort timemergeandsort system current time milli currenttimemilli
merg left dataset
queri result queryresult result merger merg row iter adapt rowiteratoradapt left row leftrow
row iter adapt rowiteratoradapt row rightrow exclud outer join row set excludingouterjoinrowsset
rightco
queri result queryresult sort result sortedresult sort result order evalu offset
limit
log debug enabl isdebugen
time merg sort timemergeandsort system current time milli currenttimemilli time merg sort timemergeandsort
log debug gen string genstr print indent printindent
sql2 join merg sort time merg sort timemergeandsort
sort result sortedresult
set row build left row join buildleftrowsjoin constraint split info constraintsplitinfo csi
compar row compar print indent printindent
repositori except repositoryexcept
csi multipl ismultipl
log debug enabl isdebugen
log debug gen string genstr print indent printindent
sql2 join left side multipl split
set row left row leftrow tree set treeset row compar
csi left constraint getleftinnerconstraint left constraint ishasleftconstraint
left row leftrow add addal build left row join buildleftrowsjoin
csi left constraint getleftinnerconstraint compar
print indent printindent print indent step printindentstep
csi constraint getrightinnerconstraint left constraint ishasleftconstraint
left row leftrow add addal build left row join buildleftrowsjoin
csi constraint getrightinnerconstraint compar
print indent printindent print indent step printindentstep
left row leftrow
set row left row leftrow tree set treeset row compar
queri result queryresult left result leftresult execut csi sourc getsourc left getleft
csi left constraint getleftconstraint print indent printindent
row row jcr util jcrutil row getrow left result leftresult
left row leftrow add row
left row leftrow
param csi
'where' constraint sourc inform
param rightconstraint
'on' constraint
param ignorewhereconstraint
param compar
merg similar row
param printindent
log
return side dataset join oper
throw repositoryexcept
set row build row join buildrightrowsjoin constraint split info constraintsplitinfo csi
list constraint constraint rightconstraint ignor constraint ignorewhereconstraint
compar row compar print indent printindent
repositori except repositoryexcept
csi multipl ismultipl
log debug enabl isdebugen
log debug gen string genstr print indent printindent
sql2 join side multipl split
set row row rightrow tree set treeset row compar
row rightrow add addal build row join buildrightrowsjoin
csi left constraint getleftinnerconstraint constraint rightconstraint
ignor constraint ignorewhereconstraint compar print indent printindent
print indent step printindentstep
row rightrow add addal build row join buildrightrowsjoin
csi constraint getrightinnerconstraint constraint rightconstraint
ignor constraint ignorewhereconstraint compar print indent printindent
print indent step printindentstep
row rightrow
constraint rightconstraint size
set row row rightrow tree set treeset row compar
list constraint local contraint localrightcontraint constraint rightconstraint
constraint constraint rightconstraint constraint qom factori qomfactori
constraint qom factori qomfactori local contraint localrightcontraint
csi constraint getrightconstraint
ignor constraint ignorewhereconstraint
constraint rightconstraint constraint qom factori qomfactori
local contraint localrightcontraint
queri result queryresult result rightresult execut csi sourc getsourc getright
constraint rightconstraint print indent printindent
row row jcr util jcrutil row getrow result rightresult
row rightrow add row
row rightrow
'batch 500' approach
set row row rightrow tree set treeset row compar
constraint rightconstraint size
log debug enabl isdebugen
log debug gen string genstr print indent printindent
sql2 join side execut batch
list constraint local contraint localrightcontraint constraint rightconstraint list sublist
math min constraint rightconstraint size
constraint constraint rightconstraint constraint qom factori qomfactori
constraint qom factori qomfactori local contraint localrightcontraint
csi constraint getrightconstraint
ignor constraint ignorewhereconstraint
constraint rightconstraint constraint qom factori qomfactori
local contraint localrightcontraint
queri result queryresult result rightresult execut csi sourc getsourc getright
constraint rightconstraint print indent printindent
row row jcr util jcrutil row getrow result rightresult
row rightrow add row
row rightrow
string gen string genstr len
string builder stringbuild string builder stringbuild
len
append
string tostr
log queri analysi logqueryanalysi constraint split info constraintsplitinfo csi
print indent printindent repositori except repositoryexcept
log debug enabl isdebugen
string builder stringbuild string builder stringbuild
append gen string genstr print indent printindent
append sql2 join analysi
append util ioutil line separ line separ
append constraint split info string constraintsplitinfotostr csi
log debug string tostr
string constraint split info string constraintsplitinfotostr constraint split info constraintsplitinfo csi
print indent printindent repositori except repositoryexcept
csi multipl ismultipl
string builder stringbuild string builder stringbuild
append gen string genstr print indent printindent
append sql2 join split
append util ioutil line separ line separ
append gen string genstr print indent printindent
append
append util ioutil line separ line separ
append constraint split info string constraintsplitinfotostr
csi left constraint getleftinnerconstraint print indent printindent
print indent step printindentstep
append util ioutil line separ line separ
append gen string genstr print indent printindent
append
append util ioutil line separ line separ
append constraint split info string constraintsplitinfotostr
csi constraint getrightinnerconstraint print indent printindent
print indent step printindentstep
string tostr
string builder stringbuild string builder stringbuild
append gen string genstr print indent printindent
append sql2 join sourc
append csi sourc getsourc
append util ioutil line separ line separ
append gen string genstr print indent printindent
append sql2 join left constraint
append csi left constraint getleftconstraint
append util ioutil line separ line separ
append gen string genstr print indent printindent
append sql2 join constraint
append csi constraint getrightconstraint
string tostr
queri result queryresult execut column column selector selector
constraint constraint order order offset
limit print indent printindent repositori except repositoryexcept
time system current time milli currenttimemilli
map string node type nodetyp selector map selectormap selector name getselectornam selector
string selector name selectornam selector map selectormap kei set keyset arrai toarrai
string selector map selectormap size
map string properti propertyvalu column map columnmap column map getcolumnmap column
selector map selectormap
string column name columnnam column map columnmap kei set keyset arrai toarrai
string column map columnmap size
row iter rowiter row row iter adapt rowiteratoradapt lqf execut column map columnmap
selector constraint
queri result queryresult result simpl queri result simplequeryresult column name columnnam
selector name selectornam row
sort result order evalu offset limit
except ioexcept
repositori except repositoryexcept fail access queri index
log debug enabl isdebugen
time system current time milli currenttimemilli time
log debug gen string genstr print indent printindent sql2 select
time selector selector
column arrai string tostr column name columnnam
constraint constraint
map string properti propertyvalu column map getcolumnmap
column column map string node type nodetyp selector
repositori except repositoryexcept
map string properti propertyvalu map
link hash map linkedhashmap string properti propertyvalu
column column length
column length
string column column getcolumnnam
map put qom factori qomfactori properti propertyvalu
column selector getselectornam
column properti getpropertynam
string selector column selector getselectornam
map put putal column map getcolumnmap selector selector selector
map entri string node type nodetyp selector selector entri set entryset
map put putal column map getcolumnmap
selector kei getkei selector getvalu
map
map string properti propertyvalu column map getcolumnmap
string selector node type nodetyp type repositori except repositoryexcept
map string properti propertyvalu map
link hash map linkedhashmap string properti propertyvalu
properti definit propertydefinit definit type properti definit getpropertydefinit
string definit getnam
definit multipl ismultipl equal
todo add proper quot
map put selector
qom factori qomfactori properti propertyvalu selector
map
map string node type nodetyp selector name getselectornam sourc sourc
repositori except repositoryexcept
sourc selector
selector selector selector sourc
collect singleton map singletonmap
selector selector getselectornam node type getnodetyp selector
sourc join
join join join sourc
map string node type nodetyp map link hash map linkedhashmap string node type nodetyp
map put putal selector name getselectornam join left getleft
map put putal selector name getselectornam join getright
map
unsupport repositori oper except unsupportedrepositoryoperationexcept
unknown sourc type sourc
node type nodetyp node type getnodetyp selector selector repositori except repositoryexcept
manag ntmanag node type getnodetyp selector node type getnodetypenam
node type except nosuchnodetypeexcept
invalid queri except invalidqueryexcept
select node type exist selector
sort queri result qom order
order method iter
entir origin result set order collect row
return result set base sort collect row
param result origin queri result
param order qom order
param offset result offset
param limit result limit
return sort queri result
throw repositoryexcept result sort
queri result queryresult sort queri result queryresult result
order order operand evalu operandevalu evalu
offset limit repositori except repositoryexcept
order order length
offset limit
list row row arrai list arraylist row
row iter rowiter iter result row getrow
iter hasnext
row add iter row nextrow
order order length
collect sort row row compar rowcompar order evalu
offset
size row size
row row list sublist math min offset size size
limit
size row size
row row list sublist math min limit size
simpl queri result simplequeryresult
result column name getcolumnnam result selector name getselectornam
row iter adapt rowiteratoradapt row
result
