deadlock insid xasess weblog
client deploy weblog observ jackrabbit session stale load test observ releas migrat due concurr relat issu jcr jcr effect
final reproduc issu local boil wl invok sequenc prepar releas commit session multipl thread break assumpt thread bound java util concurr rwlock base defaultismlock class
effect setactivexid method defaultismlock rwlock fail activ xid clear result session deadlock below' invoc stack
code
activ executethread '27' queue 'weblog kernel default tune daemon prio tid 0x33fc3ec0 nid 0x2324 object wait 0x2156a000 0x2156beb0 java lang object wait nativ method wait 0x68a54698 oswego util concurr writerpreferencereadwritelock writerlock java lang object wait object java oswego util concurr writerpreferencereadwritelock writerlock acquir unknown sourc lock 0x68a54698 oswego util concurr writerpreferencereadwritelock writerlock org apach jackrabbit core state defaultismlock init defaultismlock java org apach jackrabbit core state defaultismlock acquirewritelock defaultismlock java org apach jackrabbit core version abstractversionmanag acquirewritelock abstractversionmanag java org apach jackrabbit core version xaversionmanag prepar xaversionmanag java org apach jackrabbit core transactioncontext prepar transactioncontext java lock 0x6dc2ad88 org apach jackrabbit core transactioncontext org apach jackrabbit core xasessionimpl prepar xasessionimpl java org apach jackrabbit jca transactionboundxaresourc prepar transactionboundxaresourc java weblog connector secur layer adapterlay prepar adapterlay java weblog connector transact outbound xawrapp prepar xawrapp java weblog transact intern xaserverresourceinfo prepar xaserverresourceinfo java weblog transact intern xaserverresourceinfo prepar xaserverresourceinfo java weblog transact intern serverscinfo execut serverscinfo java weblog kernel kernel executeifidl kernel java weblog transact intern serverscinfo startprepar serverscinfo java weblog transact intern servertransactionimpl localprepar servertransactionimpl java weblog transact intern servertransactionimpl globalprepar servertransactionimpl java weblog transact intern servertransactionimpl internalcommit servertransactionimpl java weblog transact intern servertransactionimpl commit servertransactionimpl java weblog transact intern transactionmanagerimpl commit transactionmanagerimpl java org springframework transact jta jtatransactionmanag docommit jtatransactionmanag java org springframework transact support abstractplatformtransactionmanag processcommit abstractplatformtransactionmanag java org springframework transact support abstractplatformtransactionmanag commit abstractplatformtransactionmanag java
code
