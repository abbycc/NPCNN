org apach jackrabbit core cluster
java util collect
java util hash map hashmap
java util list
java util map
java util concurr atom atom integ atomicinteg
javax jcr repositori except repositoryexcept
org apach jackrabbit core cluster workspac record workspacerecord creat workspac action createworkspaceact
org apach jackrabbit core config cluster config clusterconfig
org apach jackrabbit core node nodeid
org apach jackrabbit core journal abstract journal abstractjourn
org apach jackrabbit core journal instanc revis instancerevis
org apach jackrabbit core journal journal
org apach jackrabbit core journal journal except journalexcept
org apach jackrabbit core journal record
org apach jackrabbit core journal record consum recordconsum
org apach jackrabbit core journal record produc recordproduc
org apach jackrabbit core nodetyp invalid node type def except invalidnodetypedefexcept
org apach jackrabbit core observ event state eventst
org apach jackrabbit core state chang log changelog
org apach jackrabbit core version intern version manag impl internalversionmanagerimpl
org apach jackrabbit core xml clone input sourc clonedinputsourc
org apach jackrabbit spi privileg definit privilegedefinit
org apach jackrabbit spi node type definit qnodetypedefinit
org slf4j logger
org slf4j logger factori loggerfactori
oswego util concurr latch
oswego util concurr mutex
default cluster node implement
cluster node clusternod runnabl
namespac event channel namespaceeventchannel node type event channel nodetypeeventchannel record consum recordconsum
cluster record processor clusterrecordprocessor workspac event channel workspaceeventchannel privileg event channel privilegeeventchannel
system properti node
string system properti node system properti node org apach jackrabbit core cluster node
produc identifi
string produc produc
statu constant
statu constant
start
statu constant
stop
logger
logger log logger factori loggerfactori logger getlogg cluster node clusternod
cluster context
cluster context clustercontext cluster context clustercontext
cluster node
string cluster node clusternodeid
synchron delai millisecond
sync delai syncdelai
stop delai millisecond
stop delai stopdelai
journal
journal journal
synchron thread
thread sync thread syncthread
mutex sync
mutex sync lock synclock mutex
latch commun stop request synchron thread
latch stop latch stoplatch latch
sync counter avoid repeat sync call pile
updat critic section guard link synclock
apach jackrabbit
href http issu apach org jira brows jcr jcr
atom integ atomicinteg sync count synccount atom integ atomicinteg
statu flag link link start link stop
statu
map lock listen index workspac
map string lock event listen lockeventlisten wsp lock listen wsplocklisten hash map hashmap string lock event listen lockeventlisten
map updat listen index workspac
map string updat event listen updateeventlisten wsp updat listen wspupdatelisten hash map hashmap string updat event listen updateeventlisten
version updat listen
updat event listen updateeventlisten version updat listen versionupdatelisten
namespac listen
namespac event listen namespaceeventlisten namespac listen namespacelisten
creat workspac listen
workspac listen workspacelisten creat workspac listen createworkspacelisten
node type listen
node type event listen nodetypeeventlisten node type listen nodetypelisten
privileg listen
privileg event listen privilegeeventlisten privileg listen privilegelisten
instanc revis manag
instanc revis instancerevis instanc revis instancerevis
record produc
record produc recordproduc produc
record deseri
cluster record deseri clusterrecorddeseri deseri cluster record deseri clusterrecorddeseri
flag indic sync manual
disabl auto sync disableautosync
initi cluster node
param clustercontext cluster context
throw clusterexcept error occur
init cluster context clustercontext cluster context clustercontext cluster except clusterexcept
cluster context clustercontext cluster context clustercontext
init
initi cluster node overrid
throw clusterexcept error occur
init cluster except clusterexcept
cluster config clusterconfig cluster context clustercontext cluster config getclusterconfig
cluster node clusternodeid getid
sync delai syncdelai sync delai getsyncdelai
journal journal getjourn cluster context clustercontext namespac resolv getnamespaceresolv
instanc revis instancerevis journal instanc revis getinstancerevis
journal regist
produc journal produc getproduc produc produc
repositori except repositoryexcept
cluster except clusterexcept
cluster initi fail
journal except journalexcept
cluster except clusterexcept
journal initi fail
set stop delai number millsecond wait
synchron thread stop
param stopdelai stop delai millisecond
set stop delai setstopdelai stop delai stopdelai
stop delai stopdelai stop delai stopdelai
return stop delai
return stop delai
setstopdelai long
stop delai getstopdelai
stop delai stopdelai
disabl period background synchron test purpos
disabl auto sync disableautosync
disabl auto sync disableautosync
start cluster node
throw clusterexcept error occur
start cluster except clusterexcept
statu
sync
disabl auto sync disableautosync
thread thread clusternod cluster node clusternodeid
set daemon setdaemon
start
sync thread syncthread
statu start
run loop sync node delai
run
stop latch stoplatch attempt sync delai syncdelai
interrupt except interruptedexcept
string msg interrupt wait stop latch
log warn msg
sync
cluster except clusterexcept
string msg period sync journal fail messag getmessag
log error msg
except
string msg unexpect error sync journal messag getmessag
log error msg
error
string msg unexpect error sync journal messag getmessag
log error msg
synchron content journal
throw clusterexcept error occur
sync cluster except clusterexcept
count sync count synccount
sync lock synclock acquir
interrupt except interruptedexcept
string msg interrupt wait mutex
cluster except clusterexcept msg
jcr synchron thread
wait acquir synclock
count sync count synccount
sync count synccount increment incrementandget
journal sync
journal except journalexcept
cluster except clusterexcept messag getmessag getcaus
sync lock synclock releas
stop cluster node
stop
statu stop
statu stop
stop latch stoplatch releas
give synchron thread time finish properli
close journal jcr
sync thread syncthread
sync thread syncthread join stop delai stopdelai
interrupt except interruptedexcept
string msg interrupt join synchron thread
log warn msg
journal
journal close
instanc revis instancerevis
instanc revis instancerevis close
creat link updateeventchannel workspac
param workspac workspac
return lock event channel
updat event channel updateeventchannel creat updat channel createupdatechannel string workspac
workspac updat channel workspaceupdatechannel workspac
creat link lockeventchannel workspac
param workspac workspac
return lock event channel
lock event channel lockeventchannel creat lock channel createlockchannel string workspac
workspac lock channel workspacelockchannel workspac
return journal creat cluster node
return journal
journal journal getjourn
journal
namespaceeventlisten
inheritdoc
remap string prefix oldprefix string prefix newprefix string uri
statu start
log info start namespac oper
cluster record clusterrecord record
succeed
record namespac record namespacerecord prefix oldprefix prefix newprefix uri produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
set listen setlisten namespac event listen namespaceeventlisten listen
namespac listen namespacelisten listen
nodetypeeventlisten
inheritdoc
regist collect def ntdef
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record node type record nodetyperecord def ntdef produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
reregist node type definit qnodetypedefinit def ntdef
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record node type record nodetyperecord def ntdef produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
unregist collect qname
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record node type record nodetyperecord qname produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
set listen setlisten node type event listen nodetypeeventlisten listen
node type listen nodetypelisten listen
privilegeeventchannel
inheritdoc
privilegeeventchannel registeredprivileg java util collect
regist privileg registeredprivileg collect privileg definit privilegedefinit definit
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record privileg record privilegerecord definit produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
set listen setlisten privileg event listen privilegeeventlisten listen
privileg listen privilegelisten listen
workspac updat channel
workspac updat channel workspaceupdatechannel updat event channel updateeventchannel
attribut store record
string attribut record attribut record record
workspac
string workspac
creat instanc class
param workspac workspac
workspac updat channel workspaceupdatechannel string workspac
workspac workspac
inheritdoc
updat creat updatecr updat updat
statu start
log info start updat creat
record record produc append
updat set attribut setattribut attribut record attribut record record
journal except journalexcept
string msg unabl creat log entri
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
updat prepar updateprepar updat updat
statu start
log info start updat prepar
record record record updat attribut getattribut attribut record attribut record
record
string msg record creat
log warn msg
list event state eventst event updat event getev
chang log changelog updat getchang
succeed
chang log record changelogrecord clr chang log record changelogrecord event
record workspac updat timestamp gettimestamp
updat user data getuserdata
clr write
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error prepar log entri
log error msg
succeed record
record cancel updat cancelupd
updat set attribut setattribut attribut record attribut record
inheritdoc
updat commit updatecommit updat updat string path
statu start
log info start updat commit
record record record updat attribut getattribut attribut record attribut record
record
string msg record prepar
log warn msg
record updat
set revis setrevis record revis getrevis
log debug revis record revis getrevis path
journal except journalexcept
string msg unabl commit log entri
log error msg
throwabl
string msg unexpect error commit log entri
log error msg
updat set attribut setattribut attribut record attribut record
inheritdoc
updat cancel updatecancel updat updat
statu start
log info start updat cancel
record record record updat attribut getattribut attribut record attribut record
record
record cancel updat cancelupd
updat set attribut setattribut attribut record attribut record
inheritdoc
set listen setlisten updat event listen updateeventlisten listen
workspac
version updat listen versionupdatelisten listen
journal abstract journal abstractjourn
version updat listen versionupdatelisten intern version manag impl internalversionmanagerimpl
abstract journal abstractjourn journal set intern version manag setinternalversionmanag
intern version manag impl internalversionmanagerimpl version updat listen versionupdatelisten
wsp updat listen wspupdatelisten remov workspac
listen
wsp updat listen wspupdatelisten put workspac listen
workspac lock channel
workspac lock channel workspacelockchannel lock event channel lockeventchannel
workspac
string workspac
creat instanc class
param workspac workspac
workspac lock channel workspacelockchannel string workspac
workspac workspac
inheritdoc
cluster oper clusteroper creat node nodeid node nodeid deep string owner
statu start
log info start lock oper
cluster record clusterrecord record lock record lockrecord node nodeid deep owner
produc append workspac
default cluster oper defaultclusteroper cluster node clusternod record
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
cluster oper clusteroper creat node nodeid node nodeid
statu start
log info start unlock oper
cluster record clusterrecord record lock record lockrecord node nodeid produc append
workspac
default cluster oper defaultclusteroper cluster node clusternod record
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
set listen setlisten lock event listen lockeventlisten listen
wsp lock listen wsplocklisten remov workspac
listen
wsp lock listen wsplocklisten put workspac listen
recordconsum
inheritdoc
string getid
produc produc
inheritdoc
revis getrevis
instanc revis instancerevis
journal except journalexcept
log warn unabl return current revis
long max max
inheritdoc
consum record record
log info process revis record revis getrevis
deseri deseri record process
journal except journalexcept
string msg unabl read revis record revis getrevis
log error msg
inheritdoc
set revis setrevis revis
instanc revis instancerevis set revis
journal except journalexcept
log warn unabl set current revis revis
clusterrecordprocessor
inheritdoc
process chang log record changelogrecord record
string workspac record workspac getworkspac
updat event listen updateeventlisten listen
workspac
listen wsp updat listen wspupdatelisten workspac
listen
cluster context clustercontext updat event readi updateeventsreadi workspac
repositori except repositoryexcept
string msg error make updat listen workspac
workspac onlin messag getmessag
log warn msg
listen wsp updat listen wspupdatelisten workspac
listen
string msg updat listen unavail workspac workspac
log error msg
version updat listen versionupdatelisten
listen version updat listen versionupdatelisten
string msg version updat listen unavail
log error msg
listen extern updat externalupd record getchang record event getev
record timestamp gettimestamp record user data getuserdata
repositori except repositoryexcept
string msg unabl deliv updat event messag getmessag
log error msg
getcaus illeg state except illegalstateexcept
illeg state except illegalstateexcept getcaus
inheritdoc
process lock record lockrecord record
string workspac record workspac getworkspac
lock event listen lockeventlisten listen wsp lock listen wsplocklisten workspac
listen
cluster context clustercontext lock event readi lockeventsreadi workspac
repositori except repositoryexcept
string msg unabl make lock listen workspac
workspac onlin messag getmessag
log warn msg
listen wsp lock listen wsplocklisten workspac
listen
string msg lock channel unavail workspac workspac
log error msg
record lock islock
listen extern lock externallock record node getnodeid record deep isdeep
record owner getown
listen extern unlock externalunlock record node getnodeid
repositori except repositoryexcept
string msg unabl deliv lock event messag getmessag
log error msg
getcaus illeg state except illegalstateexcept
illeg state except illegalstateexcept getcaus
inheritdoc
process namespac record namespacerecord record
namespac listen namespacelisten
string msg namespac listen unavail
log error msg
namespac listen namespacelisten extern remap externalremap record prefix getoldprefix
record prefix getnewprefix record uri geturi
repositori except repositoryexcept
string msg unabl deliv namespac oper messag getmessag
log error msg
inheritdoc
process node type record nodetyperecord record
node type listen nodetypelisten
string msg nodetyp listen unavail
log error msg
collect coll record collect getcollect
record oper getoper
node type record nodetyperecord regist
node type listen nodetypelisten extern regist externalregist coll
node type record nodetyperecord unregist
node type listen nodetypelisten extern unregist externalunregist coll
node type record nodetyperecord reregist
node type definit qnodetypedefinit ntd node type definit qnodetypedefinit coll iter
node type listen nodetypelisten extern reregist externalreregist ntd
invalid node type def except invalidnodetypedefexcept
string msg unabl deliv node type oper messag getmessag
log error msg
repositori except repositoryexcept
string msg unabl deliv node type oper messag getmessag
log error msg
process privileg record privilegerecord record
privileg listen privilegelisten
string msg privileg listen unavail
log error msg
privileg listen privilegelisten extern regist privileg externalregisteredprivileg record definit getdefinit
repositori except repositoryexcept
string msg unabl deliv privileg registr oper messag getmessag
log error msg
process workspac record workspacerecord record
creat workspac listen createworkspacelisten
string msg creat workspac listen unavail
log error msg
record action type getactiontyp workspac record workspacerecord creat workspac action type creat workspac action type
creat workspac action createworkspaceact action record creat workspac action getcreateworkspaceact
creat workspac listen createworkspacelisten extern workspac creat externalworkspacecr record workspac getworkspac action input sourc getinputsourc
repositori except repositoryexcept
string msg unabl creat workspac
messag getmessag
log error msg
createworkspacechannel
set listen setlisten workspac listen workspacelisten listen
creat workspac listen createworkspacelisten listen
workspac creat workspacecr string workspac workspacenam
clone input sourc clonedinputsourc input sourc inputsourc
statu start
log info start namespac oper
cluster record clusterrecord record
succeed
record workspac record workspacerecord workspac workspacenam input sourc inputsourc produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
invok cluster oper end code success code
attempt fill journal record updat cancel
updat
param oper cluster oper
param success code true code oper success
journal record updat
code fals code revok
end default cluster oper defaultclusteroper oper success
cluster record clusterrecord record oper record getrecord
succeed
success
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed
record cancel updat cancelupd
