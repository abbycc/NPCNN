org apach jackrabbit core queri lucen
java except ioexcept
java util arrai list arraylist
java util collect
java util iter
java util list
java util concurr count latch countdownlatch
java util concurr executor
java util concurr atom atom boolean atomicboolean
java util concurr lock lock
java util concurr lock read write lock readwritelock
java util concurr lock reentrant read write lock reentrantreadwritelock
org apach lucen index index reader indexread
org apach lucen index term
org slf4j logger
org slf4j logger factori loggerfactori
merg index separ daemon thread
index merger indexmerg index listen indexlisten
logger instanc class
logger log logger factori loggerfactori logger getlogg index merger indexmerg
minmergedoc config paramet
min merg doc minmergedoc search index searchindex default min merg doc default min merg doc
maxmergedoc config paramet
max merg doc maxmergedoc search index searchindex default max merg doc default max merg doc
mergefactor config paramet
merg factor mergefactor search index searchindex default merg factor default merg factor
list code indexbucket code ascend document limit
list index bucket indexbucket index bucket indexbucket arrai list arraylist index bucket indexbucket
code multiindex code index merger work
multi index multiindex multi index multiindex
executor repositori
executor executor
flag index merger shute
quit
atom boolean atomicboolean quit atom boolean atomicboolean
flag index merger start
start
atom boolean atomicboolean start isstart atom boolean atomicboolean
monitor object synchron merg calcul
object lock object
read write lock index segment replac share read lock
acquir index replac exclus write lock acquir
index merger shut prevent index
replac
read write lock readwritelock index replac indexreplac reentrant read write lock reentrantreadwritelock
list merger thread busi
list worker busi merger busymerg arrai list arraylist worker
creat code indexmerg code
param multiindex code multiindex code
param executor executor repositori
index merger indexmerg multi index multiindex multi index multiindex executor executor
multi index multiindex multi index multiindex
executor executor
start index merger
start
start isstart set
busi merger busymerg
worker worker busi merger busymerg
worker unblock
inform index merger index ad creat
param index
param numdoc number document
index ad indexad string num doc numdoc
num doc numdoc
illeg argument except illegalargumentexcept numdoc posit
multipl thread enter method
background thread indexmerg replac index
success merg
regular thread updat workspac
synchron block
lock
initi creat bucket
index bucket indexbucket size
lower
upper min merg doc minmergedoc
upper max merg doc maxmergedoc
index bucket indexbucket add index bucket indexbucket lower upper
lower upper
upper merg factor mergefactor
upper maxmergedoc
index bucket indexbucket add index bucket indexbucket lower max merg doc maxmergedoc
overflow case
index bucket indexbucket add index bucket indexbucket max merg doc maxmergedoc long max max
put index bucket
index bucket indexbucket bucket index bucket indexbucket index bucket indexbucket size
index bucket indexbucket index bucket indexbucket index bucket indexbucket
bucket index bucket indexbucket
bucket fit num doc numdoc
bucket add index num doc numdoc
log debug enabl isdebugen
log debug index ad numdoc num doc numdoc
bucket merg continu
bucket merg allowsmerg
check merg
bucket size merg factor mergefactor
target merg doc targetmergedoc bucket upper
target merg doc targetmergedoc math min target merg doc targetmergedoc merg factor mergefactor max merg doc maxmergedoc
sum doc bucket
list index index merg indexestomerg arrai list arraylist index
merg doc mergedoc
iter index bucket iter hasnext merg doc mergedoc target merg doc targetmergedoc
index merg indexestomerg add
index merg indexestomerg size
found merg
index idx index merg indexestomerg arrai toarrai index index merg indexestomerg size
bucket remov removeal index merg indexestomerg
log debug enabl isdebugen
log debug request merg index merg indexestomerg
add merg task addmergetask merg idx
log debug enabl isdebugen
num busi numbusi
busi merger busymerg
num busi numbusi busi merger busymerg size
log debug busi merg worker num busi numbusi
inheritdoc
document delet documentdelet term
log debug document delet text
busi merger busymerg
worker busi merger busymerg
document delet documentdelet
call thread return index merger idl
merg task pend anymor method return
immedi task pend
throw interruptedexcept thread interrupt wait
worker thread idl
wait idl waituntilidl interrupt except interruptedexcept
busi merger busymerg
busi merger busymerg empti isempti
busi merger busymerg wait
signal code indexmerg code stop wait
termin
dispos
log debug dispos indexmerg
exclus lock index replac
index replac indexreplac write lock writelock lock interrupt lockinterrupt
interrupt except interruptedexcept
log warn interrupt acquir index replac exclus lock
stop indexmerg sync
set quit
quit set
log debug quit flag set
give merger thread time quit
merger busi work larg index
case ignor daemon
die finish merg
point anymor replac index
multiindex hold indexreplac permit
worker worker
busi merger busymerg
worker busi merger busymerg arrai toarrai worker busi merger busymerg size
worker worker
join
aliv isal
log info unabl stop indexmerg worker daemon busi
log debug indexmerg worker thread stop
interrupt except interruptedexcept
log warn interrupt wait indexmerg thread termin
merg properti
merg factor
param mergefactor merg factor
set merg factor setmergefactor merg factor mergefactor
merg factor mergefactor merg factor mergefactor
initi threshold number document merg index
param minmergedoc min merg doc number
set min merg doc setminmergedoc min merg doc minmergedoc
min merg doc minmergedoc min merg doc minmergedoc
maximum number document merg
param maxmergedoc max merg doc number
set max merg doc setmaxmergedoc max merg doc maxmergedoc
max merg doc maxmergedoc max merg doc maxmergedoc
intern
add merg task addmergetask merg task
enqueu run
quit
worker worker worker task
start isstart
immedi unblock index merger start
worker unblock
busi merger busymerg
busi merger busymerg add worker
executor execut worker
implement simpl struct hold index
document code index code compar
number document
index compar index
index
string
number document index
num doc numdoc
creat index struct
param index
param numdoc number document
index string num doc numdoc
num doc numdoc num doc numdoc
index order link numdoc link
param code index code
return neg integ posit integ
index equal greater
index
compar compareto index
val num doc numdoc num doc numdoc num doc numdoc num doc numdoc
val
val
compar compareto
inheritdoc
string string tostr
num doc numdoc
defin merg task merg coupl index index
merg
index index
merg task merg code index code index
code code
param index index merg
merg index index
index index index length
system arraycopi index index index length
implement code list code document limit
code indexbucket code link index document
equal document limit bucket
index bucket indexbucket arrai list arraylist index
serial version uid serialversionuid
lower document limit
lower
upper document limit
upper
flag indic index bucket merg
merg allowmerg
creat code indexbucket code limit inclus
param lower document limit
param upper document limit
param allowmerg index bucket merg
index bucket indexbucket lower upper merg allowmerg
lower lower
upper upper
merg allowmerg merg allowmerg
return code true code number document fit
code indexbucket code code fals code
param numdoc number document
return code true code code numdoc code fit
fit num doc numdoc
num doc numdoc lower num doc numdoc upper
return code true code index bucket merg
return code true code index bucket merg
merg allowsmerg
merg allowmerg
worker runnabl index listen indexlisten
list code term code identifi document delet
merg run
list term delet document deleteddocu collect synchron list synchronizedlist arrai list arraylist term
latch set worker unblock
count latch countdownlatch start count latch countdownlatch
flag worker finish work
atom boolean atomicboolean termin atom boolean atomicboolean
merg task
merg task
creat worker initi block call
link unblock unblock
param task merg task
worker merg task
task task
implement index merg
run
worker initi suspend
start await
interrupt except interruptedexcept
check quit
quit
enqueu task retri thread
add merg task addmergetask task
log debug accept merg request
reader
string name string task index length
task index length
name task index
log debug creat index
persist index persistentindex index multi index multiindex creat index getorcreateindex
success
log debug index reader multiindex
index reader indexread reader multi index multiindex index reader getindexread name index merger indexmerg
merg
time system current time milli currenttimemilli
index add index addindex reader
time system current time milli currenttimemilli time
doc count doccount
index reader indexread reader reader
doc count doccount reader num doc numdoc
log info merg doc count doccount document time index getnam
index reader indexread reader reader
util close releas closeorreleas reader
except ioexcept
log warn unabl close indexread
inform multi index
sync immedi quit
lock share index replac indexreplac read lock readlock
share lock trylock
log debug index merg cancel
log debug replac index
multi index multiindex replac index replaceindex name index delet document deleteddocu
share unlock
success
success
delet index
log debug delet index index getnam
multi index multiindex delet index deleteindex index
add task retri
add merg task addmergetask task
throwabl
log error error merg index
termin
termin set
termin notifi notifyal
busi merger busymerg
busi merger busymerg remov
busi merger busymerg notifi notifyal
log debug worker finish
inheritdoc
document delet documentdelet term
log debug document delet text
delet document deleteddocu add
unblock worker start index merg
unblock
start count countdown
wait worker finish amount time
elaps
param timeout timeout millisecond
throw interruptedexcept current thread interrupt
wait worker
termin
join timeout interrupt except interruptedexcept
termin
termin
termin wait timeout
return code true code worker aliv
termin
aliv isal
termin
