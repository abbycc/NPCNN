org apach jackrabbit core lock
oswego util concurr reentrant lock reentrantlock
org apach common collect map link map linkedmap
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core node impl nodeimpl
org apach jackrabbit util path map pathmap
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core session listen sessionlisten
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system except filesystemexcept
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core observ event impl eventimpl
org apach jackrabbit core observ synchron event listen synchronouseventlisten
org apach jackrabbit malform path except malformedpathexcept
org apach jackrabbit namespac resolv namespaceresolv
org apach jackrabbit path
org apach jackrabbit qname
org apach jackrabbit path format pathformat
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr item found except itemnotfoundexcept
javax jcr node
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr lock lock
javax jcr lock lock except lockexcept
javax jcr observ event
javax jcr observ event iter eventiter
java buffer reader bufferedread
java buffer writer bufferedwrit
java except ioexcept
java input stream reader inputstreamread
java output stream writer outputstreamwrit
java util arrai list arraylist
java util iter
function need lock unlock node
lock manag impl lockmanagerimpl lock manag lockmanag synchron event listen synchronouseventlisten
logger
logger log logger factori loggerfactori logger getlogg lock manag impl lockmanagerimpl
lock file
string lock file lock file lock
path map lock leav
path map pathmap lock map lockmap path map pathmap
lock path map
reentrant lock reentrantlock lock map lock lockmaplock reentrant lock reentrantlock
system session
session impl sessionimpl session
lock file
file system resourc filesystemresourc lock file locksfil
flag indic automat save disabl
save disabl savingdis
namespac resolv
namespac resolv namespaceresolv resolv nsresolv
creat instanc class
param session system session
param file system persist lock
throw repositoryexcept error occur
lock manag impl lockmanagerimpl session impl sessionimpl session file system filesystem
repositori except repositoryexcept
session session
resolv nsresolv session namespac resolv getnamespaceresolv
lock file locksfil file system resourc filesystemresourc file system filesystem separ lock file lock file
session workspac getworkspac observ manag getobservationmanag
add event listen addeventlisten event node ad node ad event node remov node remov
lock file locksfil exist
load
file system except filesystemexcept
repositori except repositoryexcept error read lock
lock file locksfil path getpath
close lock manag write back
close
save
read lock lock file popul path map
load file system except filesystemexcept
buffer reader bufferedread reader
reader buffer reader bufferedread
input stream reader inputstreamread lock file locksfil input stream getinputstream
string reader read line readlin
equal
reappli lock reapplylock lock token locktoken pars
except ioexcept
file system except filesystemexcept error read lock file
reader
reader close
except ioexcept
ignor
reappli lock lock token read lock file
param locktoken lock token appli
reappli lock reapplylock lock token locktoken lock token locktoken
node impl nodeimpl node node impl nodeimpl session item manag getitemmanag item getitem lock token locktoken
path path path getpath lock token locktoken
lock info lockinfo info lock info lockinfo lock token locktoken
node properti getproperti qname jcr lockisdeep jcr lockisdeep boolean getboolean
node properti getproperti qname jcr lockown jcr lockown string getstr
info set live setliv
lock map lockmap put path info
repositori except repositoryexcept
log warn unabl recreat lock lock token locktoken
messag getmessag
log debug root
write lock lock file
save
save disabl savingdis
arrai list arraylist list arrai list arraylist
lock map lockmap travers path map pathmap element visitor elementvisitor
element visit elementvisit path map pathmap element element
lock info lockinfo info lock info lockinfo element
info session scope sessionscop
list add info
buffer writer bufferedwrit writer
writer buffer writer bufferedwrit
output stream writer outputstreamwrit lock file locksfil output stream getoutputstream
list size
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo list
writer write info lock token locktoken string tostr
writer line newlin
file system except filesystemexcept fse
log warn error save lock
lock file locksfil path getpath fse messag getmessag
log debug root fse
except ioexcept ioe
log warn error save lock
lock file locksfil path getpath ioe messag getmessag
log debug root ioe
writer
writer close
except ioexcept
ignor
intern code lock code implement take paramet
public method modifi content
param node node lock
param isdeep lock appli node
param issessionscop lock session scope
return lock
throw lockexcept node lock
throw repositoryexcept error occur
abstract lock info abstractlockinfo intern lock internallock node impl nodeimpl node deep isdeep session scope issessionscop
lock except lockexcept repositori except repositoryexcept
session impl sessionimpl session session impl sessionimpl node session getsess
lock info lockinfo info lock info lockinfo lock token locktoken node node getnodeid
session scope issessionscop deep isdeep session user getuserid
acquir
check node lock
path path path getpath node getid
path map pathmap element element lock map lockmap map path
lock info lockinfo lock info lockinfo element
element path haspath path
lock except lockexcept node lock node safe jcr path safegetjcrpath
deep
lock except lockexcept parent node deep lock
info deep element path haspath path
element children count getchildrencount
lock except lockexcept child node lock
creat lock token
info set lock holder setlockhold session
info set live setliv
session add listen addlisten info
session add lock token addlocktoken info lock token locktoken string tostr
lock map lockmap put path info
info session scope sessionscop
save
info
releas
unlock node intern implement
param node node unlock
throw lockexcept node unlock
throw repositoryexcept error occur
intern unlock internalunlock node impl nodeimpl node
lock except lockexcept repositori except repositoryexcept
acquir
session impl sessionimpl session session impl sessionimpl node session getsess
check node lock session
path map pathmap element element lock map lockmap map
path getpath node getid
element
lock except lockexcept node lock node safe jcr path safegetjcrpath
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
lock except lockexcept node lock node safe jcr path safegetjcrpath
session equal info lock holder getlockhold
lock except lockexcept node lock session node safe jcr path safegetjcrpath
element set
info set live setliv
info session scope sessionscop
save
releas
return lock inform node
lock info node lock lock info
parent deep lock
return lock info code null code node lock
throw repositoryexcept error occur
abstract lock info abstractlockinfo lock info getlockinfo node nodeid repositori except repositoryexcept
acquir
path path path getpath
path map pathmap element element lock map lockmap map path
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
element path haspath path info deep
info
item found except itemnotfoundexcept
releas
lockmanag
inheritdoc
lock lock node impl nodeimpl node deep isdeep session scope issessionscop
lock except lockexcept repositori except repositoryexcept
abstract lock info abstractlockinfo info intern lock internallock node deep isdeep session scope issessionscop
lock impl lockimpl info node
inheritdoc
lock lock getlock node impl nodeimpl node
lock except lockexcept repositori except repositoryexcept
acquir
session impl sessionimpl session session impl sessionimpl node session getsess
path path path getpath node getid
path map pathmap element element lock map lockmap map path
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
lock except lockexcept node lock node safe jcr path safegetjcrpath
element path haspath path info deep
node lock holder lockhold node session item manag getitemmanag item getitem info getid
lock impl lockimpl info lock holder lockhold
lock except lockexcept node lock node safe jcr path safegetjcrpath
item found except itemnotfoundexcept
lock except lockexcept node lock node safe jcr path safegetjcrpath
releas
inheritdoc
order prevent deadlock synchron dispatch
event content modif made code
section hold monitor jcr
unlock node impl nodeimpl node
lock except lockexcept repositori except repositoryexcept
intern unlock internalunlock node
inheritdoc
hold lock holdslock node impl nodeimpl node repositori except repositoryexcept
acquir
path map pathmap element element lock map lockmap map path getpath node getid
element
element
item found except itemnotfoundexcept
releas
inheritdoc
lock islock node impl nodeimpl node repositori except repositoryexcept
acquir
path path path getpath node getid
path map pathmap element element lock map lockmap map path
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
element path haspath path
info deep
item found except itemnotfoundexcept
releas
inheritdoc
check lock checklock node impl nodeimpl node
lock except lockexcept repositori except repositoryexcept
session impl sessionimpl session session impl sessionimpl node session getsess
check lock checklock path getpath node getid session
inheritdoc
check lock checklock path path session session
lock except lockexcept repositori except repositoryexcept
path map pathmap element element lock map lockmap map path
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
element path haspath path info deep
session equal info lock holder getlockhold
lock except lockexcept node lock
inheritdoc
lock token ad locktokenad session impl sessionimpl session string
lock token locktoken lock token locktoken lock token locktoken pars
node impl nodeimpl node node impl nodeimpl session item manag getitemmanag
item getitem lock token locktoken
path map pathmap element element lock map lockmap map node primari path getprimarypath
element
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
info lock holder getlockhold
info set lock holder setlockhold session
log warn ad lock token effect
lock held session
illeg argument except illegalargumentexcept
log warn bad lock token messag getmessag
repositori except repositoryexcept
log warn unabl set lock holder messag getmessag
log debug root
inheritdoc
lock token remov locktokenremov session impl sessionimpl session string
lock token locktoken lock token locktoken lock token locktoken pars
node impl nodeimpl node node impl nodeimpl session item manag getitemmanag
item getitem lock token locktoken
path map pathmap element element lock map lockmap map node primari path getprimarypath
element
abstract lock info abstractlockinfo info abstract lock info abstractlockinfo element
info
session equal info lock holder getlockhold
info set lock holder setlockhold
log warn remov lock token effect
lock held session
illeg argument except illegalargumentexcept
log warn bad lock token messag getmessag
repositori except repositoryexcept
log warn unabl reset lock holder messag getmessag
log debug root
return path item method lookup
item insid systm session
path path getpath item itemid repositori except repositoryexcept
session hierarchi manag gethierarchymanag path getpath
acquir lock lock map
acquir
lock map lock lockmaplock acquir
interrupt except interruptedexcept
ignor
releas lock lock map
releas
lock map lock lockmaplock releas
start updat oper acquir lock lock map
disabl save lock map file
begin updat beginupd
acquir
save disabl savingdis
end updat oper save lock map file releas
lock lock map
end updat endupd
save disabl savingdis
save
releas
cancel updat oper releas lock lock map
cancel updat cancelupd
save disabl savingdis
releas
synchronouseventlisten
intern event class hold path move node
hierarchi event hierarchyev
record event
node nodeid
path record event
path path
path move oper
path path oldpath
path move oper
path path newpath
event type link event node ad
link event node remov combin
type
creat instanc class
param
param path path
param type event type
hierarchi event hierarchyev node nodeid path path type
path path
type type
merg event event result store
event
param event event merg
merg hierarchi event hierarchyev event
type event type
event type event node ad node ad
path newpath event path
path oldpath path
path oldpath event path
path newpath path
return event type link event node ad
link event node remov combin
return event type
type gettyp
type
return path move oper
return path
path path getoldpath
path oldpath
return path move oper
return path
path path getnewpath
path newpath
inheritdoc
event onev event iter eventiter event
iter iter consolid event consolidateev event
iter hasnext
hierarchi event hierarchyev event hierarchi event hierarchyev iter
event type
event node ad node ad
node ad nodead event path
event node remov node remov
node remov noderemov event path
event node ad node ad event node remov node remov
node move nodemov event path getoldpath event path getnewpath
consolid event iter obtain observ merg
add remov oper node uuid move
oper
iter consolid event consolidateev event iter eventiter event
link map linkedmap event map eventmap link map linkedmap
event hasnext
event impl eventimpl event event impl eventimpl event event nextev
hierarchi event hierarchyev
hierarchi event hierarchyev event child getchildid
path format pathformat pars event path getpath resolv nsresolv normal path getnormalizedpath
event type gettyp
malform path except malformedpathexcept
log info unabl event' path messag getmessag
repositori except repositoryexcept
log info unabl event' path messag getmessag
hierarchi event hierarchyev exist heexist hierarchi event hierarchyev event map eventmap
exist heexist
exist heexist merg
event map eventmap put
event map eventmap valu iter
refresh empti path element children chang
posit
refresh path map pathmap element element
arrai list arraylist info arrai list arraylist
save needssav
save empti children
element travers path map pathmap element visitor elementvisitor
element visit elementvisit path map pathmap element element
lock info lockinfo info lock info lockinfo element
info add info
remov children
element remov removeal
insert locat throw node
longer exist
info size
lock info lockinfo info lock info lockinfo info
node impl nodeimpl node node impl nodeimpl session item manag getitemmanag
item getitem info getid
lock map lockmap put node primari path getprimarypath info
repositori except repositoryexcept
info set live setliv
info session scope sessionscop
save needssav
save requir
save needssav
save
invok node ad parent node
exist shift sibl node index greater
equal
param path path ad node
node ad nodead path path
acquir
path map pathmap element parent lock map lockmap map path ancestor getancestor
parent
refresh parent
path found except pathnotfoundexcept
log warn unabl determin path ad node' parent
releas
invok node move relink child insid
map parent
param oldpath path
param newpath path
node move nodemov path path oldpath path path newpath
acquir
path map pathmap element parent lock map lockmap map path oldpath ancestor getancestor
parent
refresh parent
path found except pathnotfoundexcept
log warn unabl determin path move node' parent
releas
invok node remov remov child
path map disabl lock contain subtre
param path path remov node
node remov noderemov path path
acquir
path map pathmap element parent lock map lockmap map path ancestor getancestor
parent
refresh parent
path found except pathnotfoundexcept
log warn unabl determin path remov node' parent
releas
inform lock insid child
inform link org apach jackrabbit util pathmap
lock info lockinfo abstract lock info abstractlockinfo session listen sessionlisten
creat instanc class
param locktoken lock token
param sessionscop lock token session scope
param deep lock deep
param lockown owner lock
lock info lockinfo lock token locktoken lock token locktoken session scope sessionscop
deep string lock owner lockown
lock token locktoken session scope sessionscop deep lock owner lockown
inheritdoc
own session log perform
oper depend lock type
lock session scope unlock node
lock open scope remov lock token
session set lockhold field code null code
log loggingout session impl sessionimpl session
live
session scope sessionscop
session hold lock reassign
session impl sessionimpl lock holder lockhold lock holder getlockhold
lock holder lockhold
set lock holder setlockhold session
node impl nodeimpl node node impl nodeimpl session item manag getitemmanag item getitem getid
node unlock
repositori except repositoryexcept
log warn unabl remov session scope lock node
lock token locktoken messag getmessag
log debug root
session equal lock holder lockhold
session remov lock token removelocktoken lock token locktoken string tostr
lock holder lockhold
inheritdoc
log loggedout session impl sessionimpl session
