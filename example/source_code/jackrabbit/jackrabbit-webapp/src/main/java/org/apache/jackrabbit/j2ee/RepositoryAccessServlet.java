org apach jackrabbit j2ee
org apach jackrabbit rmi client client repositori factori clientrepositoryfactori
org slf4j logger
org slf4j logger factori loggerfactori
java file
java file input stream fileinputstream
java file found except filenotfoundexcept
java except ioexcept
java input stream inputstream
java net malform url except malformedurlexcept
java rmi bound except notboundexcept
java rmi remot except remoteexcept
java util properti
javax jcr repositori
javax name initi context initialcontext
javax name name except namingexcept
javax servlet servlet context servletcontext
javax servlet servlet except servletexcept
javax servlet http http servlet httpservlet
class implement servlet unifi mechan retriev
jcr repositori jndi rmi
repositori access servlet repositoryaccessservlet http servlet httpservlet
default logger
logger log logger factori loggerfactori logger getlogg repositori access servlet repositoryaccessservlet
initi param bootstrap config locat
string init param bootstrap config init param bootstrap config bootstrap config
context paramet 'this' instanc
string ctx param ctx param repositori access servlet
bootstrap config
bootstrap config bootstrapconfig config
initi initi context
initi context initialcontext jndi context jndicontext
set repositori servletcontext
string repositori context attribut repositorycontextattributenam
repositori
repositori repositori
initi servlet
note repositori startup servlet exist
webapp regist context attribut act singleton
throw servletexcept servlet regist
initi error occur
init servlet except servletexcept
check servlet defin
servlet context getservletcontext attribut getattribut ctx param ctx param
servlet except servletexcept repositori access servlet allow web app
servlet context getservletcontext set attribut setattribut ctx param ctx param
repositori context attribut repositorycontextattributenam servlet config getservletconfig init paramet getinitparamet repositori context attribut
log info repositoryaccessservlet initi
return instanc servlet
param ctx servlet context
return servlet
repositori access servlet repositoryaccessservlet instanc getinst servlet context servletcontext ctx
repositori access servlet repositoryaccessservlet instanc repositori access servlet repositoryaccessservlet ctx attribut getattribut ctx param ctx param
instanc
illeg state except illegalstateexcept
repositoryaccessservlet instanc servletcontext repositoryaccessservlet servlet initi
instanc
return bootstrap config
return bootstrap config
throw servletexcept config valid
bootstrap config bootstrapconfig config getconfig servlet except servletexcept
config
check loadabl bootstrap config
properti bootstrap prop bootstrapprop properti
string bstrp servlet config getservletconfig init paramet getinitparamet init param bootstrap config init param bootstrap config
bstrp
check web resourc
input stream inputstream servlet context getservletcontext resourc stream getresourceasstream bstrp
check file
file file file bstrp
file read canread
file input stream fileinputstream file
file found except filenotfoundexcept
servlet except servletexceptionwithcaus
bootstrap configur found bstrp
bootstrap prop bootstrapprop load
except ioexcept
servlet except servletexceptionwithcaus
bootstrap configur failur bstrp
close
except ioexcept
ignor
read bootstrap config
bootstrap config bootstrapconfig tmp config tmpconfig bootstrap config bootstrapconfig
tmp config tmpconfig init servlet config getservletconfig
tmp config tmpconfig init bootstrap prop bootstrapprop
tmp config tmpconfig valid
tmp config tmpconfig valid isvalid
servlet except servletexcept
repositori access configur valid
tmp config tmpconfig log info loginfo
config tmp config tmpconfig
config
return initi jndi context code null code jndi access
configur erroou
return initi context code null code
initi context initialcontext initi context getinitialcontext
jndi context jndicontext config jndi config getjndiconfig enabl
retriev jndi context environ
jndi context jndicontext initi context initialcontext config jndi config getjndiconfig jndi env getjndienv
name except namingexcept
log error creat initi context string tostr
jndi context jndicontext
check repositori jndi return
return repositori code null code
throw servletexcept servlet properli configur
repositori repositori jndi getrepositorybyjndi servlet except servletexcept
bootstrap config bootstrapconfig config config getconfig
config jndi config getjndiconfig valid isvalid config jndi config getjndiconfig enabl
acquir jndi
string repositori repositorynam config repositori getrepositorynam
initi context initialcontext ctx initi context getinitialcontext
ctx
repositori repositori ctx lookup repositori repositorynam
log info acquir repositori jndi
name except namingexcept
log error error retriev repositori jndi repositori repositorynam
check repositori rmi return
return repositori code null code
throw servletexcept servlet properli configur
repositori repositori rmi getrepositorybyrmi servlet except servletexcept
bootstrap config bootstrapconfig config config getconfig
config rmi config getrmiconfig valid isvalid config rmi config getrmiconfig enabl
acquir rmi
string rmi uri rmiuri config rmi config getrmiconfig rmi uri getrmiuri
rmi uri rmiuri
log info retriev repositori rmi uri rmi uri rmiuri
client factori delegat clientfactorydelegat cfd
class clazz class fornam server factori delegat class getserverfactorydelegaterclass
cfd client factori delegat clientfactorydelegat clazz instanc newinst
throwabl
log error unabl locat rmi clientrepositoryfactori jcr rmi jar miss
repositori cfd repositori getrepositori rmi uri rmiuri
log info acquir repositori rmi
except
log error error retriev repositori rmi rmi uri rmiuri
config retriev repositori servletcontext
repositori repositori context attribut getrepositorybycontextattribut
repositori result
repositori context attribut repositorycontextattributenam
result repositori servlet context getservletcontext attribut getattribut repositori context attribut repositorycontextattributenam
log debug enabl isdebugen
result
log debug repositori servletcontext attribut repositori context attribut repositorycontextattributenam
log debug servletcontext attribut provid repositori repositori context attribut repositorycontextattributenam
result
return fulli qualifi class provid client
repositori class return implement
link clientfactorydelegat interfac
return qfn factori class
string server factori delegat class getserverfactorydelegaterclass
class getclass getnam rmiclientfactorydelegat
return jcr repositori
return jcr repositori
throw illegalstateexcept repositori context
repositori repositori getrepositori
repositori
context attribut
repositori repositori context attribut getrepositorybycontextattribut
repositori
retriev jndi
repositori repositori jndi getrepositorybyjndi
repositori
rmi
repositori repositori rmi getrepositorybyrmi
repositori
servlet except servletexcept
repositori
servlet except servletexcept
illeg state except illegalstateexcept
repositori check
repositoryaccessservlet configur web xml
return jcr repositori
param ctx servlet context
return jcr repositori
throw illegalstateexcept repositori context
repositori repositori getrepositori servlet context servletcontext ctx
instanc getinst ctx repositori getrepositori
return config bootstrap servlet
return bootstrap config code null code
bootstrap config bootstrapconfig bootstrap config getbootstrapconfig
config
option class rmi rmi client present
client factori delegat clientfactorydelegat
repositori repositori getrepositori string uri
remot except remoteexcept malform url except malformedurlexcept bound except notboundexcept
option class rmi rmi server present
rmi client factori delegat rmiclientfactorydelegat client factori delegat clientfactorydelegat
enforc link class fornam
string factori class factoryclassnam client repositori factori clientrepositoryfactori getnam
repositori repositori getrepositori string uri
malform url except malformedurlexcept bound except notboundexcept remot except remoteexcept
system set properti setproperti java rmi server usecodebaseonli true
client repositori factori clientrepositoryfactori repositori getrepositori uri
