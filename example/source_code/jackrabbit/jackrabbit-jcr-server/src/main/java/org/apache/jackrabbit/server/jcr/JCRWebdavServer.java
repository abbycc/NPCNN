org apach jackrabbit server jcr
org apach jackrabbit server session provid sessionprovid
org apach jackrabbit webdav dav except davexcept
org apach jackrabbit webdav dav method davmethod
org apach jackrabbit webdav dav session davsess
org apach jackrabbit webdav dav session provid davsessionprovid
org apach jackrabbit webdav webdav request webdavrequest
org apach jackrabbit webdav header header ifhead
org apach jackrabbit webdav jcr jcr dav except jcrdavexcept
org apach jackrabbit webdav jcr jcr dav session jcrdavsess
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr login except loginexcept
javax jcr repositori
javax jcr repositori except repositoryexcept
javax jcr session
javax servlet servlet except servletexcept
javax servlet http http servlet respons httpservletrespons
java util hash set hashset
java util iter
java util set
java util concurr concurr hash map concurrenthashmap
java util concurr concurr map concurrentmap
code jcrwebdavserv code
jcr webdav server jcrwebdavserv dav session provid davsessionprovid
default logger
logger log logger factori loggerfactori logger getlogg jcr webdav server jcrwebdavserv
session cach
session cach sessioncach cach
jcr repositori
repositori repositori
provid credenti
session provid sessionprovid session provid sessionprovid
creat jcrwebdavserv oper repositori
param repositori
jcr webdav server jcrwebdavserv repositori repositori session provid sessionprovid session provid sessionprovid
repositori repositori
session provid sessionprovid session provid sessionprovid
cach session cach sessioncach
creat jcrwebdavserv oper repositori
param repositori
param concurrencylevel
jcr webdav server jcrwebdavserv repositori repositori session provid sessionprovid session provid sessionprovid concurr level concurrencylevel
repositori repositori
session provid sessionprovid session provid sessionprovid
cach session cach sessioncach concurr level concurrencylevel
davsessionprovid interfac
acquir davsess session cach creat
login repositori
success webdavrequest refer session
param request
throw davexcept session obtain
davsessionprovid attachsess org apach jackrabbit webdav webdavrequest
attach session attachsess webdav request webdavrequest request
dav except davexcept
dav session davsess session cach request
request set dav session setdavsess session
releas refer request session
refer session exist session remov
cach
param request
davsessionprovid releasesess org apach jackrabbit webdav webdavrequest
releas session releasesess webdav request webdavrequest request
dav session davsess session request dav session getdavsess
session
session remov refer removerefer request
remov session request
request set dav session setdavsess
privat class implement code davsess code interfac
dav session impl davsessionimpl jcr dav session jcrdavsess
privat constructor
param session
dav session impl davsessionimpl session session
session
add refer code davsess code
davsess addrefer object
add refer addrefer object refer
cach add refer addrefer refer
remov refer code davsess code
refer present code davsess code remov
intern cach underli session releas
call link sessionprovid releasesess javax jcr session
davsess removerefer object
remov refer removerefer object refer
cach remov refer removerefer refer
privat class provid cach referenc session object
session cach sessioncach
concurr level default concurr level default
initi capac initi capac
initi capac ref session initi capac ref session initi capac initi capac
concurr map concurrentmap dav session davsess set object session map sessionmap
concurr map concurrentmap object dav session davsess refer session map referencetosessionmap
creat session cach link concurr level default default concurr level
session cach sessioncach
concurr level default concurr level default
creat session cach level concurr
server
param cacheconcurrencylevel posit int
concurr level server
session cach sessioncach cach concurr level cacheconcurrencylevel
session map sessionmap concurr hash map concurrenthashmap dav session davsess set object initi capac initi capac cach concurr level cacheconcurrencylevel
refer session map referencetosessionmap concurr hash map concurrenthashmap object dav session davsess initi capac ref session initi capac ref session cach concurr level cacheconcurrencylevel
retriev code davsess code transactionid
subscriptionid present request header cach session
found code null code return
param request
return cach code davsess code code null code
throw davexcept
dav session davsess webdav request webdavrequest request
dav except davexcept
string txid request transact gettransactionid
string subscript subscriptionid request subscript getsubscriptionid
string lock token locktoken request lock token getlocktoken
dav session davsess session
retriev cach session
lock token locktoken refer containsrefer lock token locktoken
session session refer getsessionbyrefer lock token locktoken
txid refer containsrefer txid
session session refer getsessionbyrefer txid
subscript subscriptionid refer containsrefer subscript subscriptionid
session session refer getsessionbyrefer subscript subscriptionid
session
token present header
header ifhead header ifhead header ifhead request
iter string header ifhead token getalltoken hasnext
string token
refer containsrefer token
session session refer getsessionbyrefer token
cach session present creat
session
session rep session repsess repositori session getrepositorysess request
session dav session impl davsessionimpl rep session repsess
todo review concurrentmap putifabs
session map sessionmap put session hash set hashset object
log debug login user rep session repsess user getuserid log
log debug login retriev cach session user user getuserid session
add refer addrefer session request
session
add refer code davsess code
param session
param refer
add refer addrefer dav session davsess session object refer
set object refer set referenceset session map sessionmap session
refer set referenceset
refer set referenceset add refer
refer session map referencetosessionmap put refer session
log error fail add refer session entri cach found
remov refer code davsess code
param session
param refer
remov refer removerefer dav session davsess session object refer
set object refer set referenceset session map sessionmap session
refer set referenceset
refer set referenceset remov refer
log debug remov refer refer session session
refer session map referencetosessionmap remov refer
log warn fail remov refer refer session session
refer set referenceset empti isempti
log debug refer present webdav session clean
session map sessionmap remov session
session rep session repsess dav session impl davsessionimpl repositori session getrepositorysess session
string usr user getuserid session
session provid sessionprovid releas session releasesess rep session repsess
log debug login user usr log
dav except davexcept
occur origin built
davsessionimpl wrap repositori session
log error unexpect error messag getmessag getcaus
log debug refer set referenceset size refer remain webdav session session
log error fail remov refer session entri cach found
return true exist code davsess code cach
referenc object
param refer
return true code davsess code referenc
object
refer containsrefer object refer
refer session map referencetosessionmap kei containskei refer
return code davsess code referenc
refer object
param refer
return code davsess code referenc refer
object
containsrefer object
dav session davsess session refer getsessionbyrefer object refer
refer session map referencetosessionmap refer
retriev link session object request
param request
return jcr session object build code davsess code
throw davexcept
throw davexcept case link javax jcr loginexcept link javax jcr repositoryexcept occur
session repositori session getrepositorysess webdav request webdavrequest request dav except davexcept
string workspac workspacenam
dav method davmethod dav mkworkspac dav mkworkspac dav method davmethod method code getmethodcod request method getmethod
workspac workspacenam request request locat getrequestloc workspac getworkspacenam
session provid sessionprovid session getsess request repositori workspac workspacenam
login except loginexcept
loginexcept result unauthor
jcr dav except jcrdavexcept
repositori except repositoryexcept
repositoryexcept result forbidden
jcr dav except jcrdavexcept
servlet except servletexcept
dav except davexcept http servlet respons httpservletrespons intern server error intern server error
string user getuserid dav session davsess session
session dav session impl davsessionimpl repositori session getrepositorysess session
user getuserid
dav except davexcept
log error string tostr
fallback
session string tostr
