org apach jackrabbit core secur author acl
org apach jackrabbit core node impl nodeimpl
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core node nodeid
org apach jackrabbit core observ synchron event listen synchronouseventlisten
org apach jackrabbit core secur author access control constant accesscontrolconst
org apach jackrabbit core secur author access control modif accesscontrolmodif
org apach jackrabbit core secur author access control observ accesscontrolobserv
org apach jackrabbit spi common convers resolv nameresolv
org apach jackrabbit util text
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr item found except itemnotfoundexcept
javax jcr node
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr observ event
javax jcr observ event iter eventiter
javax jcr observ event listen eventlisten
javax jcr observ observ manag observationmanag
javax jcr secur access control entri accesscontrolentri
java util arrai list arraylist
java util collect
java util hash map hashmap
java util link list linkedlist
java util list
java util map
code entrycollector code collect ac defin effect
code node code listen access control modif order
inform listen
entri collector entrycollector access control observ accesscontrolobserv access control constant accesscontrolconst
logger instanc
logger log logger factori loggerfactori logger getlogg entri collector entrycollector
system session regist event listen process
event collect entri
session impl sessionimpl system session systemsess
root
node nodeid root rootid
event listen eventlisten move listen movelisten
param systemsess
param rootid
throw repositoryexcept
entri collector entrycollector session impl sessionimpl system session systemsess node nodeid root rootid repositori except repositoryexcept
system session systemsess system session systemsess
root rootid root rootid
observ manag observationmanag observ mgr observationmgr system session systemsess workspac getworkspac observ manag getobservationmanag
make collector subscrib listen inform
acl modif interest event
acl node ad
ac node ad
chang ac properti chang
remov acl node remov
remov ac node remov
event event properti chang properti chang event node ad node ad event node remov node remov
string name ntname string
system session systemsess jcr getjcrnam rep access control rep access control
system session systemsess jcr getjcrnam rep acl rep acl
system session systemsess jcr getjcrnam rep ac rep ac
string root path rootpath system session systemsess root node getrootnod path getpath
observ mgr observationmgr add event listen addeventlisten event root path rootpath name ntname
addit collector subscrib listen
inform kind move event
move listen movelisten move listen movelisten
observ mgr observationmgr add event listen addeventlisten move listen movelisten event node move node move root path rootpath
releas resourc contain instanc longer
implement stop listen modif event
overrid
close
close
observ manag observationmanag observ mgr observationmgr system session systemsess workspac getworkspac observ manag getobservationmanag
observ mgr observationmgr remov event listen removeeventlisten
observ mgr observationmgr remov event listen removeeventlisten move listen movelisten
repositori except repositoryexcept
log error unexpect error close cachingentrycollector
collect ac effect node appli
filter
param node
param filter
return
throw repositoryexcept
list access control entri accesscontrolentri collect entri collectentri node impl nodeimpl node entri filter entryfilt filter repositori except repositoryexcept
link list linkedlist access control entri accesscontrolentri user ac userac link list linkedlist access control entri accesscontrolentri
link list linkedlist access control entri accesscontrolentri group ac groupac link list linkedlist access control entri accesscontrolentri
node
repositori level permiss
node impl nodeimpl root node impl nodeimpl system session systemsess root node getrootnod
acl provid aclprovid repo access control isrepoaccesscontrol root
node impl nodeimpl acl node aclnod root node getnod repo polici repo polici
filter entri filterentri filter acl templat acltempl acl node aclnod entri getentri user ac userac group ac groupac
filter entri filterentri filter entri getentri node getac user ac userac group ac groupac
node nodeid node parent getparentid
entri entri entri getentri
filter entri filterentri filter entri getac user ac userac group ac groupac
entri getnextid
list access control entri accesscontrolentri entri arrai list arraylist access control entri accesscontrolentri user ac userac size group ac groupac size
entri add addal user ac userac
entri add addal group ac groupac
entri
filter access control code entri code
param filter
param ac
param userac
param groupac
suppress warn suppresswarn uncheck
filter entri filterentri entri filter entryfilt filter list access control entri accesscontrolentri ac
link list linkedlist access control entri accesscontrolentri user ac userac
link list linkedlist access control entri accesscontrolentri group ac groupac
ac empti isempti filter
filter filter entri filterentri ac user ac userac group ac groupac
retriev access control entri defin node
node access control acl empti method return
empti list
param node
return
throw repositoryexcept
entri entri getentri node impl nodeimpl node repositori except repositoryexcept
list access control entri accesscontrolentri ac
acl provid aclprovid access control isaccesscontrol node
collect ac node
node impl nodeimpl acl node aclnod node node getnod polici polici
ac acl templat acltempl acl node aclnod entri getentri
access control
ac collect empti list emptylist
entri ac node parent getparentid
param nodeid
return
throw repositoryexcept
entri entri getentri node nodeid node nodeid repositori except repositoryexcept
node impl nodeimpl node node getnodebyid node nodeid
entri getentri node
param nodeid
return
throw javax jcr repositoryexcept
node impl nodeimpl node getnodebyid node nodeid node nodeid repositori except repositoryexcept
node impl nodeimpl system session systemsess item manag getitemmanag item getitem node nodeid
eventlisten
collect access control node effect access control
modif type
notifi access control listen modif
param event
event onev event iter eventiter event
jcr fresh session avoid
deadlock caus concurr thread possibl
systemsess instanc purpos
string workspac workspacenam system session systemsess workspac getworkspac getnam
session session system session systemsess creat session createsess workspac workspacenam
sift event find access control modif
acl event siev acleventsiev siev acl event siev acleventsiev session resolv nameresolv session
siev sift event siftev event
notifi listen eventu clean intern cach
access control modif accesscontrolmodif node nodeid mod siev modif getmodif
mod node identifi getnodeidentifi empti isempti
notifi listen notifylisten mod
session logout
repositori except repositoryexcept
log error fail process access control modif
class
privat util class sift observ event
acl ac polici node find node access control
chang link entrycollector onev eventiter
method
acl event siev acleventsiev
session system privileg
session session
standard jcr form
link accesscontrolconst polici constant
string rep polici reppolicynam
map access control nodeid type access control modif
map node nodeid integ mod map modmap hash map hashmap node nodeid integ
acl event siev acleventsiev session session resolv nameresolv resolv repositori except repositoryexcept
session session
rep polici reppolicynam resolv jcr getjcrnam access control constant accesscontrolconst polici polici
collect identifi access control node
affect event cach entri
updat clear
param event access control modif event
sift event siftev event iter eventiter event
event hasnext
event event event event nextev
event type gettyp
event node ad node ad
sift node ad siftnodead event identifi getidentifi
event node remov node remov
sift node remov siftnoderemov event path getpath
event properti chang properti chang
sift properti chang siftpropertychang event identifi getidentifi
illeg event type occur ignor
repositori except repositoryexcept
log warn fail process acl event event
return access control modif collect
relat observ event
return access control modif
access control modif accesscontrolmodif node nodeid modif getmodif
access control modif accesscontrolmodif node nodeid mod map modmap
sift node ad siftnodead string identifi repositori except repositoryexcept
node impl nodeimpl node impl nodeimpl session node identifi getnodebyidentifi identifi
node type isnodetyp entri collector entrycollector rep acl rep acl
acl ad ad node updat
cach
add modif addmodif
access control acl node accesscontrolledidfromaclnod
access control observ accesscontrolobserv polici ad polici ad
node type isnodetyp entri collector entrycollector rep ac rep ac
ac ad parent node acl
updat cach
add modif addmodif
access control ac node accesscontrolledidfromacenod
access control observ accesscontrolobserv polici modifi polici modifi
node ad access control
parent node interest
item found except itemnotfoundexcept
log debug process node ad event node exist anymor identifi
sift node remov siftnoderemov string path repositori except repositoryexcept
string parent path parentpath text rel parent getrelativepar path
session node exist nodeexist parent path parentpath
node impl nodeimpl parent node impl nodeimpl session node getnod parent path parentpath
rep polici reppolicynam equal text getnam path
complet acl remov clear cach entri
add modif addmodif
parent node getnodeid
access control observ accesscontrolobserv polici remov polici remov
parent node type isnodetyp entri collector entrycollector rep acl rep acl
ac remov refresh cach
access control list access
add modif addmodif
access control acl node accesscontrolledidfromaclnod parent
access control observ accesscontrolobserv polici modifi polici modifi
child node access control
node interest
child node ac relev
implement ignor
log debug process node remov event parent exist anymor parent path parentpath
sift properti chang siftpropertychang string identifi repositori except repositoryexcept
test chang prop belong ac
node impl nodeimpl parent node impl nodeimpl session node identifi getnodebyidentifi identifi
parent node type isnodetyp entri collector entrycollector rep ac rep ac
add modif addmodif
access control ac node accesscontrolledidfromacenod parent
access control observ accesscontrolobserv polici modifi polici modifi
properti access control node
chang interest note rep acl
defin properti
item found except itemnotfoundexcept
log debug process properti chang event node exist anymor identifi
node nodeid access control acl node accesscontrolledidfromaclnod node acl node aclnod repositori except repositoryexcept
node impl nodeimpl acl node aclnod parent getpar node getnodeid
node nodeid access control ac node accesscontrolledidfromacenod node ac node acenod repositori except repositoryexcept
access control acl node accesscontrolledidfromaclnod ac node acenod parent getpar
add modif addmodif node nodeid access control node accesscontrollnodeid mod type modtyp
mod map modmap kei containskei access control node accesscontrollnodeid
updat modmap
mod type modtyp mod map modmap access control node accesscontrollnodeid
mod map modmap put access control node accesscontrollnodeid mod type modtyp
listen kind move event hierarchi content
individu node cach inform
kind move target node access control
content str
move listen movelisten synchron event listen synchronouseventlisten
event onev event iter eventiter event
note simplifi event handl listen clear
cach case move event
process event rootid marker
event hasnext
event event event event nextev
event type gettyp event node move node move
map node nodeid integ collect singleton map singletonmap root rootid access control observ accesscontrolobserv move
access control modif accesscontrolmodif node nodeid mod access control modif accesscontrolmodif node nodeid
notifi listen notifylisten mod
illeg event type occur ignor
class combin list access control entri inform
start inherit entri
code nextid code point parent access
control node code ac code
access control ancestor code null code root node
reach addit ancestor retriev access control
entri
entri
list access control entri accesscontrolentri ac
node nodeid nextid
entri list access control entri accesscontrolentri ac node nodeid nextid
ac ac
nextid nextid
list access control entri accesscontrolentri getac
ac
node nodeid getnextid
nextid
set setnextid node nodeid nextid
nextid nextid
empti isempti
ac empti isempti
overrid
string string tostr
string builder stringbuild string builder stringbuild
append size append ac size append
append nextnodeid append nextid
string tostr
