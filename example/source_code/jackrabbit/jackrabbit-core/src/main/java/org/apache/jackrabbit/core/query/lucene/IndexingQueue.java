org apach jackrabbit core queri lucen
java except ioexcept
java util arrai list arraylist
java util hash map hashmap
java util iter
java util list
java util map
javax jcr repositori except repositoryexcept
org apach jackrabbit core node nodeid
org apach lucen document document
org apach lucen index term
org apach lucen index term doc termdoc
org slf4j logger
org slf4j logger factori loggerfactori
code indexingqueu code implement queue
document pend text extractor job
index queue indexingqueu
logger instanc class
logger log logger factori loggerfactori logger getlogg index queue indexingqueu
store persist uuid pend document
index queue store indexingqueuestor queue store queuestor
map uuid link string link document
map string document pend document pendingdocu hash map hashmap string document
flag index queue
link initi multiindex initi
initi
creat index queue
param queuestor store read pend extract job
index queue indexingqueu index queue store indexingqueuestor queue store queuestor
queue store queuestor queue store queuestor
initi index queue
param index multi index index queue belong
throw ioexcept error occur read index
initi multi index multiindex index except ioexcept
initi
illeg state except illegalstateexcept initi
check index node reindex
cach multi index reader cachingmultiindexread reader index index reader getindexread
term doc termdoc doc tdoc reader term doc termdoc
term field name fieldnam reindex requir reindex requir
doc tdoc
queue store queuestor add uuid adduuid reader document doc tdoc doc
field selector fieldselector uuid field name fieldnam uuid
doc tdoc close
reader releas
string uuid queue store queuestor pend getpend
string uuid uuid
document doc index creat document createdocu node nodeid uuid
pend document pendingdocu put uuid doc
log debug ad node size index queue
uuid pend document pendingdocu size
illeg argument except illegalargumentexcept
log warn invalid uuid index queue store uuid
repositori except repositoryexcept
node exist anymor
log debug node uuid exist anymor uuid
queue store queuestor remov uuid removeuuid uuid
initi
return link document finish
return link document finish
document finish document getfinisheddocu
check initi checkiniti
list document finish arrai list arraylist document
finish add addal pend document pendingdocu valu
iter document finish iter
hasnext
document doc
util document readi isdocumentreadi doc
remov
finish arrai toarrai document finish size
remov document code uuid code index
queue
param uuid uuid document return
return document code uuid code code null code
queue document
code uuid code
document remov document removedocu string uuid
check initi checkiniti
document doc pend document pendingdocu remov uuid
doc
queue store queuestor remov uuid removeuuid uuid
log debug remov node size index queue
uuid pend document pendingdocu size
doc
add document index queue
param doc document add
return exist document queue uuid
code doc code code null code
document
document add document adddocu document doc
check initi checkiniti
string uuid doc field name fieldnam uuid
document exist pend document pendingdocu put uuid doc
log debug ad node size index queue
uuid pend document pendingdocu size
exist
document present add queue store
queue store queuestor add uuid adduuid uuid
return exist
exist
close index queue dispos pend document
close
check initi checkiniti
pend document close reader
iter document pend document pendingdocu valu iter
hasnext
document doc
util dispos document disposedocu doc
remov
queue store queuestor close
check index queue initi throw
link illegalstateexcept
check initi checkiniti
initi
illeg state except illegalstateexcept initi
return number pend document
return number pend document
num pend document getnumpendingdocu
pend document pendingdocu size
