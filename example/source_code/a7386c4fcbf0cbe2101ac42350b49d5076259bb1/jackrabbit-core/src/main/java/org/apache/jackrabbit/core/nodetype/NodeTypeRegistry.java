org apach jackrabbit core nodetyp
oswego util concurr concurr reader hash map concurrentreaderhashmap
org apach common collect map refer map referencemap
org apach jackrabbit core cluster node type event channel nodetypeeventchannel
org apach jackrabbit core cluster node type event listen nodetypeeventlisten
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system except filesystemexcept
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core util dumpabl
org apach jackrabbit core intern internalvalu
org apach jackrabbit qname
org slf4j logger
org slf4j logger factori loggerfactori
java except ioexcept
java input stream inputstream
java output stream outputstream
java print stream printstream
java util collect
java util collect
java util hash map hashmap
java util hash set hashset
java util iter
java util map
java util set
java util stack
javax jcr namespac registri namespaceregistri
javax jcr properti type propertytyp
javax jcr repositori except repositoryexcept
javax jcr nodetyp constraint violat except constraintviolationexcept
javax jcr nodetyp node type except nosuchnodetypeexcept
javax jcr version parent version action onparentversionact
code nodetyperegistri code
node type registri nodetyperegistri dumpabl node type event listen nodetypeeventlisten
logger log logger factori loggerfactori logger getlogg node type registri nodetyperegistri
string builtin nodetyp resourc path builtin nodetyp resourc path
org apach jackrabbit core nodetyp builtin nodetyp xml
string custom nodetyp resourc custom nodetyp resourc
custom nodetyp xml
file system node type registr persist
file system filesystem store ntstore
resourc hold custom node type definit repres
node repositori need order make registr
persist
file system resourc filesystemresourc custom node type resourc customnodetypesresourc
persist node type definit built custom node type
node type def store nodetypedefstor built def builtinntdef
node type def store nodetypedefstor custom def customntdef
cach pre built aggreg node type
effect node type cach effectivenodetypecach ent cach entcach
map node type name node type definit
concurr reader hash map concurrentreaderhashmap regist def registeredntdef
definit root node
node def nodedef root node def rootnodedef
map id' properti definit
concurr reader hash map concurrentreaderhashmap prop def propdef
map id' node definit
concurr reader hash map concurrentreaderhashmap node def nodedef
namespac registri resolv prefix namespac uri'
serial node type definit
namespac registri namespaceregistri reg nsreg
listen soft refer
map listen
collect synchron map synchronizedmap refer map referencemap refer map referencemap weak refer map referencemap weak
node type event channel
node type event channel nodetypeeventchannel event channel eventchannel
creat code nodetyperegistri code
param nsreg
param ntstore
return code nodetyperegistri code object
throw repositoryexcept
node type registri nodetyperegistri creat namespac registri namespaceregistri reg nsreg file system filesystem store ntstore
repositori except repositoryexcept
node type registri nodetyperegistri mgr ntmgr node type registri nodetyperegistri reg nsreg store ntstore
mgr ntmgr
public nodetyperegistri 'api'
return name regist node type includ primari
mixin node type
return name regist node type
qname regist node type getregisterednodetyp
qname regist def registeredntdef kei set keyset arrai toarrai qname regist def registeredntdef size
valid code nodetypedef code return
code effectivenodetyp code object repres newli
regist node type
valid includ check
supertyp exist regist
inherit graph circular
aggreg supertyp result conflict
ambigu
definit auto creat properti
default valu properti definit satisfi constraint
properti definit
definit auto creat child node
default node type child node definit exist
regist
aggreg default node type child node definit
result conflict ambigu
definit auto creat child node default
node type lead infinit child node creation
node type 'a' defin auto creat child node default
node type 'a'
node type constraint child node definit
exist regist
aggreg node type constraint
child node definit result conflict ambigu
default node type child node definit satisfi
node type constraint child node definit
param ntd definit node type
return code effectivenodetyp code instanc
throw invalidnodetypedefexcept node type definit invalid
throw repositoryexcept repositori error occur
effect node type effectivenodetyp regist node type registernodetyp node type def nodetypedef ntd
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
valid regist node type definit
effect node type effectivenodetyp ent intern regist internalregist ntd
persist node type definit
custom def customntdef add ntd
persist custom node type def persistcustomnodetypedef custom def customntdef
event channel eventchannel
hash set hashset def ntdef hash set hashset
def ntdef add ntd
event channel eventchannel regist def ntdef
notifi listen
notifi regist notifyregist ntd getnam
ent
code link registernodetyp nodetypedef code
collect code nodetypedef code regist
method regist set node type
depend
param ntdef collect code nodetypedef code object
throw invalidnodetypedefexcept node type definit invalid
throw repositoryexcept repositori error occur
regist node type registernodetyp collect def ntdef
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
valid regist node type definit
intern regist internalregist def ntdef
persist node type definit
iter iter def ntdef iter iter hasnext
node type def nodetypedef def ntdef node type def nodetypedef iter
custom def customntdef add def ntdef
persist custom node type def persistcustomnodetypedef custom def customntdef
inform cluster
event channel eventchannel
event channel eventchannel regist def ntdef
notifi listen
iter iter def ntdef iter iter hasnext
node type def nodetypedef def ntdef node type def nodetypedef iter
notifi regist notifyregist def ntdef getnam
code link unregisternodetyp qname code
set node type unregist
method unregist set node type depend
param ntname collect code qname code object denot
node type unregist
throw nosuchnodetypeexcept name
denot regist node type
throw repositoryexcept error occur
unregisternodetyp qname
unregist node type unregisternodetyp collect name ntname
node type except nosuchnodetypeexcept repositori except repositoryexcept
preliminari check
iter iter name ntname iter iter hasnext
qname ntname qname iter
regist def registeredntdef kei containskei ntname
node type except nosuchnodetypeexcept ntname string tostr
built def builtinntdef ntname
repositori except repositoryexcept ntname string tostr
unregist built node type
check node type unregist
depend node type
set depend depend node type getdependentnodetyp ntname
depend remov removeal name ntname
depend size
string buffer stringbuff msg string buffer stringbuff
msg append ntname append remov node type depend
iter dep iter depit depend iter dep iter depit hasnext
msg append dep iter depit
msg append
repositori except repositoryexcept msg string tostr
make node type
iter iter name ntname iter iter hasnext
qname ntname qname iter
check refer content checkforreferencesincont ntname
precondit met node type safe unregist
intern unregist internalunregist name ntname
persist remov node type definit notifi listen
iter iter name ntname iter iter hasnext
qname ntname qname iter
custom def customntdef remov ntname
notifi unregist notifyunregist ntname
persist custom node type def persistcustomnodetypedef custom def customntdef
unregist node type order node type
successfulli unregist meet condit
node type regist
built node type unregist
node type depend node type
referenc
node type workspac
param ntname node type unregist
throw nosuchnodetypeexcept code ntname code
denot regist node type
throw repositoryexcept error occur
unregisternodetyp collect
unregist node type unregisternodetyp qname ntname
node type except nosuchnodetypeexcept repositori except repositoryexcept
hash set hashset name ntname hash set hashset
name ntname add ntname
unregist node type unregisternodetyp name ntname
param ntd
return
throw nosuchnodetypeexcept
throw invalidnodetypedefexcept
throw repositoryexcept
effect node type effectivenodetyp reregist node type reregisternodetyp node type def nodetypedef ntd
node type except nosuchnodetypeexcept invalid node type def except invalidnodetypedefexcept
repositori except repositoryexcept
qname ntd getnam
regist def registeredntdef kei containskei
node type except nosuchnodetypeexcept string tostr
built def builtinntdef
repositori except repositoryexcept string tostr
reregist built node type
valid node type definit
valid node type def validatenodetypedef ntd ent cach entcach regist def registeredntdef reg nsreg
build diff current definit determin type chang
node type def nodetypedef ntd ntdold node type def nodetypedef regist def registeredntdef
node type def diff nodetypedefdiff diff node type def diff nodetypedefdiff creat ntd ntdold ntd
diff modifi ismodifi
definit modifi
effect node type geteffectivenodetyp
diff trivial istrivi
chang trivial effect current content
case mandatori properti
ad
regist node type definit updat cach
notifi listen registr
intern unregist internalunregist
remov node type definit store
custom def customntdef remov
effect node type effectivenodetyp ent entnew intern regist internalregist ntd
add node type definit store
custom def customntdef add ntd
persist node type definit
persist custom node type def persistcustomnodetypedef custom def customntdef
notifi listen
notifi regist notifyreregist
ent entnew
string messag nodetyp chang trivial
trivial support
javadoc
node type def diff nodetypedefdiff getnam
diff string tostr
repositori except repositoryexcept messag
todo implement checkforconflictingcont
make exist content conflict
node type definit
checkforconflictingcont ntd
unregist node type definit
internalunregist
regist definit
effectivenodetyp entnew internalregist ntd
persist modifi node type definit
customntdef remov
customntdef add ntd
persistcustomnodetypedef customntdef
notifi listen
notifyreregist
return entnew
param ntname
return
throw nosuchnodetypeexcept
effect node type effectivenodetyp effect node type geteffectivenodetyp qname ntname
node type except nosuchnodetypeexcept
effect node type geteffectivenodetyp ntname ent cach entcach regist def registeredntdef
param ntname
return
throw nodetypeconflictexcept
throw nosuchnodetypeexcept
effect node type effectivenodetyp effect node type geteffectivenodetyp qname name ntname
node type conflict except nodetypeconflictexcept node type except nosuchnodetypeexcept
effect node type geteffectivenodetyp name ntname ent cach entcach regist def registeredntdef
return name regist node type
depend node type
param nodetypenam node type
return set node type code qname code
throw nosuchnodetypeexcept
set depend node type getdependentnodetyp qname node type nodetypenam
node type except nosuchnodetypeexcept
regist def registeredntdef kei containskei node type nodetypenam
node type except nosuchnodetypeexcept node type nodetypenam string tostr
collect name node type depend
node type
hash set hashset name hash set hashset
iter iter regist def registeredntdef valu iter
iter hasnext
node type def nodetypedef ntd node type def nodetypedef iter
ntd depend getdepend node type nodetypenam
name add ntd getnam
name
return node type definit node type
param nodetypenam node type definit return
return node type definit node type
throw nosuchnodetypeexcept node type
exist
node type def nodetypedef node type def getnodetypedef qname node type nodetypenam
node type except nosuchnodetypeexcept
node type def nodetypedef def node type def nodetypedef regist def registeredntdef node type nodetypenam
def
node type except nosuchnodetypeexcept node type nodetypenam string tostr
return clone make mess 'live' definit
node type def nodetypedef def clone
param nodetypenam
return code true code node type regist
code fals code
regist isregist qname node type nodetypenam
regist def registeredntdef kei containskei node type nodetypenam
param nodetypenam
return code true code node type built
code fals code
built isbuiltin qname node type nodetypenam
built def builtinntdef node type nodetypenam
param
return node definit
node def nodedef node def getnodedef node def nodedefid
node def nodedef node def nodedef
param
return properti definit
prop def propdef prop def getpropdef prop def propdefid
prop def propdef prop def propdef
add code nodetyperegistrylisten code
param listen listen inform registr
node type
add listen addlisten node type registri listen nodetyperegistrylisten listen
listen kei containskei listen
listen put listen listen
remov code nodetyperegistrylisten code
param listen exist listen
remov listen removelisten node type registri listen nodetyperegistrylisten listen
listen remov listen
dumpabl
inheritdoc
dump print stream printstream
println nodetyperegistri
println
println regist nodetyp
println
iter iter regist def registeredntdef valu iter
iter hasnext
node type def nodetypedef ntd node type def nodetypedef iter
println ntd getnam
qname supertyp ntd supertyp getsupertyp
println tsupertyp
supertyp length
println supertyp
println tmixin ntd mixin ismixin
println torderablechildnod ntd order child node hasorderablechildnod
println tprimaryitemnam ntd primari item getprimaryitemnam null ntd primari item getprimaryitemnam string tostr
prop def propdef ntd properti def getpropertydef
length
print tpropertydefinit
println declar declar node type getdeclaringnodetyp getid
println tname defin residu definesresidu getnam string tostr
string type requir type getrequiredtyp null properti type propertytyp namefromvalu requir type getrequiredtyp
println trequiredtyp type
constraint valueconstraint vca constraint getvalueconstraint
string buffer stringbuff constraint string buffer stringbuff
vca
constraint append null
vca length
constraint length
constraint append
constraint append vca definit getdefinit
println tvalueconstraint constraint string tostr
intern internalvalu def val defval default valu getdefaultvalu
string buffer stringbuff default valu defaultvalu string buffer stringbuff
def val defval
default valu defaultvalu append null
def val defval length
default valu defaultvalu length
default valu defaultvalu append
default valu defaultvalu append def val defval string tostr
println tdefaultvalu default valu defaultvalu string tostr
println tautocr auto creat isautocr
println tmandatori mandatori ismandatori
println tonvers parent version action onparentversionact namefromvalu parent version getonparentvers
println tprotect protect isprotect
println tmultipl multipl ismultipl
node def nodedef ntd child node def getchildnodedef
length
print tnodedefinit
println declar declar node type getdeclaringnodetyp getid
println tname defin residu definesresidu getnam string tostr
qname req primari type reqprimarytyp requir primari type getrequiredprimarytyp
req primari type reqprimarytyp req primari type reqprimarytyp length
req primari type reqprimarytyp length
print trequiredprimarytyp req primari type reqprimarytyp
qname def primari type defprimarytyp default primari type getdefaultprimarytyp
def primari type defprimarytyp
print tdefaultprimarytyp def primari type defprimarytyp
println tautocr auto creat isautocr
println tmandatori mandatori ismandatori
println tonvers parent version action onparentversionact namefromvalu parent version getonparentvers
println tprotect protect isprotect
println tallowssamenames sibl allowssamenames
println
ent cach entcach dump
nodetypeeventlisten
inheritdoc
extern regist externalregist collect def ntdef
repositori except repositoryexcept invalid node type def except invalidnodetypedefexcept
valid regist node type definit
intern regist internalregist def ntdef
persist node type definit
iter iter def ntdef iter iter hasnext
node type def nodetypedef def ntdef node type def nodetypedef iter
custom def customntdef add def ntdef
persist custom node type def persistcustomnodetypedef custom def customntdef
notifi listen
iter iter def ntdef iter iter hasnext
node type def nodetypedef def ntdef node type def nodetypedef iter
notifi regist notifyregist def ntdef getnam
overrid
protect constructor
param nsreg
param ntstore
throw repositoryexcept
node type registri nodetyperegistri namespac registri namespaceregistri reg nsreg file system filesystem store ntstore
repositori except repositoryexcept
reg nsreg reg nsreg
store ntstore store ntstore
custom node type resourc customnodetypesresourc
file system resourc filesystemresourc store ntstore custom nodetyp resourc custom nodetyp resourc
make path resourc exist
custom node type resourc customnodetypesresourc exist
custom node type resourc customnodetypesresourc make parent dir makeparentdir
file system except filesystemexcept fse
string error intern error invalid resourc
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error fse
improv node type cach
replac entcach effectivenodetypecacheimpl
ent cach entcach bitset ent cach impl bitsetentcacheimpl
regist def registeredntdef concurr reader hash map concurrentreaderhashmap
prop def propdef concurr reader hash map concurrentreaderhashmap
node def nodedef concurr reader hash map concurrentreaderhashmap
setup definit root node
root node def rootnodedef creat root node def createrootnodedef
node def nodedef put root node def rootnodedef getid root node def rootnodedef
load regist pre defin built node type
built def builtinntdef node type def store nodetypedefstor
load built node type definit
load built node type def loadbuiltinnodetypedef built def builtinntdef
regist built node type
intern regist internalregist built def builtinntdef
invalid node type def except invalidnodetypedefexcept intd
string error
intern error invalid built node type definit store
builtin nodetyp resourc path builtin nodetyp resourc path
log debug error
repositori except repositoryexcept error intd
load regist custom node type
custom def customntdef node type def store nodetypedefstor
load custom node type definit
load custom node type def loadcustomnodetypedef custom def customntdef
valid regist custom node type
intern regist internalregist custom def customntdef
invalid node type def except invalidnodetypedefexcept intd
string error
intern error invalid custom node type definit store
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error intd
load built node type definit code store code
method overridden extens class
call constructor
param store link nodetypedefstor node type
definit load
throw repositoryexcept error occurr load
built node type definit
load built node type def loadbuiltinnodetypedef node type def store nodetypedefstor store
repositori except repositoryexcept
input stream inputstream
class getclass class loader getclassload resourc stream getresourceasstream builtin nodetyp resourc path builtin nodetyp resourc path
store load
except ioexcept ioe
string error
intern error fail read built node type definit store
builtin nodetyp resourc path builtin nodetyp resourc path
log debug error
repositori except repositoryexcept error ioe
invalid node type def except invalidnodetypedefexcept intd
string error
intern error invalid built node type definit store
builtin nodetyp resourc path builtin nodetyp resourc path
log debug error
repositori except repositoryexcept error intd
close
except ioexcept ioe
ignor
load custom node type definit code store code
method overridden extens class
call constructor
param store link nodetypedefstor node type
definit load
throw repositoryexcept error occurr load
custom node type definit
load custom node type def loadcustomnodetypedef node type def store nodetypedefstor store
repositori except repositoryexcept
input stream inputstream
custom node type resourc customnodetypesresourc exist
custom node type resourc customnodetypesresourc input stream getinputstream
file system except filesystemexcept fse
string error
intern error fail access custom node type definit store
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error fse
log info custom node type definit found
store load
except ioexcept ioe
string error
intern error fail read custom node type definit store
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error ioe
invalid node type def except invalidnodetypedefexcept intd
string error
intern error invalid custom node type definit store
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error intd
close
except ioexcept ioe
ignor
persist custom node type definit contain
code store code
param store link nodetypedefstor definiton
persist
throw repositoryexcept error occurr persist
custom node type definit
persist custom node type def persistcustomnodetypedef node type def store nodetypedefstor store
repositori except repositoryexcept
output stream outputstream
custom node type resourc customnodetypesresourc output stream getoutputstream
store store reg nsreg
except ioexcept ioe
string error
intern error fail persist custom node type definit
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error ioe
file system except filesystemexcept fse
string error
intern error fail persist custom node type definit
custom node type resourc customnodetypesresourc path getpath
log debug error
repositori except repositoryexcept error fse
close
except ioexcept ioe
ignor
check exist content conflict
node type definit
method implement throw
code repositoryexcept code
todo
appli deep lock root node workspac altern
put repositori 'exclusive' 'singl user' mode
check node type node type
depend node type referenc node
repositori
check appli chang definit affect item
violat exist node type constraint
appli persist affect node updat
definit id'
check action absolut order
guarante integr repositori content
param ntd node type definit replac node type
definit
throw repositoryexcept conflict content
check fail reason
check conflict content checkforconflictingcont node type def nodetypedef ntd
repositori except repositoryexcept
collect name node type depend
node type
set dependentnt getdependentnodetyp ntd getnam
repositori except repositoryexcept implement
check exist content directli indirectli
refer node type
method implement throw
code repositoryexcept code
todo
appli deep lock root node workspac altern
put repositori 'singl user' mode
check node type referenc node
repositori
remov node type referenc
throw except
check absolut order guarante
integr repositori content
param nodetypenam node type check
throw repositoryexcept node type
referenc check fail
reason
check refer content checkforreferencesincont qname node type nodetypenam
repositori except repositoryexcept
repositori except repositoryexcept implement
implement
return definit root node
node def nodedef root node def getrootnodedef
root node def rootnodedef
set event channel inform
param eventchannel event channel
set event channel seteventchannel node type event channel nodetypeeventchannel event channel eventchannel
event channel eventchannel event channel eventchannel
event channel eventchannel set listen setlisten
param ntname
param entcach
param ntdcach
return
throw nosuchnodetypeexcept
param entcach cach built effect node type
param ntdcach cach node type definit
return
throw nosuchnodetypeexcept node type refer supertyp
resolv
effect node type effectivenodetyp effect node type geteffectivenodetyp qname ntname
effect node type cach effectivenodetypecach ent cach entcach
map ntd cach ntdcach
node type except nosuchnodetypeexcept
check effect node type built
effect node type cach effectivenodetypecach kei kei ent cach entcach kei getkei qname ntname
effect node type effectivenodetyp ent ent cach entcach kei
ent
ent
make definit node type
node type def nodetypedef ntd node type def nodetypedef ntd cach ntdcach ntname
ntd
node type except nosuchnodetypeexcept ntname string tostr
build effect node type
ent cach entcach
ent effect node type effectivenodetyp creat ntd ent cach entcach ntd cach ntdcach
store effect node type
ent cach entcach put ent
ent
node type conflict except nodetypeconflictexcept ntce
node type valid
string msg intern error encount invalid regist node type ntname
log debug msg
node type except nosuchnodetypeexcept msg ntce
return effect node type represent node type
param ntname arrai node type name
param entcach cach built effect node type
param ntdcach cach node type definit
return desir effect node type
throw nodetypeconflictexcept effect node type represent
built due conflict
node type definit
throw nosuchnodetypeexcept node type refer supertyp
resolv
effect node type effectivenodetyp effect node type geteffectivenodetyp qname name ntname
effect node type cach effectivenodetypecach ent cach entcach
map ntd cach ntdcach
node type conflict except nodetypeconflictexcept node type except nosuchnodetypeexcept
effect node type cach effectivenodetypecach kei kei ent cach entcach kei getkei name ntname
check aggreg built
ent cach entcach kei
ent cach entcach kei
make definit node type
name ntname length
ntd cach ntdcach kei containskei name ntname
node type except nosuchnodetypeexcept name ntname string tostr
build aggreg
effect node type cach effectivenodetypecach kei request kei
effect node type effectivenodetyp result
ent cach entcach
build list 'best' exist aggreg
kei name getnam length
find kei match current kei
effect node type cach effectivenodetypecach kei kei subkei ent cach entcach find findbest kei
kei subkei
effect node type effectivenodetyp ent ent cach entcach kei subkei
result
result ent
result result merg ent
store intermedi result
ent cach entcach put result
subtract result temporari kei
kei kei subtract kei subkei
match aggreg found
build aggreg remain node type iter
qname remaind kei name getnam
remaind length
node type def nodetypedef ntd node type def nodetypedef ntd cach ntdcach remaind
effect node type effectivenodetyp ent
effect node type effectivenodetyp creat ntd ent cach entcach ntd cach ntdcach
store effect node type
ent cach entcach put ent
result
result ent
result result merg ent
store intermedi result aggreg
ent cach entcach put result
put request kei merg remov
redund nodetyp
ent cach entcach request
ent cach entcach put request result
result
check circular inherit checkforcircularinherit qname supertyp
stack inherit chain inheritancechain
map def cach ntdefcach
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
supertyp length
qname supertyp
po inherit chain inheritancechain index lastindexof
po
string buffer stringbuff buf string buffer stringbuff
inherit chain inheritancechain size
po
buf append
buf append inherit chain inheritancechain
buf append extend
buf append
buf append
invalid node type def except invalidnodetypedefexcept circular inherit detect buf string tostr
node type def nodetypedef ntd node type def nodetypedef def cach ntdefcach
qname sta ntd supertyp getsupertyp
sta length
check recurs
inherit chain inheritancechain push
check circular inherit checkforcircularinherit sta inherit chain inheritancechain def cach ntdefcach
inherit chain inheritancechain pop
node type except nosuchnodetypeexcept nsnte
string msg unknown supertyp
log debug msg
invalid node type def except invalidnodetypedefexcept msg nsnte
check circular node auto creation checkforcircularnodeautocr effect node type effectivenodetyp child node ent childnod
stack defin parent definingparentnt
effect node type cach effectivenodetypecach ent cach anentcach
map def cach ntdefcach
invalid node type def except invalidnodetypedefexcept
check circular default node type auto creat child node
node type 'a' defin auto creat child node default node type 'a'
qname child node childnod child node ent childnod node type getallnodetyp
child node childnod length
qname child node childnod
po defin parent definingparentnt index lastindexof
po
string buffer stringbuff buf string buffer stringbuff
defin parent definingparentnt size
po
buf append
buf append node type
buf append defin parent definingparentnt
buf append defin auto creat child node default
buf append
buf append node type
buf append
invalid node type def except invalidnodetypedefexcept circular node auto creation detect
buf string tostr
node def nodedef node def nodedef child node ent childnod auto creat node def getautocreatenodedef
node def nodedef length
qname dnt node def nodedef default primari type getdefaultprimarytyp
qname defin definingnt node def nodedef declar node type getdeclaringnodetyp
dnt
check recurs
defin parent definingparentnt push defin definingnt
check circular node auto creation checkforcircularnodeautocr effect node type geteffectivenodetyp dnt ent cach anentcach def cach ntdefcach
defin parent definingparentnt ent cach anentcach def cach ntdefcach
defin parent definingparentnt pop
node type except nosuchnodetypeexcept nsnte
string msg defin definingnt
defin invalid default node type child node node def nodedef getnam
log debug msg
invalid node type def except invalidnodetypedefexcept msg nsnte
effect node type effectivenodetyp intern regist internalregist node type def nodetypedef ntd
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
qname ntd getnam
regist def registeredntdef kei containskei
string msg exist
log debug msg
invalid node type def except invalidnodetypedefexcept msg
effect node type effectivenodetyp ent
valid node type def validatenodetypedef ntd ent cach entcach regist def registeredntdef reg nsreg
store effect node type instanc
ent cach entcach put ent
regist clone node type definit
ntd node type def nodetypedef ntd clone
regist def registeredntdef put ntd
store properti child node definit node type
prop def propdef pda ntd properti def getpropertydef
pda length
prop def propdef put pda getid pda
node def nodedef nda ntd child node def getchildnodedef
nda length
node def nodedef put nda getid nda
ent
valid regist collect code nodetypedef code
object code invalidnodetypedefexcept code thrown
valid contain code nodetypedef code object fail
note case except thrown node type
eventu regist
param ntdef collect code nodetypedef code object
throw invalidnodetypedefexcept
throw repositoryexcept
registernodetyp
intern regist internalregist collect def ntdef
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
intern regist internalregist def ntdef
link internalregist java util collect
addit code lenient code paramet govern
valid lenient built node type
strict case custom node type differenti
requir properti defin built
node type auto creat fix default
expos properti definit
system gener jcr primarytyp base
intern regist internalregist collect def ntdef lenient
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
creat work copi current ent ntd cach
cach pre built aggreg node type
effect node type cach effectivenodetypecach tmp ent cach tmpentcach effect node type cach effectivenodetypecach ent cach entcach clone
map node type name node type definit
map tmp def cach tmpntdefcach hash map hashmap regist def registeredntdef
temporarili regist node type definit
preliminari check
iter iter def ntdef iter iter hasnext
node type def nodetypedef ntd node type def nodetypedef iter
qname ntd getnam
regist def registeredntdef kei containskei
string msg exist
log debug msg
invalid node type def except invalidnodetypedefexcept msg
add definit temporari cach
tmp def cach tmpntdefcach put ntd getnam ntd
iter iter def ntdef iter iter hasnext
node type def nodetypedef ntd node type def nodetypedef iter
effect node type effectivenodetyp ent
valid node type def validatenodetypedef ntd tmp ent cach tmpentcach tmp def cach tmpntdefcach reg nsreg
lenient
store effect node type instanc
tmp ent cach tmpentcach put ent
except thrown definit assum
valid
iter iter def ntdef iter iter hasnext
node type def nodetypedef ntd node type def nodetypedef iter
regist clone node type definit
ntd node type def nodetypedef ntd clone
regist def registeredntdef put ntd getnam ntd
store properti child node definit node type
prop def propdef pda ntd properti def getpropertydef
pda length
prop def propdef put pda getid pda
node def nodedef nda ntd child node def getchildnodedef
nda length
node def nodedef put nda getid nda
final add newli creat effect node type entcach
ent cach entcach tmp ent cach tmpentcach
intern unregist internalunregist qname node type except nosuchnodetypeexcept
node type def nodetypedef ntd node type def nodetypedef regist def registeredntdef
ntd
node type except nosuchnodetypeexcept string tostr
regist def registeredntdef remov
ent cach entcach invalid
remov properti child node definit
prop def propdef pda ntd properti def getpropertydef
pda length
prop def propdef remov pda getid
node def nodedef nda ntd child node def getchildnodedef
nda length
node def nodedef remov nda getid
intern unregist internalunregist collect name ntname
node type except nosuchnodetypeexcept
iter iter name ntname iter iter hasnext
qname qname iter
intern unregist internalunregist
util method verifi namespac code qname code
regist code null code argument silent
param namespac check
param nsreg namespac registri check
throw repositoryexcept namespac
regist unspecifi error occur
check namespac checknamespac qname namespac registri namespaceregistri reg nsreg
repositori except repositoryexcept
make namespac uri denot regist namespac
reg nsreg prefix getprefix namespac uri getnamespaceuri
valid code nodetypedef code context
collect return code effectivenodetyp code
param ntd
param entcach
param ntdcach cach 'known' node type definit resolv depend
param nsreg namespac registri valid qualifi name
param lenient flag govern valid lenient strict
return effect node type represent code nodetypedef code
throw invalidnodetypedefexcept
throw repositoryexcept error occur
effect node type effectivenodetyp valid node type def validatenodetypedef node type def nodetypedef ntd
effect node type cach effectivenodetypecach ent cach entcach
map ntd cach ntdcach
namespac registri namespaceregistri reg nsreg
lenient
invalid node type def except invalidnodetypedefexcept repositori except repositoryexcept
effect merg resolv node type result
node type definit
effect node type final creat definit
verifi check conflict case
creat earlier stage valid
child node definit
effect node type effectivenodetyp ent
qname ntd getnam
string msg
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check namespac checknamespac reg nsreg
valid supertyp
qname supertyp ntd supertyp getsupertyp
supertyp length
supertyp length
check namespac checknamespac supertyp reg nsreg
simpl check infinit recurs
trap recurs deeper inherit level
equal supertyp
string msg invalid supertyp
supertyp infinit recurs
log debug msg
invalid node type def except invalidnodetypedefexcept msg
ntd cach ntdcach kei containskei supertyp
string msg invalid supertyp
supertyp
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check circular inherit chain
'a' extend 'b' extend 'a'
stack inherit chain inheritancechain stack
inherit chain inheritancechain push
check circular inherit checkforcircularinherit supertyp inherit chain inheritancechain ntd cach ntdcach
note infinit recurs inherit automat
check call geteffectivenodetyp
imposs regist node type definit
refer supertyp regist
build effect merg resolv node type supertyp
check conflict
supertyp length
effect node type effectivenodetyp est effect node type geteffectivenodetyp supertyp ent cach entcach ntd cach ntdcach
make primari type base extend base
ntd mixin ismixin qname base base equal ntd getnam
est includ node type includesnodetyp qname base base
string msg primari node type
base directli indirectli deriv base
log debug msg
invalid node type def except invalidnodetypedefexcept msg
node type conflict except nodetypeconflictexcept ntce
string msg fail valid supertyp
log debug msg
invalid node type def except invalidnodetypedefexcept msg ntce
node type except nosuchnodetypeexcept nsnte
string msg fail valid supertyp
log debug msg
invalid node type def except invalidnodetypedefexcept msg nsnte
check namespac checknamespac ntd primari item getprimaryitemnam reg nsreg
valid properti definit
prop def propdef pda ntd properti def getpropertydef
pda length
prop def propdef pda
saniti check
make declar node type match node type definit
equal declar node type getdeclaringnodetyp
string msg getnam
invalid declar node type
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check namespac checknamespac getnam reg nsreg
check auto creat properti
defin residu definesresidu auto creat isautocr
string msg getnam
auto creat properti
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check auto creat properti type
requir type getrequiredtyp properti type propertytyp undefin
auto creat isautocr
string msg getnam
auto creat properti type
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check default valu
make type consist requir properti type
intern internalvalu def val defval default valu getdefaultvalu
def val defval def val defval length
req type reqtyp requir type getrequiredtyp
def val defval length
req type reqtyp properti type propertytyp undefin
req type reqtyp def val defval type gettyp
def val defval type gettyp req type reqtyp
string msg getnam
type default consist requir properti type
log debug msg
invalid node type def except invalidnodetypedefexcept msg
default valu
lenient
auto creat properti default
auto creat isautocr
string msg getnam
auto creat properti default
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check default valu satisfi constraint
constraint valueconstraint constraint constraint getvalueconstraint
constraint constraint length
def val defval def val defval length
check constraint
def val defval length
constraint
satisfi
constraint violat except constraintviolationexcept cve
constraint length
constraint check def val defval
constraint satisfi
satisfi
constraint violat except constraintviolationexcept
cve
satisfi
report except encount
string msg getnam
default satisfi constraint
log debug msg
invalid node type def except invalidnodetypedefexcept msg cve
referenceconstraint
node type regist notabl
except node type regist
requir type getrequiredtyp properti type propertytyp refer
constraint length
refer constraint referenceconstraint refer constraint referenceconstraint constraint
qname ntname node type getnodetypenam
equal ntname ntd cach ntdcach kei containskei ntname
string msg getnam
invalid refer constraint
ntname unknown node type
log debug msg
invalid node type def except invalidnodetypedefexcept msg
valid child node definit
node def nodedef cnda ntd child node def getchildnodedef
cnda length
node def nodedef cnd cnda
saniti check
make declar node type match node type definit
equal cnd declar node type getdeclaringnodetyp
string msg cnd getnam
invalid declar node type
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check namespac checknamespac cnd getnam reg nsreg
check auto creat child node
cnd defin residu definesresidu cnd auto creat isautocr
string msg cnd getnam
auto creat child node
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check auto creat child node default primari type
cnd default primari type getdefaultprimarytyp
cnd auto creat isautocr
string msg cnd getnam
auto creat child node default primari type
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check default primari type
qname dpt cnd default primari type getdefaultprimarytyp
check namespac checknamespac dpt reg nsreg
refer referencetoself
effect node type effectivenodetyp default ent default
dpt
check node type specifi default primari type
equal dpt
refer referencetoself
default primari type regist notabl
except node type regist
equal dpt ntd cach ntdcach kei containskei dpt
string msg cnd getnam
invalid default primari type dpt
log debug msg
invalid node type def except invalidnodetypedefexcept msg
build effect merg resolv node type
default primari type check conflict
refer referencetoself
default ent default effect node type geteffectivenodetyp dpt ent cach entcach ntd cach ntdcach
default primari type ident node
type regist instanti
'manually'
ent effect node type effectivenodetyp creat ntd ent cach entcach ntd cach ntdcach
default ent default ent
cnd auto creat isautocr
check circular default primari type
auto creat child node node type 'a' defin
auto creat child node default primari type 'a'
stack defin definingnt stack
defin definingnt push
check circular node auto creation checkforcircularnodeautocr default ent default defin definingnt ent cach entcach ntd cach ntdcach
node type conflict except nodetypeconflictexcept ntce
string msg cnd getnam
fail valid default primari type
log debug msg
invalid node type def except invalidnodetypedefexcept msg ntce
node type except nosuchnodetypeexcept nsnte
string msg cnd getnam
fail valid default primari type
log debug msg
invalid node type def except invalidnodetypedefexcept msg nsnte
check requir primari type
qname req type reqtyp cnd requir primari type getrequiredprimarytyp
req type reqtyp req type reqtyp length
req type reqtyp length
qname rpt req type reqtyp
check namespac checknamespac rpt reg nsreg
refer referencetoself
check node type specifi requir
primari type
equal rpt
refer referencetoself
requir primari type regist
notabl except node type regist
equal rpt ntd cach ntdcach kei containskei rpt
string msg cnd getnam
invalid requir primari type rpt
log debug msg
invalid node type def except invalidnodetypedefexcept msg
check default primari type satisfi requir
primari type constraint
default ent default default ent default includ node type includesnodetyp rpt
string msg cnd getnam
default primari type satisfi requir primari type constraint
rpt
log debug msg
invalid node type def except invalidnodetypedefexcept msg
build effect merg resolv node type
requir primari type constraint check conflict
refer referencetoself
effect node type geteffectivenodetyp rpt ent cach entcach ntd cach ntdcach
requir primari type ident
node type regist
instanti 'manually'
ent
ent effect node type effectivenodetyp creat ntd ent cach entcach ntd cach ntdcach
node type conflict except nodetypeconflictexcept ntce
string msg cnd getnam
fail valid requir primari type constraint
log debug msg
invalid node type def except invalidnodetypedefexcept msg ntce
node type except nosuchnodetypeexcept nsnte
string msg cnd getnam
fail valid requir primari type constraint
log debug msg
invalid node type def except invalidnodetypedefexcept msg nsnte
build effect merg resolv node type
node type definit potenti detect
conflict problem
ent
ent effect node type effectivenodetyp creat ntd ent cach entcach ntd cach ntdcach
node type conflict except nodetypeconflictexcept ntce
string msg fail resolv node type definit
log debug msg
invalid node type def except invalidnodetypedefexcept msg ntce
node type except nosuchnodetypeexcept nsnte
string msg fail resolv node type definit
log debug msg
invalid node type def except invalidnodetypedefexcept msg nsnte
ent
node def nodedef creat root node def createrootnodedef
node def impl nodedefimpl def node def impl nodedefimpl
fixm fake declar node type
rep root correct exist node type
def set declar node type setdeclaringnodetyp qname rep root rep root
def set requir primari type setrequiredprimarytyp qname qname rep root rep root
def set default primari type setdefaultprimarytyp qname rep root rep root
def set mandatori setmandatori
def set protect setprotect
def set parent version setonparentvers parent version action onparentversionact version
def set sibl setallowssamenames
def set auto creat setautocr
def
notifi listen node type code ntname code regist
notifi regist notifyregist qname ntname
copi listen arrai avoid concurrentmodificationexcept
node type registri listen nodetyperegistrylisten
node type registri listen nodetyperegistrylisten listen valu arrai toarrai
node type registri listen nodetyperegistrylisten listen size
length
node type regist nodetyperegist ntname
notifi listen node type code ntname code regist
notifi regist notifyreregist qname ntname
copi listen arrai avoid concurrentmodificationexcept
node type registri listen nodetyperegistrylisten
node type registri listen nodetyperegistrylisten listen valu arrai toarrai
node type registri listen nodetyperegistrylisten listen size
length
node type regist nodetypereregist ntname
notifi listen node type code ntname code unregist
notifi unregist notifyunregist qname ntname
copi listen arrai avoid concurrentmodificationexcept
node type registri listen nodetyperegistrylisten
node type registri listen nodetyperegistrylisten listen valu arrai toarrai
node type registri listen nodetyperegistrylisten listen size
length
node type unregist nodetypeunregist ntname
