org apach jackrabbit webdav search
org apach jackrabbit webdav dav except davexcept
org apach jackrabbit webdav dav servlet respons davservletrespons
org apach jackrabbit webdav dav constant davconst
org apach jackrabbit webdav xml dom util domutil
org apach jackrabbit webdav xml namespac
org apach jackrabbit webdav xml xml serializ xmlserializ
org slf4j logger
org slf4j logger factori loggerfactori
org w3c dom document
org w3c dom element
org w3c dom attr
java util map
java util hash map hashmap
java util collect
java util set
java util hash set hashset
code searchinfo code pars 'searchrequest' element search
request bodi perform basic valid queri languag
queri access result object
note queri expect repres text contain
xml element queri languag 'basicsearch' defin
webdav search internet draft support implement
valid 'searchrequest' bodi
pre
searchrequest xmln dav dcr http www dai jcr webdav
dcr xpath node 'myapp paragraph' dcr xpath
searchrequest
pre
return valu
pre
getlanguagenam xpath
getqueri node 'myapp paragraph'
pre
search info searchinfo search constant searchconst xml serializ xmlserializ
logger log logger factori loggerfactori logger getlogg search info searchinfo
nresult undefin nresult undefin
offset undefin offset undefin
string limit limit
string nresult nresult
string offset offset
set namespac uri string search request
set string namespac namespac
set string hash set hashset string
add namespac xmln namespac xmln namespac uri geturi
add namespac xml namespac xml namespac uri geturi
add dav constant davconst namespac uri geturi
namespac namespac collect unmodifi set unmodifiableset
string languag
namespac languag namespac languagenamespac
string queri
map string string namespac
nresult nresult undefin nresult undefin
offset offset undefin offset undefin
creat code searchinfo code instanc
param languag
param languagenamespac
param queri
param namespac map namespac kei prefix uri
search info searchinfo string languag namespac languag namespac languagenamespac string queri
map string string namespac
languag languag
languag namespac languagenamespac languag namespac languagenamespac
queri queri
namespac collect unmodifi map unmodifiablemap hash map hashmap namespac
creat code searchinfo code instanc
param languag
param languagenamespac
param queri
search info searchinfo string languag namespac languag namespac languagenamespac string queri
languag languag namespac languagenamespac queri collect string string empti map emptymap
return queri languag
return queri languag
string languag getlanguagenam
languag
return namespac languag search request element
return namespac request languag
namespac languag space getlanguagenamespac
languag namespac languagenamespac
return queri string
return queri string
string queri getqueri
queri
return namespac map user
return map namespac prefix map kei prefix uri
map string string namespac getnamespac
namespac
return maxim number search result return
return maxim number search result return
number result getnumberresult
nresult
set maxim number search result return
param nresult maxim number search result
set number result setnumberresult nresult
nresult nresult
return desir offset total result set
return desir offset total result set
offset getoffset
offset
set desir offset total result set
param offset desir offset total result set
set offset setoffset offset
offset offset
return xml represent code searchinfo code instanc
return xml represent
param document
element xml toxml document document
element request elem srequestelem dom util domutil creat element createel document xml searchrequest xml searchrequest namespac
string prefix namespac kei set keyset
string uri namespac prefix
dom util domutil set namespac attribut setnamespaceattribut request elem srequestelem prefix uri
dom util domutil add child element addchildel request elem srequestelem languag languag namespac languagenamespac queri
nresult nresult undefin nresult undefin offset offset undefin offset undefin
element limit limit dom util domutil add child element addchildel request elem srequestelem limit namespac
nresult nresult undefin nresult undefin
dom util domutil add child element addchildel limit limit nresult namespac nresult
offset offset undefin offset undefin
todo defin reason namespac
dom util domutil add child element addchildel limit limit offset namespac empti namespac empti namespac offset
request elem srequestelem
creat code searchinfo code document
retriev request bodi
param searchrequest
throw davexcept root element'
'searchrequest' singl child element
queri languag
search info searchinfo creat xml createfromxml element search request searchrequest dav except davexcept
search request searchrequest xml searchrequest xml searchrequest equal search request searchrequest local getlocalnam
log warn root element 'searchrequest'
dav except davexcept dav servlet respons davservletrespons bad request bad request
element dom util domutil child element getfirstchildel search request searchrequest
attr attribut nsattribut dom util domutil namespac attribut getnamespaceattribut search request searchrequest
map string string namespac hash map hashmap string string
attr attribut nsattribut attribut nsattribut
filter xmln namespac dav namespac
namespac namespac attribut nsattribut getvalu
namespac put attribut nsattribut local getlocalnam attribut nsattribut getvalu
search info searchinfo info sinfo
info sinfo search info searchinfo local getlocalnam dom util domutil namespac getnamespac dom util domutil text gettext namespac
log warn singl child element expect 'dav searchrequest'
dav except davexcept dav servlet respons davservletrespons bad request bad request
element limit dom util domutil child element getchildel search request searchrequest limit namespac
limit
dav nresult element
string nresult dom util domutil child text trim getchildtexttrim limit nresult namespac
nresult
info sinfo set number result setnumberresult long valueof nresult
number format except numberformatexcept
log error dav nresult pars long ignor
offset defin dav limit element
string offset dom util domutil child text trim getchildtexttrim limit offset namespac empti namespac empti namespac
offset
info sinfo set offset setoffset long valueof offset
number format except numberformatexcept
log error 'offset' pars long ignor
info sinfo
