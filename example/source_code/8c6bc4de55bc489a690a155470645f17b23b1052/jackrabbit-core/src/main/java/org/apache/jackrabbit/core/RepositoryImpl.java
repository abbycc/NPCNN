org apach jackrabbit core
oswego util concurr mutex
oswego util concurr read write lock readwritelock
oswego util concurr reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
oswego util concurr writer prefer read write lock writerpreferencereadwritelock
org apach common collect map refer map referencemap
org apach common util ioutil
org apach jackrabbit api jackrabbit repositori jackrabbitrepositori
org apach jackrabbit common abstract repositori abstractrepositori
org apach jackrabbit core cluster cluster context clustercontext
org apach jackrabbit core cluster cluster except clusterexcept
org apach jackrabbit core cluster cluster node clusternod
org apach jackrabbit core cluster workspac event channel workspaceeventchannel
org apach jackrabbit core cluster workspac listen workspacelisten
org apach jackrabbit core cluster lock event channel lockeventchannel
org apach jackrabbit core cluster updat event channel updateeventchannel
org apach jackrabbit core cluster updat event listen updateeventlisten
org apach jackrabbit core config cluster config clusterconfig
org apach jackrabbit core config persist manag config persistencemanagerconfig
org apach jackrabbit core config repositori config repositoryconfig
org apach jackrabbit core config secur manag config securitymanagerconfig
org apach jackrabbit core config version config versioningconfig
org apach jackrabbit core config workspac config workspaceconfig
org apach jackrabbit core data data store datastor
org apach jackrabbit core base file system basedfilesystem
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system except filesystemexcept
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core lock lock manag lockmanag
org apach jackrabbit core lock lock manag impl lockmanagerimpl
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp virtual virtual node type state manag virtualnodetypestatemanag
org apach jackrabbit core observ deleg observ dispatch delegatingobservationdispatch
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core observ observ dispatch observationdispatch
org apach jackrabbit core persist context pmcontext
org apach jackrabbit core persist persist manag persistencemanag
org apach jackrabbit core secur jackrabbit secur manag jackrabbitsecuritymanag
org apach jackrabbit core secur authent auth context authcontext
org apach jackrabbit core secur simpl simpl secur manag simplesecuritymanag
org apach jackrabbit core state cach manag cachemanag
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state ism lock ismlock
org apach jackrabbit core state item state cach factori itemstatecachefactori
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state manag mlru item state cach factori managedmlruitemstatecachefactori
org apach jackrabbit core state share item state manag shareditemstatemanag
org apach jackrabbit core util repositori lock repositorylock
org apach jackrabbit core intern internalvalu
org apach jackrabbit core version version manag versionmanag
org apach jackrabbit core version version manag impl versionmanagerimpl
org apach jackrabbit core xml clone input sourc clonedinputsourc
org apach jackrabbit core retent retent registri retentionregistri
org apach jackrabbit core retent retent registri impl retentionregistryimpl
org apach jackrabbit spi common constant nameconst
org apach jackrabbit spi common namespac namespac resolv namespaceresolv
org apach jackrabbit spi common namespac registri namespac resolv registrynamespaceresolv
org slf4j logger
org slf4j logger factori loggerfactori
org xml sax input sourc inputsourc
javax jcr access deni except accessdeniedexcept
javax jcr credenti
javax jcr login except loginexcept
javax jcr namespac registri namespaceregistri
javax jcr workspac except nosuchworkspaceexcept
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr observ event
javax jcr observ event iter eventiter
javax jcr observ event listen eventlisten
javax jcr observ observ manag observationmanag
javax secur auth subject
java file
java except ioexcept
java input stream inputstream
java input stream reader inputstreamread
java output stream outputstream
java output stream writer outputstreamwrit
java string reader stringread
java secur access control context accesscontrolcontext
java secur access control accesscontrol
java util arrai
java util hash map hashmap
java util hash set hashset
java util iter
java util list
java util properti
java util set
code repositoryimpl code
repositori impl repositoryimpl abstract repositori abstractrepositori
jackrabbit repositori jackrabbitrepositori session listen sessionlisten event listen eventlisten workspac listen workspacelisten
logger log logger factori loggerfactori logger getlogg repositori impl repositoryimpl
hardcod repositori root node
node nodeid root node root node node nodeid valueof cafebab cafe babe cafe babecafebab
hardcod jcr system node
node nodeid system root node system root node node nodeid valueof deadbeef cafe babe cafe babecafebab
hardcod jcr system jcr versionstorag node
node nodeid version storag node version storag node node nodeid valueof deadbeef face babe cafe babecafebab
hardcod jcr system jcr nodetyp node
node nodeid nodetyp node nodetyp node node nodeid valueof deadbeef cafe cafe cafe babecafebab
file system resourc properti
repositori
string properti resourc properti resourc rep properti
repositori properti
properti rep prop repprop
name repositori properti
string stat node count properti stat node count properti jcr repositori stat node count
string stat prop count properti stat prop count properti jcr repositori stat properti count
node nodeid root node rootnodeid
namespac registri impl namespaceregistryimpl reg nsreg
node type registri nodetyperegistri reg ntreg
version manag impl versionmanagerimpl mgr vmgr
virtual node type state manag virtualnodetypestatemanag virt mgr virtntmgr
secur manag
jackrabbit secur manag jackrabbitsecuritymanag secur mgr securitymgr
search manag jcr system tree code null code
configur
search manag searchmanag system search mgr systemsearchmgr
configur repositori
repositori config repositoryconfig rep config repconfig
virtual repositori file system
file system filesystem rep store repstor
file system repositori store meta data uuid root node
file system filesystem meta data store metadatastor
data store binari properti
data store datastor data store datastor
deleg observ dispatch workspac
deleg observ dispatch delegatingobservationdispatch deleg dispatch delegatingdispatch
deleg observ dispatch delegatingobservationdispatch
map workspac name code workspaceinfo code
hash map hashmap wsp info wspinfo hash map hashmap
activ session weak refer
refer map referencemap activ session activesess
refer map referencemap refer map referencemap weak refer map referencemap weak
misc statist
node count nodescount
prop count propscount
flag indic respositori shut
dispos
lock guard instanti multipl repositori
repositori lock repositorylock rep lock replock
cluster node code null code cluster configur
cluster node clusternod cluster node clusternod
shutdown lock guarante session start
repositori shutdown repositori shutdown initi
login session login acquir read lock
repositori shutdown requir write lock guarante
multipl concurr login repositori shut
singl shutdown concurr login
happen simultan
read write lock readwritelock shutdown lock shutdownlock writer prefer read write lock writerpreferencereadwritelock
cach manag repositori manag size cach
cach manag cachemanag cach mgr cachemgr cach manag cachemanag
item state cach factori
item state cach factori itemstatecachefactori cach factori cachefactori manag mlru item state cach factori managedmlruitemstatecachefactori cach mgr cachemgr
chanel post creat workspac messag
workspac event channel workspaceeventchannel creat workspac event channel createworkspaceeventchannel
privat constructor
param repconfig
repositori impl repositoryimpl repositori config repositoryconfig rep config repconfig repositori except repositoryexcept
acquir lock repositori home
setup file system
init root node uuid
load repositori properti
creat registri
init workspac config
initi option cluster
put set extern event sourc cluster node
interest
init version manag
init virtual node type manag
initi startup workspac
initi system search manag
workspac initi pass system session
virtual node type manag
todo fixm global virtual node type manag session bound singl specif workspac
start cluster node step
amount time second idl workspac automat
shut
start workspac janitor thread
repositori startup fail clean
data store datastor data store getdatastor
data store datastor
cach manag repositori
set memori paramet
return cach manag
cach manag cachemanag cach manag getcachemanag
cach mgr cachemgr
item state cach factori repositori
return cach factori
item state cach factori itemstatecachefactori item state cach factori getitemstatecachefactori
cach factori cachefactori
cluster node return code null code repositori
run cluster
return cluster node
cluster node clusternod cluster node getclusternod
cluster node clusternod
return link org apach jackrabbit core secur jackrabbitsecuritymanag securitymanag
code repositori code
return secur manag
throw repositoryexcept error occur
jackrabbit secur manag jackrabbitsecuritymanag secur manag getsecuritymanag
repositori except repositoryexcept
secur mgr securitymgr
secur manag config securitymanagerconfig smc config getconfig secur config getsecurityconfig secur manag config getsecuritymanagerconfig
string workspac workspacenam config getconfig default workspac getdefaultworkspacenam
smc smc workspac getworkspacenam
workspac workspacenam smc workspac getworkspacenam
system session systemsess secur session securitysess system session getsystemsess workspac workspacenam
mark system session 'active' system workspac
dispos workspac janitor
session creat onsessioncr secur session securitysess
smc
log debug configur entri securitymanag org apach jackrabbit core secur simpl simplesecuritymanag
secur mgr securitymgr simpl secur manag simplesecuritymanag
secur mgr securitymgr jackrabbit secur manag jackrabbitsecuritymanag smc instanc newinst
secur mgr securitymgr init secur session securitysess
log info securitymanag secur mgr securitymgr class getclass
secur mgr securitymgr
creat version manag
param vconfig version config
return newli creat version manag
throw repositoryexcept error occurr
version manag impl versionmanagerimpl creat version manag createversionmanag version config versioningconfig config vconfig
deleg observ dispatch delegatingobservationdispatch deleg dispatch delegatingdispatch
repositori except repositoryexcept
file system filesystem config vconfig file system getfilesystem
persist manag persistencemanag creat persist manag createpersistencemanag config vconfig home dir gethomedir
config vconfig persist manag config getpersistencemanagerconfig
root node rootnodeid
reg nsreg
reg ntreg
data store datastor
ism lock ismlock ism lock ismlock config vconfig ism lock getismlock
version manag impl versionmanagerimpl reg ntreg deleg dispatch delegatingdispatch
version storag node version storag node system root node system root node cach factori cachefactori
ism lock ismlock
initi startup workspac base implement initi
default workspac deriv class initi startup
workspac call base implement
throw repositoryexcept error occur
init startup workspac initstartupworkspac repositori except repositoryexcept
string wsp wspname rep config repconfig default workspac getdefaultworkspacenam
string sec wsp secwspnam
secur manag config securitymanagerconfig smc rep config repconfig secur config getsecurityconfig secur manag config getsecuritymanagerconfig
smc
sec wsp secwspnam smc workspac getworkspacenam
init workspac initworkspac workspac info workspaceinfo wsp info wspinfo wsp wspname
sec wsp secwspnam wsp info wspinfo kei containskei sec wsp secwspnam
creat workspac createworkspac sec wsp secwspnam
log info creat system workspac sec wsp secwspnam
repositori except repositoryexcept
default workspac fail initi shutdown
log error fail initi workspac wsp wspname
log error unabl start repositori forc shutdown
shutdown
return root node uuid
param
return
throw repositoryexcept
node nodeid load root node loadrootnodeid file system filesystem repositori except repositoryexcept
file system resourc filesystemresourc uuid file uuidfil file system resourc filesystemresourc rootuuid
uuid file uuidfil exist
load uuid repository' root node
input stream inputstream uuid file uuidfil input stream getinputstream
uuid store binari format byte
byte byte byte
read byte
final
close
catch ioexcept ioe
ignor
rootnodeuuid uuid byte tostr uuid store binari format byte
uuid store text format charact readabl
char
input stream reader inputstreamread reader input stream reader inputstreamread
reader read char
util ioutil close quietli closequietli reader
node nodeid valueof string char
except
string msg fail load persist repositori state
log debug msg
repositori except repositoryexcept msg
creat uuid
uuid rootuuid uuid randomuuid version uuid
rootnodeuuid rootuuid tostr
hard code uuid root node gener
uuid repositori instanc
hard code uuid make easier copi move entir
workspac repositori instanc
persist uuid repository' root node
output stream outputstream uuid file uuidfil output stream getoutputstream
store uuid binari format
write rootuuid getbyt
final
close
catch ioexcept ioe
ignor
store uuid text format readabl
output stream writer outputstreamwrit writer output stream writer outputstreamwrit
writer write root node root node string tostr
util ioutil close quietli closequietli writer
root node root node
except
string msg fail persist repositori state
log debug msg
repositori except repositoryexcept msg
file system except filesystemexcept fse
string msg fail access repositori state
log debug msg
repositori except repositoryexcept msg fse
creat code namespaceregistri code instanc
param
return
throw repositoryexcept
namespac registri impl namespaceregistryimpl creat namespac registri createnamespaceregistri file system filesystem
repositori except repositoryexcept
namespac registri impl namespaceregistryimpl
creat code nodetyperegistri code instanc
param
return
throw repositoryexcept
node type registri nodetyperegistri creat node type registri createnodetyperegistri namespac registri namespaceregistri reg nsreg
file system filesystem
repositori except repositoryexcept
node type registri nodetyperegistri creat reg nsreg
creat code repositoryimpl code instanc
param config configur repositori
return code repositoryimpl code instanc
throw repositoryexcept error occur
repositori impl repositoryimpl creat repositori config repositoryconfig config
repositori except repositoryexcept
repositori impl repositoryimpl config
perform saniti check repositori instanc
throw repositoryexcept repositori render
invalid reason shut
saniti check sanitycheck repositori except repositoryexcept
check repositori statu
dispos
repositori except repositoryexcept
repositori instanc shut
init workspac initworkspac workspac info workspaceinfo wsp info wspinfo repositori except repositoryexcept
initi workspac info
wsp info wspinfo initi
workspac initi
system session workspac instanc
session impl sessionimpl sy session syssess wsp info wspinfo system session getsystemsess
workspac impl workspaceimpl wsp workspac impl workspaceimpl sy session syssess workspac getworkspac
todo implement 'system' workspac
fixm
'system' workspac repositori
'system' workspac jcr system node
version version histori node type reflect
system workspac content jcr system
workspac dynam workspac base
'read only' system workspac
jcr system node creat
link org apach jackrabbit core state shareditemstatemanag createrootnodest
regist repositori event listen keep repositori statist
wsp observ manag getobservationmanag add event listen addeventlisten
event node ad node ad event node remov node remov
event properti ad properti ad event properti remov properti remov
regist searchmanag event listen
search manag searchmanag search mgr searchmgr wsp info wspinfo search manag getsearchmanag
search mgr searchmgr
wsp observ manag getobservationmanag add event listen addeventlisten search mgr searchmgr
event node ad node ad event node remov node remov
event properti ad properti ad event properti remov properti remov
event properti chang properti chang
return system search manag code null code
configur
search manag searchmanag system search manag getsystemsearchmanag string wsp wspname
repositori except repositoryexcept
system search mgr systemsearchmgr
rep config repconfig search config getsearchconfig
system session systemsess def sy session defsyssess system session getsystemsess wsp wspname
system search mgr systemsearchmgr search manag searchmanag rep config repconfig search config getsearchconfig
reg nsreg reg ntreg def sy session defsyssess item state manag getitemstatemanag
mgr vmgr persist manag getpersistencemanag system root node system root node
observ manag observationmanag ob mgr obsmgr def sy session defsyssess workspac getworkspac observ manag getobservationmanag
ob mgr obsmgr add event listen addeventlisten system search mgr systemsearchmgr event node ad node ad
event node remov node remov event properti ad properti ad
event properti chang properti chang event properti remov properti remov
def sy session defsyssess jcr getjcrnam constant nameconst jcr system jcr system
system search mgr systemsearchmgr
creat cluster node
return cluster node
cluster node clusternod creat cluster node createclusternod repositori except repositoryexcept
cluster node clusternod cluster node clusternod cluster node clusternod
cluster node clusternod init extern event listen externaleventlisten
cluster node clusternod
except
repositori except repositoryexcept
namespac registri impl namespaceregistryimpl namespac registri getnamespaceregistri
reg nsreg
node type registri nodetyperegistri node type registri getnodetyperegistri
reg ntreg
version manag versionmanag version manag getversionmanag
mgr vmgr
node nodeid root node getrootnodeid
root node rootnodeid
return name workspac repositori
return name workspac repositori
javax jcr workspac getaccessibleworkspacenam
string workspac name getworkspacenam
wsp info wspinfo
string wsp info wspinfo kei set keyset arrai toarrai string wsp info wspinfo kei set keyset size
return link workspaceinfo name workspac
param workspacenam workspac link workspaceinfo
return code null code
return link workspaceinfo name workspac
code null code
throw nosuchworkspaceexcept name workspac exist
throw repositoryexcept repositori shut
workspac info workspaceinfo workspac info getworkspaceinfo string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info workspaceinfo wsp info wspinfo
wsp info wspinfo
wsp info wspinfo workspac info workspaceinfo wsp info wspinfo workspac workspacenam
wsp info wspinfo
workspac except nosuchworkspaceexcept workspac workspacenam
init workspac initworkspac wsp info wspinfo
repositori except repositoryexcept
log error unabl initi workspac workspac workspacenam
workspac except nosuchworkspaceexcept workspac workspacenam
wsp info wspinfo
creat workspac
param workspacenam workspac
throw repositoryexcept workspac
exist error occur
sessionimpl createworkspac string
creat workspac createworkspac string workspac workspacenam
repositori except repositoryexcept
wsp info wspinfo
wsp info wspinfo kei containskei workspac workspacenam
repositori except repositoryexcept workspac
workspac workspacenam exist
need newli creat workspac config file content runnin cluster environ
string buffer stringbuff workspac config content workspaceconfigcont cluster node clusternod string buffer stringbuff
creat workspac configur
workspac config workspaceconfig config rep config repconfig creat workspac config createworkspaceconfig workspac workspacenam workspac config content workspaceconfigcont
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put workspac workspacenam info
workspac config content workspaceconfigcont creat workspac event channel createworkspaceeventchannel
notifi cluster node workspac creat
input sourc inputsourc input sourc inputsourc string reader stringread workspac config content workspaceconfigcont string tostr
creat workspac event channel createworkspaceeventchannel workspac creat workspacecr workspac workspacenam clone input sourc clonedinputsourc
extern workspac creat externalworkspacecr string workspac workspacenam
input sourc inputsourc config templat configtempl repositori except repositoryexcept
creat workspac intern createworkspaceintern workspac workspacenam config templat configtempl
creat workspac workspac configur
templat
differ method link createworkspac string inputsourc
notifi cluster node workspac creat
method creat workspac
param workspacenam workspac
param configtempl workspac configur templat
workspac
throw repositoryexcept workspac
exist error occur
sessionimpl createworkspac string inputsourc
creat workspac intern createworkspaceintern string workspac workspacenam
input sourc inputsourc config templat configtempl
repositori except repositoryexcept
wsp info wspinfo
wsp info wspinfo kei containskei workspac workspacenam
repositori except repositoryexcept workspac
workspac workspacenam exist
creat workspac configur
workspac config workspaceconfig config rep config repconfig creat workspac config createworkspaceconfig workspac workspacenam config templat configtempl
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put workspac workspacenam info
creat workspac workspac configur
templat
param workspacenam workspac
param configtempl workspac configur templat
workspac
throw repositoryexcept workspac
exist error occur
sessionimpl createworkspac string inputsourc
creat workspac createworkspac string workspac workspacenam
input sourc inputsourc config templat configtempl
repositori except repositoryexcept
creat workspac event channel createworkspaceeventchannel
creat workspac intern createworkspaceintern workspac workspacenam config templat configtempl
clone input sourc clonedinputsourc templat clone input sourc clonedinputsourc config templat configtempl
creat workspac intern createworkspaceintern workspac workspacenam templat clone input sourc cloneinputsourc
creat workspac event channel createworkspaceeventchannel workspac creat workspacecr workspac workspacenam templat
share item state manag shareditemstatemanag workspac state manag getworkspacestatemanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam item state provid getitemstateprovid
enabl disabl referenti integr check workspac
disabl referenti integr check result corrupt
workspac featur custom
implement subclass repositoryimpl
href http issu apach org jira brows jcr issu jcr
param workspac workspac
param enabl code true code enabl integr check default
code fals code disabl
throw repositoryexcept error occur
set referenti integr check setreferentialintegritycheck
string workspac enabl repositori except repositoryexcept
share item state manag shareditemstatemanag manag workspac state manag getworkspacestatemanag workspac
manag set check refer setcheckrefer enabl
observ dispatch observationdispatch observ dispatch getobservationdispatch string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam observ dispatch getobservationdispatch
return link searchmanag workspac
code workspacenam code
param workspacenam workspac
return code searchmanag code workspac
code null code workspac
code searchmanag code configur
throw nosuchworkspaceexcept workspac
code workspacenam code
throw repositoryexcept error occur open
search index
search manag searchmanag search manag getsearchmanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam search manag getsearchmanag
return link lockmanag workspac
code workspacenam code
param workspacenam workspac
return code lockmanag code workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
lock manag lockmanag lock manag getlockmanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam lock manag getlockmanag
return link org apach jackrabbit core retent retentionregistri workspac
code workspacenam code
param workspacenam workspac
return code retentionevalu code workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
retent registri retentionregistri retent registri getretentionregistri string workspac workspacenam workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam retent registri getretentionregistri
return link systemsess workspac
code workspacenam code
param workspacenam workspac
return system session workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
system session systemsess system session getsystemsess string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam system session getsystemsess
creat repositori session workspac
authent subject login context
add activ session
call link createsessioninst authcontext workspaceconfig
creat actual code sessionimpl code instanc
param logincontext login context authent subject
param workspacenam workspac
return session
throw nosuchworkspaceexcept workspac exist
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur
session impl sessionimpl creat session createsess auth context authcontext login context logincontext
string workspac workspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo workspac workspacenam
session impl sessionimpl se creat session instanc createsessioninst login context logincontext wsp info wspinfo config getconfig
session creat onsessioncr se
reset idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp
se
creat repositori session workspac
authent subject add activ
session
call link createsessioninst subject workspaceconfig
creat actual code sessionimpl code instanc
param subject authent subject
param workspacenam workspac
return session
throw nosuchworkspaceexcept workspac exist
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur
session impl sessionimpl creat session createsess subject subject
string workspac workspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo workspac workspacenam
session impl sessionimpl se creat session instanc createsessioninst subject wsp info wspinfo config getconfig
session creat onsessioncr se
reset idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp
se
add session list activ session regist
repositori listen
param session session regist
session creat onsessioncr session impl sessionimpl session
activ session activesess
session add listen addlisten
activ session activesess put session session
add princip subject
access subject current accesscontrolcontext
subject found logincontext evok order
possibl extens preauthent subject
contrast login credenti session creat
authent fail
link subject mark unmodific
authent subject fail session build unchang
subject
param workspacenam null
return subject exst null
throw repositoryexcept
throw accessdeniedexcept
session extend authent extendauthent string workspac workspacenam
repositori except repositoryexcept access deni except accessdeniedexcept
subject subject
access control context accesscontrolcontext acc access control accesscontrol context getcontext
subject subject subject getsubject acc
secur except securityexcept
log warn check preauthent reason messag getmessag
subject
log debug preauthent subject found return null
session
subject read isreadonli
log debug preauthent subject read creat session
creat session createsess subject workspac workspacenam
log debug found preauthent subject extend authent
login jaa custom loginmodul
auth context authcontext auth ctx authctx secur manag getsecuritymanag auth context getauthcontext subject
auth ctx authctx login
creat session createsess auth ctx authctx workspac workspacenam
javax secur auth login login except loginexcept
subject extend
log debug preauthent extend
creat session createsess subject workspac workspacenam
jackrabbitrepositori
shut repositori shutdown guard shutdown lock
prevent session start simultan
shutdown
shutdown lock shutdownlock write lock writelock acquir
interrupt except interruptedexcept
todo check except
runtim except runtimeexcept shutdown lock acquir
check statu instanc
dispos
shutdown doshutdown
shutdown lock shutdownlock write lock writelock releas
privat method perform actual shutdown shutdown
lock acquir link shutdown method
shutdown doshutdown
log info shut repositori
stop option cluster node
cluster node clusternod
cluster node clusternod stop
secur mgr securitymgr
secur mgr securitymgr close
close activ user session
copi session arrai avoid concurrentmodificationexcept
manual copi entri call referencemap toarrai
order work http issu apach org bugzilla show bug cgi
session impl sessionimpl
activ session activesess
cnt
session impl sessionimpl activ session activesess size
iter activ session activesess valu iter hasnext cnt
cnt session impl sessionimpl
length
logout
shutdown system search manag
system search mgr systemsearchmgr
system search mgr systemsearchmgr close
shut workspac
wsp info wspinfo
iter wsp info wspinfo valu iter hasnext
workspac info workspaceinfo wsp info wspinfo workspac info workspaceinfo
wsp info wspinfo dispos
mgr vmgr
mgr vmgr close
except
log error error close version manag
rep prop repprop
persist repositori properti
store rep prop storerepprop rep prop repprop
repositori except repositoryexcept
log error fail persist repositori properti
rep store repstor
close repositori file system
rep store repstor close
file system except filesystemexcept
log error error close repositori file system
make instanc anymor
dispos
wake thread wait instance' monitor workspac janitor
notifi notifyal
final releas repositori lock
rep lock replock releas
log info repositori shutdown
return configur repositori
return repositori configur
repositori config repositoryconfig config getconfig
rep config repconfig
return repositori file system
return repositori file system
file system filesystem file system getfilesystem
rep store repstor
set default properti repositori
method load code properti code
code org apach jackrabbit core repositori properti code resourc
found class path set statist properti
present
param prop properti object load
throw repositoryexcept properti load
set default repositori properti setdefaultrepositoryproperti properti prop
repositori except repositoryexcept
input stream inputstream repositori impl repositoryimpl resourc stream getresourceasstream repositori properti
prop load
close
set count
prop kei containskei stat node count properti stat node count properti
prop set properti setproperti stat node count properti stat node count properti long string tostr node count nodescount
prop kei containskei stat prop count properti stat prop count properti
prop set properti setproperti stat prop count properti stat prop count properti long string tostr prop count propscount
except ioexcept
string msg fail load repositori properti string tostr
log error msg
repositori except repositoryexcept msg
load repositori properti execut step
link properti resourc exist meta data store
properti load resourc
link setdefaultrepositoryproperti properti call
order initi updat repositori properti
default properti chang updat
final link storerepprop properti call order
persist newli gener properti
return newli load initi repositori properti
throw repositoryexcept
properti load rep prop loadrepprop repositori except repositoryexcept
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc meta data store metadatastor properti resourc properti resourc
properti prop properti
prop file propfil exist
input stream inputstream prop file propfil input stream getinputstream
prop load
close
set default prop
set default repositori properti setdefaultrepositoryproperti prop
store
store rep prop storerepprop prop
prop
except
string msg fail load repositori properti
log debug msg
repositori except repositoryexcept msg
store properti persist resourc meta filesytem
throw repositoryexcept
store rep prop storerepprop properti prop repositori except repositoryexcept
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc meta data store metadatastor properti resourc properti resourc
prop file propfil make parent dir makeparentdir
output stream outputstream prop file propfil output stream getoutputstream
prop store
make stream close
close
except
string msg fail persist repositori properti
log debug msg
repositori except repositoryexcept msg
creat workspac persist manag base
configur persist manag instanti
inform persist manag configur
initi persist manag context
argument
return creat workspac persist manag
throw repositoryexcept persist manag
instanti initi
persist manag persistencemanag creat persist manag createpersistencemanag file home dir homedir
file system filesystem
persist manag config persistencemanagerconfig config pmconfig
node nodeid root node rootnodeid
namespac registri namespaceregistri reg nsreg
node type registri nodetyperegistri reg ntreg
data store datastor data store datastor
repositori except repositoryexcept
persist manag persistencemanag persist manag persistencemanag config pmconfig instanc newinst
init context pmcontext home dir homedir root node rootnodeid reg nsreg reg ntreg data store datastor
except
string msg instanti persist manag config pmconfig class getclassnam
repositori except repositoryexcept msg
creat code shareditemstatemanag code deriv
param persistmgr persist manag
param rootnodeid root node
param ntreg node type registri
param usesrefer code true code item state manag
node refer verifi integr refer properti
code fals code
param cachefactori cach factori
return item state manag
throw itemstateexcept error occur
share item state manag shareditemstatemanag creat item state manag createitemstatemanag persist manag persistencemanag persist mgr persistmgr
node nodeid root node rootnodeid
node type registri nodetyperegistri reg ntreg
refer usesrefer
item state cach factori itemstatecachefactori cach factori cachefactori
ism lock ismlock lock
item state except itemstateexcept
share item state manag shareditemstatemanag persist mgr persistmgr root node rootnodeid reg ntreg cach factori cachefactori lock
repositori
inheritdoc
session login credenti credenti string workspac workspacenam
login except loginexcept workspac except nosuchworkspaceexcept repositori except repositoryexcept
shutdown lock shutdownlock read lock readlock acquir
interrupt except interruptedexcept
repositori except repositoryexcept login lock acquir
check saniti instanc
saniti check sanitycheck
workspac workspacenam
workspac workspacenam rep config repconfig default workspac getdefaultworkspacenam
check workspac exist throw nosuchworkspaceexcept
workspac info getworkspaceinfo workspac workspacenam
credenti
obtain ident authent
subject access control context
session session extend authent extendauthent workspac workspacenam
session
success extend authent
session
log debug attempt login credenti subject login null credenti
preauthent login credenti
auth context authcontext auth ctx authctx secur manag getsecuritymanag auth context getauthcontext credenti subject
auth ctx authctx login
creat session
creat session createsess auth ctx authctx workspac workspacenam
secur except securityexcept
login except loginexcept unabl access authent inform
javax secur auth login login except loginexcept
login except loginexcept messag getmessag
access deni except accessdeniedexcept ad
authent subject author workspac
login except loginexcept workspac access deni ad
shutdown lock shutdownlock read lock readlock releas
inheritdoc
string descriptor getdescriptor string kei
rep prop repprop properti getproperti kei
inheritdoc
string descriptor kei getdescriptorkei
string kei string rep prop repprop kei set keyset arrai toarrai string rep prop repprop kei set keyset size
arrai sort kei
kei
sessionlisten
inheritdoc
log loggingout session impl sessionimpl session
inheritdoc
log loggedout session impl sessionimpl session
activ session activesess
remov session activ session
activ session activesess remov session
eventlisten
inheritdoc
event onev event iter eventiter event
check statu instanc
dispos
ignor repositori instanc shut
rep prop repprop
event hasnext
event event event event nextev
type event type gettyp
type event node ad node ad event node ad node ad
node count nodescount
rep prop repprop set properti setproperti stat node count properti stat node count properti long string tostr node count nodescount
type event node remov node remov event node remov node remov
node count nodescount
rep prop repprop set properti setproperti stat node count properti stat node count properti long string tostr node count nodescount
type event properti ad properti ad event properti ad properti ad
prop count propscount
rep prop repprop set properti setproperti stat prop count properti stat prop count properti long string tostr prop count propscount
type event properti remov properti remov event properti remov properti remov
prop count propscount
rep prop repprop set properti setproperti stat prop count properti stat prop count properti long string tostr prop count propscount
overrid factori method
creat instanc link sessionimpl class repres
user authent code logincontext code instanc attach
workspac configur code wspconfig code
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur creat
session
session impl sessionimpl creat session instanc createsessioninst auth context authcontext login context logincontext
workspac config workspaceconfig wsp config wspconfig
access deni except accessdeniedexcept repositori except repositoryexcept
session impl xasessionimpl login context logincontext wsp config wspconfig
creat instanc link sessionimpl class repres
user repres code subject code instanc attach
workspac configur code wspconfig code
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur creat
session
session impl sessionimpl creat session instanc createsessioninst subject subject
workspac config workspaceconfig wsp config wspconfig
access deni except accessdeniedexcept repositori except repositoryexcept
session impl xasessionimpl subject wsp config wspconfig
creat link repositoryimpl workspaceinfo instanc
code wspconfig code
param wspconfig workspac configur
return code workspaceinfo code instanc
workspac info workspaceinfo creat workspac info createworkspaceinfo workspac config workspaceconfig wsp config wspconfig
workspac info workspaceinfo wsp config wspconfig
class
code workspaceinfo code hold object share
multipl session code workspaceimpl code instanc
repres name workspac physic
storag
workspac info workspaceinfo updat event listen updateeventlisten
workspac configur pass constructor
workspac config workspaceconfig config
file system instanti init
file system filesystem
persist manag instanti init
persist manag persistencemanag persist mgr persistmgr
item state provid instanti init
share item state manag shareditemstatemanag item state mgr itemstatemgr
observ dispatch instanti init
observ dispatch observationdispatch dispatch
system session lazili instanti
system session systemsess system session systemsess
search manag lazili instanti
search manag searchmanag search mgr searchmgr
lock manag lazili instanti
lock manag impl lockmanagerimpl lock mgr lockmgr
intern manag evalu effect retent polici
hold
retent registri impl retentionregistryimpl retent reg retentionreg
flag indic instanc initi
initi
lock guard initi instanc
read write lock readwritelock init lock initlock
reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
timestamp workspac determin idl
idl timestamp idletimestamp
mutex workspac lock transact
mutex lock xalock mutex
updat event channel cluster environ
updat event channel updateeventchannel updat channel updatechannel
lock event channel cluster environ
lock event channel lockeventchannel lock channel lockchannel
creat code workspaceinfo code base
code config code
param config workspac configur
workspac info workspaceinfo workspac config workspaceconfig config
config config
idl timestamp idletimestamp
initi
return workspac
return workspac
string getnam
config getnam
return workspac configur
return workspac configur
workspac config workspaceconfig config getconfig
config
return timestamp workspac idl
workspac idl
return timestamp workspac idl
workspac idl
idl timestamp getidletimestamp
idl timestamp idletimestamp
set timestamp workspac idl
code code workspac mark
activ
param timestamp workspac idl
set idl timestamp setidletimestamp
idl timestamp idletimestamp
return code true code workspac info initi
return code fals code
return code true code workspac info initi
initi isiniti
init lock initlock read lock readlock attempt
interrupt except interruptedexcept
'finally' pattern
ret initi
init lock initlock read lock readlock releas
ret
return workspac file system
return workspac file system
file system filesystem file system getfilesystem
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
return workspac persist manag
return workspac persist manag
throw repositoryexcept persist manag
instanti initi
persist manag persistencemanag persist manag getpersistencemanag
repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
persist mgr persistmgr
return workspac item state provid
return workspac item state provid
throw repositoryexcept workspac item state provid
creat
share item state manag shareditemstatemanag item state provid getitemstateprovid
repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
item state mgr itemstatemgr
return observ dispatch workspac
return observ dispatch workspac
observ dispatch observationdispatch observ dispatch getobservationdispatch
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
dispatch
return search manag workspac
return search manag workspac code null code
code searchmanag code
throw repositoryexcept search manag creat
search manag searchmanag search manag getsearchmanag repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
search mgr searchmgr
config search config getsearchconfig
search index configur
search manag lazili instanti order avoid
'chicken egg' bootstrap problem
search mgr searchmgr search manag searchmanag config search config getsearchconfig
reg nsreg
reg ntreg
item state mgr itemstatemgr
persist mgr persistmgr
root node rootnodeid
system search manag getsystemsearchmanag getnam
system root node system root node
search mgr searchmgr
return lock manag workspac
return lock manag workspac
throw repositoryexcept lock manag creat
lock manag lockmanag lock manag getlockmanag repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
lock manag lazili instanti order avoid
'chicken egg' bootstrap problem
lock mgr lockmgr
lock mgr lockmgr lock manag impl lockmanagerimpl system session getsystemsess
cluster node clusternod config cluster isclust
lock channel lockchannel cluster node clusternod creat lock channel createlockchannel getnam
lock mgr lockmgr set event channel seteventchannel lock channel lockchannel
lock mgr lockmgr
return manag evalu effect retent hold
return
throw repositoryexcept
retent registri retentionregistri retent registri getretentionregistri repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam initi
retent reg retentionreg
retent reg retentionreg retent registri impl retentionregistryimpl system session getsystemsess
retent reg retentionreg
return system session workspac
return system session workspac
throw repositoryexcept system session creat
system session systemsess system session getsystemsess repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
system session lazili instanti order avoid
'chicken egg' bootstrap problem
system session systemsess
system session systemsess
system session systemsess creat repositori impl repositoryimpl config
system session systemsess
initi workspac info compon
initi immedi
file system
persist manag
share item state manag
observ manag factori
compon initi lazili demand
order save resourc avoid 'chicken egg' bootstrap
problem
system session
lock manag
search manag
return code true code instanc successfulli
initi code fals code initi
throw repositoryexcept error occur initi
initi repositori except repositoryexcept
check initi statu
init lock initlock read lock readlock acquir
interrupt except interruptedexcept
repositori except repositoryexcept unabl aquir read lock
initi
initi
init lock initlock read lock readlock releas
workspac info initi check write lock
init lock initlock write lock writelock acquir
interrupt except interruptedexcept
repositori except repositoryexcept unabl aquir write lock
initi
initi thread quicker
log info initi workspac getnam
initi doiniti
initi
log info workspac getnam initi
init lock initlock write lock writelock releas
actual initi work assum hold write lock
throw repositoryexcept error occur
initi doiniti repositori except repositoryexcept
config file system getfilesystem
persist mgr persistmgr creat persist manag createpersistencemanag file config home dir gethomedir
config persist manag config getpersistencemanagerconfig
root node rootnodeid
reg nsreg
reg ntreg
data store datastor
ism lock ismlock ism lock ismlock config ism lock getismlock
creat item state manag
item state mgr itemstatemgr creat item state manag createitemstatemanag persist mgr persistmgr root node rootnodeid
reg ntreg cach factori cachefactori ism lock ismlock
item state mgr itemstatemgr add virtual item state provid addvirtualitemstateprovid
mgr vmgr virtual item state provid getvirtualitemstateprovid
item state mgr itemstatemgr add virtual item state provid addvirtualitemstateprovid
virt mgr virtntmgr virtual item state provid getvirtualitemstateprovid
except
log error unabl add vmgr string tostr
cluster node clusternod config cluster isclust
updat channel updatechannel cluster node clusternod creat updat channel createupdatechannel getnam
item state mgr itemstatemgr set event channel seteventchannel updat channel updatechannel
updat channel updatechannel set listen setlisten
item state except itemstateexcept is
string msg fail instanti share item state manag
log debug msg
repositori except repositoryexcept msg is
dispatch observ dispatch observationdispatch
regist observ factori workspac
deleg dispatch delegatingdispatch add dispatch adddispatch dispatch
dispos code workspaceinfo code idl
code maxidletim code millisecond
param maxidletim amount time mmillisecond idl
workspac automat shutdown
dispos idl disposeifidl max idl time maxidletim
init lock initlock read lock readlock acquir
interrupt except interruptedexcept
initi
current currentt system current time milli currenttimemilli
idl timestamp idletimestamp
set idl timestamp
idl timestamp idletimestamp current currentt
current currentt idl timestamp idletimestamp max idl time maxidletim
temporarili shutdown workspac
log info dispos workspac getnam
idl
current currentt idl timestamp idletimestamp
dispos
init lock initlock read lock readlock releas
dispos object code workspaceinfo code hold
dispos
init lock initlock write lock writelock acquir
interrupt except interruptedexcept
illeg state except illegalstateexcept unabl aquir write lock
initi
dispos
log info shut workspac getnam
dispos dodispos
reset idl timestamp
idl timestamp idletimestamp
initi
log info workspac getnam shutdown
init lock initlock write lock writelock releas
actual dispos assum hold write lock
dispos dodispos
inform cluster node dispos
updat channel updatechannel
updat channel updatechannel set listen setlisten
lock channel lockchannel
lock channel lockchannel set listen setlisten
deregist observ factori workspac
deleg dispatch delegatingdispatch remov dispatch removedispatch dispatch
dispos observ manag factori
dispatch dispos
dispatch
shutdown search manag
search mgr searchmgr
search mgr searchmgr close
search mgr searchmgr
deregist
secur mgr securitymgr
secur mgr securitymgr dispos getnam
close system session
system session systemsess
system session systemsess remov listen removelisten repositori impl repositoryimpl
system session systemsess logout
system session systemsess
dispos share item state manag
item state mgr itemstatemgr dispos
item state mgr itemstatemgr
close persist manag
persist mgr persistmgr close
except
log error error close persist manag workspac
config getnam
persist mgr persistmgr
close lock manag
lock mgr lockmgr
lock mgr lockmgr close
lock mgr lockmgr
close retent registri
retent reg retentionreg
retent reg retentionreg close
retent reg retentionreg
close workspac file system
close
file system except filesystemexcept fse
log error error close file system workspac config getnam fse
lock workspac info
link xasessionimpl order lock intern resourc
commit
throw transactionexcept
lock acquir lockacquir transact except transactionexcept
lock xalock acquir
interrupt except interruptedexcept
transact except transactionexcept error acquier lock
unlock workspac info
link xasessionimpl order lock intern resourc
commit
lock releas lockreleas
lock xalock releas
updateeventlisten
inheritdoc
extern updat externalupd chang log changelog extern
list event
timestamp
string user data userdata repositori except repositoryexcept
event state collect eventstatecollect esc event state collect eventstatecollect
observ dispatch getobservationdispatch user data userdata
esc add addal event
esc set timestamp settimestamp timestamp
item state provid getitemstateprovid extern updat externalupd extern esc
illeg state except illegalstateexcept
string msg unabl deliv event messag getmessag
repositori except repositoryexcept msg
workspac janitor thread shutdown workspac
idl amount time
workspac janitor workspacejanitor runnabl
amount time millisecond idl workspac
automat shutdown
max idl time maxidletim
interv millisecond check idl workspac
check interv checkinterv
creat code workspacejanitor code instanc respons
shut idl workspac
param maxidletim amount time millisecond idl
workspac automat shutdown
workspac janitor workspacejanitor max idl time maxidletim
max idl time maxidletim max idl time maxidletim
comput check interv maxidletim
check interv checkinterv max idl time maxidletim
inheritdoc
perform task code true code loop
wait code checkinterv code millisecond
build list initi inact workspac
exclud default workspac
shutdown workspac idl
code maxidletim code millisecond
run
repositori impl repositoryimpl
repositori impl repositoryimpl wait check interv checkinterv
interrupt except interruptedexcept
ignor
dispos
name workspac
set wsp name wspname
wsp info wspinfo
wsp name wspname hash set hashset wsp info wspinfo kei set keyset
remov default workspac shutdown idl
wsp name wspname remov rep config repconfig default workspac getdefaultworkspacenam
activ session activesess
remov workspac activ session
iter activ session activesess valu iter hasnext
session impl sessionimpl se session impl sessionimpl
wsp name wspname remov se workspac getworkspac getnam
remain name denot workspac
activ session
iter wsp name wspname iter hasnext
workspac info workspaceinfo wsp info wspinfo
wsp info wspinfo
wsp info wspinfo workspac info workspaceinfo wsp info wspinfo
wsp info wspinfo dispos idl disposeifidl max idl time maxidletim
cluster context pass code clusternod code
extern event listen externaleventlisten cluster context clustercontext
inheritdoc
cluster config clusterconfig cluster config getclusterconfig
config getconfig cluster config getclusterconfig
inheritdoc
file repositori home getrepositoryhom
file config getconfig home dir gethomedir
inheritdoc
namespac resolv namespaceresolv namespac resolv getnamespaceresolv
registri namespac resolv registrynamespaceresolv namespac registri getnamespaceregistri
inheritdoc
updat event readi updateeventsreadi string workspac repositori except repositoryexcept
toggl initi workspac
workspac info getworkspaceinfo workspac
inheritdoc
lock event readi lockeventsreadi string workspac repositori except repositoryexcept
toggl initi workspace' lock manag
workspac info getworkspaceinfo workspac lock manag getlockmanag
inheritdoc
data store datastor data store getdatastor
repositori impl repositoryimpl data store getdatastor
