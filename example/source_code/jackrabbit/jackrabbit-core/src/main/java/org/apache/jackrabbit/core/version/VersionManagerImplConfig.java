org apach jackrabbit core version
java util set
java util hash set hashset
javax jcr properti type propertytyp
javax jcr repositori except repositoryexcept
javax jcr unsupport repositori oper except unsupportedrepositoryoperationexcept
org apach jackrabbit core hierarchi manag hierarchymanag
org apach jackrabbit core repositori impl repositoryimpl
org apach jackrabbit core node nodeid
org apach jackrabbit core session session context sessioncontext
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state updat item state manag updatableitemstatemanag
org apach jackrabbit core intern internalvalu
org apach jackrabbit spi
org apach jackrabbit spi common constant nameconst
org slf4j logger factori loggerfactori
org slf4j logger
jcr version manag implement split class order
group relat method
class method configur baselin relat oper
implement note method start intern consid
execut write oper block
version manag impl config versionmanagerimplconfig version manag impl merg versionmanagerimplmerg
default logger
logger log logger factori loggerfactori logger getlogg version manag impl config versionmanagerimplconfig
creat version manag session
param context compon context current session
param statemgr underli state manag
param hiermgr local hierarchi manag
version manag impl config versionmanagerimplconfig
session context sessioncontext context updat item state manag updatableitemstatemanag state mgr statemgr
hierarchi manag hierarchymanag hier mgr hiermgr
context state mgr statemgr hier mgr hiermgr
restor version record baselin
path
param parent parent state
param node tree
param baselin baselin record version
return node configur
throw repositoryexcept error occur
node nodeid restor node state nodestateex parent
intern baselin internalbaselin baselin
repositori except repositoryexcept
check configur exist
node nodeid config configid baselin configur getconfigurationid
node nodeid root rootid baselin configur root getconfigurationrootid
state mgr statemgr item state hasitemst root rootid
node state nodestateex exist parent node getnod root rootid
string msg configur baselin exist safe jcr path safegetjcrpath exist
log error msg
unsupport repositori oper except unsupportedrepositoryoperationexcept msg
find version configur root
version set versionset version baselin base version getbasevers
intern version internalvers root version rootvers
intern version internalvers version version valu
version histori getversionhistori version getversionableid equal root rootid
root version rootvers
root version rootvers
string msg intern error suppli baselin version configur root
log error msg
repositori except repositoryexcept msg
creat node parent
write oper writeoper op start write oper startwriteoper
state mgr statemgr item state hasitemst config configid
creat configur node exist
intern creat configur internalcreateconfigur root rootid config configid baselin getid
node state nodestateex config parent node getnod config configid
creat root node restor work
intern frozen node internalfrozennod root version rootvers frozen node getfrozennod
node state nodestateex state parent add node addnod frozen primari type getfrozenprimarytyp frozen getfrozenid
state set mixin setmixin frozen mixin type getfrozenmixintyp
parent store
final restor config root
intern restor internalrestor config baselin
op save
config configid
item state except itemstateexcept
repositori except repositoryexcept
op close
creat configur node
confgur store configur storag
nodeid configur root rootid path
param state node workspac configur
return node creat configur
throw repositoryexcept error occur
node nodeid creat configur createconfigur node state nodestateex state
repositori except repositoryexcept
write oper writeoper op start write oper startwriteoper
node nodeid config configid intern creat configur internalcreateconfigur state node getnodeid
set configur refer state
state set properti setpropertyvalu constant nameconst jcr configur jcr configur intern internalvalu creat config configid
state store
op save
config configid
item state except itemstateexcept
repositori except repositoryexcept
op close
creat configur node
confgur store configur storag
nodeid configur root rootid path
param rootid configur root node
param configid configur node
param baselin baselin version code null code
return node creat configur
throw repositoryexcept error occur
node nodeid intern creat configur internalcreateconfigur node nodeid root rootid
node nodeid config configid node nodeid base line baselin
repositori except repositoryexcept
node state nodestateex config root configroot intern config root internalgetconfigroot
node state nodestateex config parent configpar intern version manag base internalversionmanagerbas parent node getparentnod
config root configroot
root rootid string tostr
constant nameconst rep configur rep configur
intern version manag base internalversionmanagerbas getnam root rootid string tostr
config configid
config configid context node factori getnodeidfactori node newnodeid
node state nodestateex config config parent configpar add node addnod constant nameconst configur configur config configid
set mix hash set hashset
mix add constant nameconst rep version refer rep version refer
config set mixin setmixin mix
config set properti setpropertyvalu constant nameconst jcr root jcr root intern internalvalu creat root rootid
init mix version flag
version histori info versionhistoryinfo mgr vmgr version histori getversionhistori session config state getstat
set base version histori config
intern internalvalu histori historyid intern internalvalu creat version histori getversionhistoryid
intern internalvalu version versionid intern internalvalu creat
base line baselin root version getrootversionid base line baselin
config set properti setpropertyvalu constant nameconst jcr basevers jcr basevers version versionid
config set properti setpropertyvalu constant nameconst jcr versionhistori jcr versionhistori histori historyid
config set properti setpropertyvalu constant nameconst jcr ischeckedout jcr ischeckedout intern internalvalu creat
config set properti valu setpropertyvalu constant nameconst jcr predecessor jcr predecessor properti type propertytyp refer intern internalvalu version versionid
config parent configpar store
config configid
return root node configur storag locat
jcr system jcr configur
return root node
throw repositoryexcept error occur
node state nodestateex intern config root internalgetconfigroot repositori except repositoryexcept
node state nodestateex system node state getnodestateex repositori impl repositoryimpl system root node system root node
node state nodestateex root system node getnod constant nameconst jcr configur jcr configur
root
root system add node addnod
constant nameconst jcr configur jcr configur
constant nameconst rep configur rep configur
repositori impl repositoryimpl configur node configur node
system store
root
