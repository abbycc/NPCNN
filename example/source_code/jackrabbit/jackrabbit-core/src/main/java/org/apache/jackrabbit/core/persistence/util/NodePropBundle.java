org apach jackrabbit core persist util
java util arrai
java util collect
java util hash map hashmap
java util hash set hashset
java util link list linkedlist
java util list
java util set
javax jcr properti type propertytyp
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core persist persist manag persistencemanag
org apach jackrabbit core intern internalvalu
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core state node state nodest
org apach jackrabbit spi
org apach jackrabbit spi common constant nameconst
org slf4j logger
org slf4j logger factori loggerfactori
class simpl structur hold nodest relat
propertyst data
node prop bundl nodepropbundl
default logger
logger log logger factori loggerfactori logger getlogg node prop bundl nodepropbundl
node
node nodeid
parent node
node nodeid parent parentid
nodetyp
node type nodetypenam
mixintyp name
set mixin type name mixintypenam
child node entri
link list linkedlist node prop bundl nodepropbundl child node entri childnodeentri child node entri childnodeentri link list linkedlist node prop bundl nodepropbundl child node entri childnodeentri
properti
hash map hashmap properti entri propertyentri properti hash map hashmap properti entri propertyentri
flag bundl
isnew
flag bundl referenc
referenc isreferenc
mod count
mod count modcount
size
size
share set consist parent id shareabl node
entri code null code node shareabl
set node nodeid share set sharedset
creat bundl
param node
node prop bundl nodepropbundl node nodeid
creat bundl state
param state node state
node prop bundl nodepropbundl node state nodest state
state node getnodeid
updat state
updat bundl valu state
param state node state
updat node state nodest state
equal state node getnodeid
saniti check
illeg argument except illegalargumentexcept allow updat foreign state
parent parentid state parent getparentid
node type nodetypenam state node type getnodetypenam
mixin type name mixintypenam state mixin type name getmixintypenam
referenc isreferenc state properti haspropertynam constant nameconst jcr uuid jcr uuid
mod count modcount state mod count getmodcount
list org apach jackrabbit core state child node entri childnodeentri list state child node entri getchildnodeentri
child node entri childnodeentri clear
org apach jackrabbit core state child node entri childnodeentri cne list
add child node entri addchildnodeentri cne getnam cne getid
share set sharedset state share set getsharedset
creat node state valu bundl
param pmgr persist manag
return nodest
node state nodest creat node state createnodest persist manag persistencemanag mgr pmgr
node state nodest state mgr pmgr creat createnew
state set parent setparentid parent parentid
state set node type setnodetypenam node type nodetypenam
state set mixin type name setmixintypenam mixin type name mixintypenam
state set mod count setmodcount mod count modcount
child node entri childnodeentri child node entri childnodeentri
state add child node entri addchildnodeentri getnam getid
state set properti name setpropertynam properti kei set keyset
add fake properti entri
state add properti addpropertynam constant nameconst jcr primarytyp jcr primarytyp
mixin type name mixintypenam size
state add properti addpropertynam constant nameconst jcr mixintyp jcr mixintyp
uuid special 'referenceable'
referenc isreferenc
state add properti addpropertynam constant nameconst jcr uuid jcr uuid
node nodeid node nodeid share set sharedset
state add share addshar node nodeid
state
check bundl
return code true code bundl
code fals code
isnew
isnew
mark bundl 'not new'
mark markold
isnew
return node bundl
return node bundl
node nodeid getid
return parent bundl
return parent bundl
node nodeid parent getparentid
parent parentid
set parent
param parentid parent
set parent setparentid node nodeid parent parentid
parent parentid parent parentid
return nodetyp bundl
return nodetyp bundl
node type getnodetypenam
node type nodetypenam
set node type
param nodetypenam nodetyp
set node type setnodetypenam node type nodetypenam
node type nodetypenam node type nodetypenam
return mixin type name bundl
return mixin type name bundl
set mixin type name getmixintypenam
mixin type name mixintypenam
set mixin type name
param mixintypenam mixin type name
set mixin type name setmixintypenam set mixin type name mixintypenam
mixin type name mixintypenam mixin type name mixintypenam
check bundl referenc
return code true code bundl referenc
code fals code
referenc isreferenc
referenc isreferenc
set referenc flag bundl
param referenc ref flag
set referenc setreferenc referenc
referenc isreferenc referenc
return mod count
return mod count
mod count getmodcount
mod count modcount
set mod count
param modcount mod count
set mod count setmodcount mod count modcount
mod count modcount mod count modcount
return list child node entri
return list child node entri
list node prop bundl nodepropbundl child node entri childnodeentri child node entri getchildnodeentri
child node entri childnodeentri
add child node entri
param entri
param entri
add child node entri addchildnodeentri node nodeid
child node entri childnodeentri add child node entri childnodeentri
add properti entri
param entri enrti add
add properti addproperti properti entri propertyentri entri
creat properti entri state add
param state properti state
param blobstor blob store delet previou properti
add properti addproperti properti state propertyst state blob store blobstor blob store blobstor
properti entri propertyentri
properti put state getnam properti entri propertyentri state
destroi blob store blobstor
check bundl properti
param properti
return code true code properti exist
code fals code
properti hasproperti
properti kei containskei
return set properti name
return set properti name
set properti name getpropertynam
properti kei set keyset
return collect properti entri
return collect properti entri
collect properti entri propertyentri properti entri getpropertyentri
properti valu
return properti entri
param properti entri
return desir properti entri code null code
properti entri propertyentri properti entri getpropertyentri
properti
remov properti entri
param blobstor blob store delet properti valu
remov properti removeallproperti blob store blobstor blob store blobstor
hash set hashset properti kei set keyset
remov properti removeproperti blob store blobstor
remov proprti bundl
param properti
param blobstor blob store delet properti
remov properti removeproperti blob store blobstor blob store blobstor
properti entri propertyentri properti remov
destroi blob store blobstor
set share set bundl
return share set bundl
set node nodeid share set getsharedset
share set sharedset
set share set
param sharedset share set
set share set setsharedset set node nodeid share set sharedset
share set sharedset share set sharedset
return approx size bundl
return approx size bundl
size getsiz
add intern memori
shallow size
properti
shallow size
properti entri valu blobid
childnod
shallow size
length
mixintyp name
shallow size
qname
nodetyp
shallow size
string length
parentid
size child node entri childnodeentri size properti size
set data size bundl
param size data size
set size setsiz size
size size
object
string string tostr
string builder stringbuild builder string builder stringbuild
builder append
builder append
builder append parent parentid
builder append
builder append node type nodetypenam
mixin mixin type name mixintypenam
builder append
builder append mixin
referenc isreferenc
builder append referenc
builder append
share set sharedset empti isempti
builder append share set sharedset
builder append
builder append properti valu
builder append
builder append child node entri childnodeentri
builder string tostr
equal object object
object node prop bundl nodepropbundl
node prop bundl nodepropbundl node prop bundl nodepropbundl object
equal
parent parentid equal parent parentid
node type nodetypenam equal node type nodetypenam
mixin type name mixintypenam equal mixin type name mixintypenam
referenc isreferenc referenc isreferenc
share set sharedset equal share set sharedset
properti equal properti
child node entri childnodeentri equal child node entri childnodeentri
childnodeentri
helper class child node entri
child node entri childnodeentri
entri
entri
node nodeid
creat entri
param
param
child node entri childnodeentri node nodeid
return
return
getnam
return
return
node nodeid getid
object
string string tostr
equal object object
object child node entri childnodeentri
child node entri childnodeentri child node entri childnodeentri object
equal equal
propertyentri
helper class properti enrti
properti entri propertyentri
properti
properti propertyid
intern
intern internalvalu valu
properti type
type
multivalu flag
multi valu multivalu
blob id
string blob id blobid
mod count
mod count modcount
creat properti entri
param
properti entri propertyentri properti propertyid
creat properti entri initi valu
properti state
param state sourc properti state
properti entri propertyentri properti state propertyst state
properti propertyid state getid
valu state valu getvalu
type state type gettyp
multi valu multivalu state multi valu ismultivalu
mod count modcount state mod count getmodcount
type properti type propertytyp binari
blob id blobid string valu length
return properti
return properti
properti propertyid getid
return properti
return properti
getnam
getnam
retrun intern valu
return intern valu
intern internalvalu valu getvalu
valu
set intern valu
param valu intern valu
set valu setvalu intern internalvalu valu
valu valu
return type
return type
type gettyp
type
set type
param type type
set type settyp type
type type
return multivalu flag
return multivalu flag
multi valu ismultivalu
multi valu multivalu
set multivalu flag
param multivalu multivalu flag
set multi valu setmultivalu multi valu multivalu
multi valu multivalu multi valu multivalu
return blob
param index blob
return blob
string blob getblobid
blob id blobid
set blob id
param blobid blobid
set blob id setblobid string blob id blobid
blob id blobid blob id blobid
set blobid
param blobid blob
param index blob
set blob setblobid string blob blobid
blob id blobid blob blobid
return mod count
return mod count
mod count getmodcount
mod count modcount
set mod count
param modcount mod count
set mod count setmodcount mod count modcount
mod count modcount mod count modcount
destroi properti state delet temporari blob file valu
param blobstor blobstor destroi blob
destroi blob store blobstor blob store blobstor
delet blob need
blob id blobid blob id blobid length
blob id blobid
blob store blobstor remov blob id blobid
log debug remov blob blob id blobid
except
log error ignor error remov blob blob id blobid
object
string string tostr
string builder stringbuild builder string builder stringbuild
builder append
builder append
builder append properti type propertytyp namefromvalu type
multi valu multivalu
builder append multipl
builder append
builder append arrai string tostr valu
builder string tostr
equal object object
object properti entri propertyentri
properti entri propertyentri properti entri propertyentri object
equal
type type
multi valu multivalu multi valu multivalu
arrai equal valu valu
