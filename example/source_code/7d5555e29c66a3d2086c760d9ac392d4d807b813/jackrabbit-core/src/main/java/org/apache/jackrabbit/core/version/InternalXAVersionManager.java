org apach jackrabbit core version
java util calendar
java util hash map hashmap
java util map
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr version version except versionexcept
org apach jackrabbit core intern resourc internalxaresourc
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core transact context transactioncontext
org apach jackrabbit core transact except transactionexcept
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core observ event state collect factori eventstatecollectionfactori
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state ism lock ismlock read lock readlock
org apach jackrabbit core state ism lock ismlock write lock writelock
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state cach factori itemstatecachefactori
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state listen itemstatelisten
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node refer noderefer
org apach jackrabbit core state node state nodest
org apach jackrabbit core state item state manag xaitemstatemanag
org apach jackrabbit core virtual virtual item state provid virtualitemstateprovid
org apach jackrabbit core virtual virtual node state virtualnodest
org apach jackrabbit core virtual virtual properti state virtualpropertyst
org apach jackrabbit spi
org apach jackrabbit spi common constant nameconst
implement link internalversionmanag work environ
work filter version manag client global version
manag
intern version manag internalxaversionmanag intern version manag base internalversionmanagerbas
event state collect factori eventstatecollectionfactori virtual item state provid virtualitemstateprovid intern resourc internalxaresourc
attribut chang log
string chang log attribut chang log attribut xaversionmanag changelog
attribut item
string item attribut item attribut versionitem
repositori version manag
intern version manag impl internalversionmanagerimpl mgr vmgr
session version manag
session impl sessionimpl session
item modifi part environ
map node nodeid intern version item internalversionitem item xaitem
flag version manag lock prepar
vmgr lock vmgrlock
global write lock version manag
write lock writelock vmgr lock vmgrlock
persist root node version histori
node state nodestateex histori root historyroot
persist root node activ
node state nodestateex activ root activitiesroot
creat instanc class
param vmgr underli version manag
param ntreg node type registri
param session session
param cachefactori cach factori
throw repositoryexcept error occur
intern version manag internalxaversionmanag intern version manag impl internalversionmanagerimpl mgr vmgr node type registri nodetyperegistri reg ntreg
session impl sessionimpl session item state cach factori itemstatecachefactori cach factori cachefactori
repositori except repositoryexcept
reg ntreg mgr vmgr histori historiesid mgr vmgr activ activitiesid
mgr vmgr mgr vmgr
session session
state mgr statemgr item state manag xaitemstatemanag creat instanc createinst mgr vmgr share state mgr getsharedstatemgr
chang log attribut chang log attribut cach factori cachefactori
node state nodest state
state node state nodest state mgr statemgr item state getitemst histori historiesid
item state except itemstateexcept
repositori except repositoryexcept unabl retriev histori root
histori root historyroot node state nodestateex state mgr statemgr reg ntreg state constant nameconst jcr versionstorag jcr versionstorag
state node state nodest state mgr statemgr item state getitemst activ activitiesid
item state except itemstateexcept
repositori except repositoryexcept unabl retriev activ root
activ root activitiesroot node state nodestateex state mgr statemgr reg ntreg state constant nameconst jcr activ jcr activ
eventstatecollectionfactori
inheritdoc
event state collect eventstatecollect creat event state collect createeventstatecollect
repositori except repositoryexcept
mgr vmgr esc factori getescfactori creat event state collect createeventstatecollect session
internalversionmanag
inheritdoc
virtual item state provid virtualitemstateprovid virtual item state provid getvirtualitemstateprovid
inheritdoc
version histori info versionhistoryinfo creat version histori createversionhistori session session
node state nodest node
node nodeid copi copiedfrom
repositori except repositoryexcept
isinxa
node state nodestateex state intern creat version histori internalcreateversionhistori node copi copiedfrom
intern version histori internalversionhistori histori
intern version histori impl internalversionhistoryimpl mgr vmgr state
item xaitem put state node getnodeid histori
root constant nameconst jcr rootvers jcr rootvers
version histori info versionhistoryinfo
state node getnodeid
state state getstat child node entri getchildnodeentri root getid
mgr vmgr creat version histori createversionhistori session node copi copiedfrom
inheritdoc
node nodeid creat activ createact session session string titl
repositori except repositoryexcept
isinxa
node state nodestateex state intern creat activ internalcreateact titl
intern activ impl internalactivityimpl activ
intern activ impl internalactivityimpl mgr vmgr state
item xaitem put state node getnodeid activ
state node getnodeid
mgr vmgr creat activ createact session titl
inheritdoc
remov activ removeact session session node nodeid node nodeid
repositori except repositoryexcept
isinxa
intern activ impl internalactivityimpl act intern activ impl internalactivityimpl item getitem node nodeid
intern remov activ internalremoveact act
mgr vmgr remov activ removeact session node nodeid
inheritdoc
modifi activ make local copi
intern remov activ internalremoveact intern activ impl internalactivityimpl activ
version except versionexcept repositori except repositoryexcept
activ version manag getversionmanag
activ make local copi makelocalcopi activ
item xaitem put activ getid activ
intern remov activ internalremoveact activ
inheritdoc
node nodeid checkout cancheckout node state nodestateex state node nodeid activ activityid repositori except repositoryexcept
mgr vmgr checkout cancheckout state activ activityid
inheritdoc
intern version internalvers checkin
session session node state nodestateex node calendar creat
repositori except repositoryexcept
isinxa
intern version histori impl internalversionhistoryimpl
intern version internalvers version
node effect node type geteffectivenodetyp includ node type includesnodetyp constant nameconst mix version mix version
full version histori retriev
properti
node nodeid hist histid node properti getpropertyvalu constant nameconst jcr versionhistori jcr versionhistori node getnodeid
intern version histori impl internalversionhistoryimpl version histori getversionhistori hist histid
version intern checkin internalcheckin node creat
simpl version histori calcul
intern version histori impl internalversionhistoryimpl version histori node getversionhistoryofnod node node getnodeid
version intern checkin internalcheckin node creat
version
mgr vmgr checkin session node creat
inheritdoc
remov version removevers session session intern version histori internalversionhistori histori
version versionnam
repositori except repositoryexcept
isinxa
intern remov version internalremovevers intern version histori impl internalversionhistoryimpl histori version versionnam
mgr vmgr remov version removevers session histori version versionnam
inheritdoc
intern version internalvers set version label setversionlabel session session
intern version histori internalversionhistori histori
version
label move
repositori except repositoryexcept
isinxa
set version label setversionlabel intern version histori impl internalversionhistoryimpl histori
version label move
mgr vmgr set version label setversionlabel session histori version label move
inheritdoc
close except
state mgr statemgr dispos
virtualitemstateprovid
inheritdoc
virtual root isvirtualroot item itemid
inheritdoc
node nodeid virtual root getvirtualrootid
node nodeid virtual root id getvirtualrootid
inheritdoc
virtual properti state virtualpropertyst creat properti state createpropertyst virtual node state virtualnodest parent
type
multi valu multivalu
repositori except repositoryexcept
illeg state except illegalstateexcept read
inheritdoc
virtual node state virtualnodest creat node state createnodest virtual node state virtualnodest parent
node nodeid node type nodetypenam
repositori except repositoryexcept
illeg state except illegalstateexcept read
inheritdoc
set node refer setnoderefer chang log changelog refer
chang log changelog chang log changelog item state manag xaitemstatemanag state mgr statemgr chang log getchangelog
chang log changelog
node refer noderefer ref refer modifi ref modifiedref
chang log changelog modifi ref
inheritdoc
return item state global version manag return
item
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
chang log changelog chang log changelog item state manag xaitemstatemanag state mgr statemgr chang log getchangelog
chang log changelog
chang log changelog
item state except nosuchitemstateexcept state chang log
inheritdoc
item state hasitemst item itemid
chang log changelog chang log changelog item state manag xaitemstatemanag state mgr statemgr chang log getchangelog
chang log changelog
chang log changelog
inheritdoc
node refer noderefer node refer getnoderefer node nodeid
item state except nosuchitemstateexcept item state except itemstateexcept
chang log changelog chang log changelog item state manag xaitemstatemanag state mgr statemgr chang log getchangelog
chang log changelog
chang log changelog refer getreferencesto
inheritdoc
node refer hasnoderefer node nodeid
chang log changelog chang log changelog item state manag xaitemstatemanag state mgr statemgr chang log getchangelog
chang log changelog
chang log changelog refer getreferencesto
inheritdoc
need
add listen addlisten item state listen itemstatelisten listen
inheritdoc
need
remov listen removelisten item state listen itemstatelisten listen
internalversionmanagerbas
inheritdoc
node state nodestateex histori root gethistoryroot
histori root historyroot
inheritdoc
node state nodestateex activ root getactivitiesroot
activ root activitiesroot
inheritdoc
intern version item internalversionitem item getitem node nodeid repositori except repositoryexcept
intern version item internalversionitem item
item xaitem
item item xaitem
item
item mgr vmgr item getitem
item
inheritdoc
item hasitem node nodeid
item xaitem item xaitem kei containskei
mgr vmgr item hasitem
inheritdoc
item refer hasitemrefer node nodeid
repositori except repositoryexcept
session node getnodebyid refer getrefer hasnext
inheritdoc
node state nodestateex node state getnodestateex node nodeid parent node parentnodeid
repositori except repositoryexcept
node state nodest state node state nodest state mgr statemgr item state getitemst parent node parentnodeid
node state nodestateex state mgr statemgr reg ntreg state
item state except itemstateexcept
repositori except repositoryexcept
inheritdoc
modifi version histori make local copi
intern version internalvers intern checkin internalcheckin
intern version histori impl internalversionhistoryimpl histori
node state nodestateex node simpl calendar creat
repositori except repositoryexcept
histori version manag getversionmanag
histori make local copi makelocalcopi histori
item xaitem put histori getid histori
intern version internalvers version
intern checkin internalcheckin histori node simpl creat
node nodeid frozen node frozennodeid version frozen node getfrozennodeid
intern version item internalversionitem frozen node frozennod creat intern version item createinternalversionitem frozen node frozennodeid
frozen node frozennod
item xaitem put frozen node frozennodeid frozen node frozennod
version
inheritdoc
modifi version histori make local copi
intern remov version internalremovevers intern version histori impl internalversionhistoryimpl histori
version except versionexcept repositori except repositoryexcept
histori version manag getversionmanag
histori make local copi makelocalcopi histori
item xaitem put histori getid histori
put 'successor' 'predecessor' version item xaitem set
intern version internalvers histori version getvers
intern version internalvers successor getsuccessor
intern version internalvers
item xaitem put getid
predecessor getpredecessor
intern version internalvers
item xaitem put getid
intern remov version internalremovevers histori
inheritdoc
modifi version histori make local copi
intern version internalvers set version label setversionlabel intern version histori impl internalversionhistoryimpl histori
version label
move
repositori except repositoryexcept
histori version manag getversionmanag
histori make local copi makelocalcopi histori
item xaitem put histori getid histori
set version label setversionlabel histori version label move
inheritdoc
put version object cach
version creat versioncr intern version internalvers version
item xaitem put version getid version
inheritdoc
remov version object cach
version destroi versiondestroi intern version internalvers version
item xaitem remov version getid
inheritdoc
suppress warn suppresswarn uncheck
associ transact context transactioncontext
item state manag xaitemstatemanag state mgr statemgr associ
map node nodeid intern version item internalversionitem item xaitem
item xaitem map node nodeid intern version item internalversionitem attribut getattribut item attribut item attribut
item xaitem
item xaitem hash map hashmap node nodeid intern version item internalversionitem
set attribut setattribut item attribut item attribut item xaitem
item xaitem item xaitem
inheritdoc
deleg call item state manag
oper beforeoper transact context transactioncontext
item state manag xaitemstatemanag state mgr statemgr oper beforeoper
inheritdoc
deleg call item state manag
prepar transact context transactioncontext transact except transactionexcept
vmgr lock vmgrlock
item state manag xaitemstatemanag state mgr statemgr prepar
inheritdoc
deleg call item state manag success inform
global repositori manag updat cach
suppress warn suppresswarn uncheck
commit transact context transactioncontext transact except transactionexcept
vmgr lock vmgrlock
item state manag xaitemstatemanag state mgr statemgr commit
map node nodeid intern version item internalversionitem item xaitem
map node nodeid intern version item internalversionitem attribut getattribut item attribut item attribut
mgr vmgr item updat itemsupd item xaitem valu
inheritdoc
deleg call item state manag
rollback transact context transactioncontext
vmgr lock vmgrlock
item state manag xaitemstatemanag state mgr statemgr rollback
inheritdoc
deleg call item state manag
oper afteroper transact context transactioncontext
item state manag xaitemstatemanag state mgr statemgr oper afteroper
return link internalxaresourc acquir write lock
version manag link internalxaresourc prepar transactioncontext
return intern resourc
intern resourc internalxaresourc resourc begin getxaresourcebegin
intern resourc internalxaresourc
associ transact context transactioncontext
oper beforeoper transact context transactioncontext
prepar transact context transactioncontext
vmgr lock vmgrlock mgr vmgr acquir write lock acquirewritelock
vmgr lock vmgrlock
commit transact context transactioncontext
jcr ensur transact prepar
vmgr lock vmgrlock
prepar
rollback transact context transactioncontext
jcr ensur transact prepar
vmgr lock vmgrlock
prepar
oper afteroper transact context transactioncontext
return link internalxaresourc releas write lock
version manag link internalxaresourc commit transactioncontext
link internalxaresourc rollback transactioncontext
return intern resourc
intern resourc internalxaresourc resourc end getxaresourceend
intern resourc internalxaresourc
associ transact context transactioncontext
oper beforeoper transact context transactioncontext
prepar transact context transactioncontext
commit transact context transactioncontext
intern releas write lock internalreleasewritelock
rollback transact context transactioncontext
intern releas write lock internalreleasewritelock
oper afteroper transact context transactioncontext
intern releas write lock internalreleasewritelock
vmgr lock vmgrlock
vmgr lock vmgrlock releas
vmgr lock vmgrlock
implement
return flag indic version manag
transact
return code true code version manag transact
isinxa
item xaitem
make local copi intern version item recreat
global version item state inform state
manag
param histori sourc
return copi
throw repositoryexcept error occur
intern version histori impl internalversionhistoryimpl make local copi makelocalcopi intern version histori impl internalversionhistoryimpl histori
repositori except repositoryexcept
read lock readlock lock acquir read lock acquirereadlock
node state nodest state node state nodest state mgr statemgr item state getitemst histori getid
node state nodestateex state stateex node state nodestateex state mgr statemgr reg ntreg state
intern version histori impl internalversionhistoryimpl state stateex
item state except itemstateexcept
repositori except repositoryexcept unabl make local copi
lock releas
make local copi intern version item recreat
global version item state inform state
manag
param act sourc
return copi
throw repositoryexcept error occur
intern activ impl internalactivityimpl make local copi makelocalcopi intern activ impl internalactivityimpl act
repositori except repositoryexcept
read lock readlock lock acquir read lock acquirereadlock
node state nodest state node state nodest state mgr statemgr item state getitemst act getid
node state nodestateex state stateex node state nodestateex state mgr statemgr reg ntreg state
intern activ impl internalactivityimpl state stateex
item state except itemstateexcept
repositori except repositoryexcept unabl make local copi
lock releas
return flag indic intern version item belong
environ
param item item check
return code true code env
env differentxaenv intern version item impl internalversionitemimpl item
item version manag getversionmanag
item xaitem item xaitem kei containskei item getid
