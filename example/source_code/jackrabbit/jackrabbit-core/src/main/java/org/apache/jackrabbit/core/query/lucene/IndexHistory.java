org apach jackrabbit core queri lucen
org slf4j logger
org slf4j logger factori loggerfactori
org apach lucen store directori
java util tree map treemap
java util collect
java util iter
java util map
java except ioexcept
code indexhistori code implement histori index segment
index flush link indexinfo instanc creat
repres current state index includ name
index segment current gener number
index histori indexhistori
logger instanc class
logger log logger factori loggerfactori logger getlogg index histori indexhistori
file index info
string index index
directori read index histori
directori index dir indexdir
maximum ag millisecond index info gener
remov
max ag maxag
map gener long link indexinfo youngest gener
higher
map long index info indexinfo index info map indexinfosmap tree map treemap long index info indexinfo collect revers order reverseord
creat code indexhistori code code dir code
param dir directori read index histori
param maxag maximum ag millisecond unus index info
throw ioexcept error occur read index histori
index histori indexhistori directori dir max ag maxag except ioexcept
index dir indexdir dir
max ag maxag max ag maxag
read index info
string name dir list listal
name
string name
start startswith index
gen
length index length
gen
char charat index length
gen long pars long parselong substr index length charact max radix max radix
index info indexinfo info index info indexinfo dir index gen
index info map indexinfosmap put gen info
return time index segment code indexnam code
time return time accur
index segment guarante
index segment question anymor return
time
special case return valu
link long max index segment activ
link long min index segment
param indexnam index segment
return time index segment
time
getlastuseof string index indexnam
long previou
map entri long index info indexinfo entri index info map indexinfosmap entri set entryset
index info indexinfo info entri getvalu
info index indexnam
previou
long max max
previou
previou info modifi getlastmodifi
long min min
remov index info older link maxag histori
prune outdat pruneoutd
threshold system current time milli currenttimemilli max ag maxag
log debug prune index info older threshold index dir indexdir
iter index info indexinfo index info map indexinfosmap valu iter
prune current gener
hasnext
index info indexinfo info
log debug skip index info gener info gener getgener
hasnext
index info indexinfo info index info indexinfo
info modifi getlastmodifi threshold
check redo log
string log lognam redo log getredolognam info gener getgener
index dir indexdir file exist fileexist log lognam
modifi lastmodifi index dir indexdir file modifi filemodifi log lognam
modifi lastmodifi threshold
log debug keep redo log gener timestamp
info gener getgener modifi lastmodifi
delet
index dir indexdir delet file deletefil log lognam
log debug delet redo log gener timestamp
info gener getgener modifi lastmodifi
except ioexcept
log warn unabl delet index dir indexdir log lognam
delet index info
index dir indexdir delet file deletefil info file getfilenam
log debug delet index info gener
info gener getgener
remov
except ioexcept
log warn unabl delet index dir indexdir info file getfilenam
except ioexcept
log warn fail check outdat
info file getfilenam
add index info histori method modifi
refer pass code info code
param info index info add
add index info addindexinfo index info indexinfo info
clone info modifi
index info map indexinfosmap put info gener getgener info clone
intern
return redo log file gener
param gener index info gener
return redo log file gener
string redo log getredolognam gener
gener
default redo log defaultredolog redo log redo log
default redo log defaultredolog redo log prefix redo log prefix
long string tostr gener charact max radix max radix
default redo log defaultredolog dot log dot log
