org apach jackrabbit server
org apach jackrabbit util text
org apach jackrabbit webdav dav constant davconst
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr node
javax jcr repositori except repositoryexcept
java file
java file output stream fileoutputstream
java except ioexcept
java input stream inputstream
java output stream outputstream
java util date
code ioutil code utitili method import export
oper
util ioutil
logger log logger factori loggerfactori logger getlogg util ioutil
constant undefin modif creation time
undefin time undefin time dav constant davconst undefin time undefin time
constant undefin content length
undefin length undefin length
return modif time format string
return modif time string
davconst modificationdateformat
string modifi getlastmodifi modif time modificationtim
modif time modificationtim util ioutil undefin time undefin time
modif time modificationtim date time gettim
dav constant davconst modif date format modificationdateformat format date modif time modificationtim
return creation time format string
return creation time string
davconst creationdateformat
string creat getcreat creat time createdtim
creat time createdtim util ioutil undefin time undefin time
creat time createdtim
dav constant davconst creation date format creationdateformat format date creat time createdtim
param
param
throw ioexcept
spool input stream inputstream output stream outputstream except ioexcept
buffer
read
read read buffer
write buffer read
close
build valid content type string mimetyp encod
pre
mimetyp charset encod
pre
mimetyp code null code code null code return
param mimetyp
param encod
return contenttyp code null code mimetyp
code null code
string build content type buildcontenttyp string mime type mimetyp string encod
string content type contenttyp mime type mimetyp
content type contenttyp encod
content type contenttyp charset encod
content type contenttyp
retriev mimetyp contenttyp
param contenttyp
return mimetyp code null code
string mime type getmimetyp string content type contenttyp
string mime type mimetyp content type contenttyp
mime type mimetyp
properti remov
note jcr mimetyp mandatori properti
built file nodetyp
mime type mimetyp
strip paramet
semi mime type mimetyp index indexof
semi mime type mimetyp substr semi mime type mimetyp
retriev encod contenttyp
param contenttyp
return encod code null code contenttyp
code null code defin charset
string encod getencod string content type contenttyp
find charset paramet
equal
content type contenttyp equal content type contenttyp index indexof charset
jcr encod properti remov
string encod content type contenttyp substr equal
rid paramet charset
semi encod index indexof
semi
encod encod substr semi
encod
build temp file input stream
left user remov file
param inputstream input stream
return temp file code null code input
code null code
file temp file gettempfil input stream inputstream input stream inputstream except ioexcept
input stream inputstream
tmp file import fail
file tmp file tmpfile file creat temp file createtempfil importcontext tmp
file output stream fileoutputstream file output stream fileoutputstream tmp file tmpfile
buffer
read
read input stream inputstream read buffer
write buffer read
close
input stream inputstream close
tmp file tmpfile
recurs creat node root node
param root
param relpath
return node segment
rel path
throw repositoryexcept
node dir mkdir node root string rel path relpath string dir node type dirnodetyp repositori except repositoryexcept
string seg text explod rel path relpath
seg length
root node hasnod seg
root add node addnod seg dir node type dirnodetyp
root root node getnod seg
root
