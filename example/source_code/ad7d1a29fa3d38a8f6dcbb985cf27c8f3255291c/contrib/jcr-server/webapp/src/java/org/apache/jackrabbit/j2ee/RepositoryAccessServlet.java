org apach jackrabbit j2ee
org apach jackrabbit rmi client client repositori factori clientrepositoryfactori
org apach log4j logger
javax jcr repositori
javax name initi context initialcontext
javax name name except namingexcept
javax servlet servlet context servletcontext
javax servlet servlet except servletexcept
javax servlet http http servlet httpservlet
java net malform url except malformedurlexcept
java rmi bound except notboundexcept
java rmi remot except remoteexcept
java util enumer
java util properti
class implement servlet unifi mechan retriev
jcr repositori jnid rmi jcrwebdavserv
repositori access servlet repositoryaccessservlet http servlet httpservlet
default logger
logger log logger logger getlogg repositori access servlet repositoryaccessservlet
todo implement correctli
string init param log4 config init param log4j config log4j config
'repositori name' init paramet
string init param repositori init param repositori repositori
'rmi uri' init paramet
string init param rmi uri init param rmi uri rmi uri
'miss auth mapping' init paramet
string init param miss auth map init param miss auth map miss auth map
string ctx attr repositori ctx attr repositori jcr repositori
string repositori repositorynam
initi servlet
throw javax servlet servletexcept
init servlet except servletexcept
log info repositoryaccessservlet initi
repositori repositorynam servlet config getservletconfig init paramet getinitparamet init param repositori init param repositori
repositori repositorynam
repositori repositorynam default
repositori repositori
retriev rmi
repositori
string rmi uri rmiuri rmi uri getrmiuri
rmi uri rmiuri
repositori repositori rmi getrepositorybyrmi rmi uri rmiuri
retriev jndi
repositori
initi context initialcontext context initi context getinitialcontext
context
repositori repositori jndi getrepositorybyjndi context
error
repositori
log error unabl retriev repositori
servlet except servletexcept unabl retriev repositori
servlet context getservletcontext set attribut setattribut ctx attr repositori ctx attr repositori repositori
log info repositori descriptor getdescriptor repositori rep desc rep desc repositori descriptor getdescriptor repositori rep version desc rep version desc
log info repositoryaccessservlet initi
initi context initialcontext initi context getinitialcontext servlet except servletexcept
retriev jndi context environ
properti env properti
enumer name servlet config getservletconfig init paramet name getinitparameternam
name element hasmoreel
string string name element nextel
start startswith java name
env put servlet config getservletconfig init paramet getinitparamet
log info ad properti jndi environ env properti getproperti
initi context initialcontext env
name except namingexcept
log error creat initi context string tostr
servlet except servletexcept
string rmi uri getrmiuri
setup repositori
servlet config getservletconfig init paramet getinitparamet init param rmi uri init param rmi uri
retriev repositori rmi
repositori repositori jndi getrepositorybyjndi initi context initialcontext jndi context jndicontext
acquir jndi
repositori repositori jndi context jndicontext lookup repositori repositorynam
log info acquir repositori jndi
name except namingexcept
log error error retriev repositori jndi repositori repositorynam
retriev repositori rmi
repositori repositori rmi getrepositorybyrmi string rmi uri rmiuri
acquir rmi
log info retriev repositori rmi uri rmi uri rmiuri
client factori delegat clientfactorydelegat cfd
class clazz class fornam org apach jackrabbit j2ee rmiclientfactorydelegat
cfd client factori delegat clientfactorydelegat clazz instanc newinst
class def found error noclassdeffounderror
log error unabl locat rmi clientrepositoryfactori jcr rmi jar miss string tostr
except
log error unabl locat rmi clientrepositoryfactori jcr rmi jar miss string tostr
repositori cfd repositori getrepositori rmi uri rmiuri
log info acquir repositori rmi
except
log error error retriev repositori rmi
return jsr170 repositori
return jsr170 repositori
repositori repositori getrepositori servlet context servletcontext ctx
repositori ctx attribut getattribut ctx attr repositori ctx attr repositori
option class rmi rmi client present
client factori delegat clientfactorydelegat
repositori repositori getrepositori string uri
remot except remoteexcept malform url except malformedurlexcept bound except notboundexcept
option class rmi rmi server present
rmi client factori delegat rmiclientfactorydelegat client factori delegat clientfactorydelegat
enforc link class fornam
string factori class factoryclassnam client repositori factori clientrepositoryfactori getnam
repositori repositori getrepositori string uri
malform url except malformedurlexcept bound except notboundexcept remot except remoteexcept
system set properti setproperti java rmi server usecodebaseonli true
client repositori factori clientrepositoryfactori repositori getrepositori uri
