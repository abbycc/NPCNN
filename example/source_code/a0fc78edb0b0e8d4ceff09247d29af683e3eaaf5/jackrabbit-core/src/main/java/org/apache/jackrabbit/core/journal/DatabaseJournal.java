org apach jackrabbit core journal
org apach jackrabbit spi common namespac namespac resolv namespaceresolv
org apach jackrabbit util text
org slf4j logger
org slf4j logger factori loggerfactori
java buffer reader bufferedread
java except ioexcept
java input stream inputstream
java input stream reader inputstreamread
java sql connect
java sql databas meta data databasemetadata
java sql driver manag drivermanag
java sql prepar statement preparedstat
java sql result set resultset
java sql sql except sqlexcept
java sql statement
databas base journal implement store record insid databas tabl name
code journal code tabl code global revis code
highest revis number tabl locat insid schema
code schemaobjectprefix code
configur properti
code revis code filenam parent cluster node' revis
file written requir properti default
code driver code jdbc driver class requir
properti default
code url code jdbc connect url requir properti
default
code schema code schema
field insid jdbc connect url delimet colon
code schemaobjectprefix code schema object prefix
default empti string
code user code usernam connect
code password code password connect
code reconnectdelaym code number millisecond wait
reconnect databas
databas journal databasejourn abstract journal abstractjourn
schema object prefix
string schema object prefix variabl schema object prefix variabl
schemaobjectprefix
default ddl script
string default ddl default ddl default ddl
default journal tabl check schema complet
string default journal tabl default journal tabl journal
default reconnect delai millisecond
default reconnect delai default reconnect delai
logger
logger log logger factori loggerfactori logger getlogg databas journal databasejourn
driver bean properti
string driver
connect url bean properti
string url
schema bean properti
string schema
user bean properti
string user
password bean properti
string password
reconnect delai millisecond bean properti
reconnect delai reconnectdelaym
jdbc connect
connect connect
statement return revis rang
prepar statement preparedstat select revis stmt selectrevisionsstmt
statement updat global revis
prepar statement preparedstat updat global stmt updateglobalstmt
statement return global revis
prepar statement preparedstat select global stmt selectglobalstmt
statement append record
prepar statement preparedstat insert revis stmt insertrevisionstmt
auto commit level
lock level locklevel
lock revis
lock revis lockedrevis
time millisecond reattempt connect databas
reconnect time reconnecttimem
sql statement return revis rang
string select revis stmt sql selectrevisionsstmtsql
sql statement updat global revis
string updat global stmt sql updateglobalstmtsql
sql statement return global revis
string select global stmt sql selectglobalstmtsql
sql statement append record
string insert revis stmt sql insertrevisionstmtsql
schema object prefix bean properti
string schema object prefix schemaobjectprefix
inheritdoc
init string namespac resolv namespaceresolv resolv
journal except journalexcept
init resolv
provid valid default argument
schema object prefix schemaobjectprefix
schema object prefix schemaobjectprefix
reconnect delai reconnectdelaym
reconnect delai reconnectdelaym default reconnect delai default reconnect delai
init
connect connect getconnect
connect set auto commit setautocommit
check schema checkschema
build sql statement buildsqlstat
prepar statement preparestat
except
string msg unabl creat connect
journal except journalexcept msg
log info databasejourn initi
complet initi databas journal base implement
check requir bean properti code driver code
code url code option deduc valid
schema overridden subclass
creat connect requir argument
getconnect
throw journalexcept initi fail
init journal except journalexcept
driver
string msg driver
journal except journalexcept msg
url
string msg connect url
journal except journalexcept msg
schema
schema schema url getschemafromurl url
illeg argument except illegalargumentexcept
string msg unabl deriv schema url messag getmessag
journal except journalexcept msg
class fornam driver
class found except classnotfoundexcept
string msg unabl load jdbc driver class
journal except journalexcept msg
creat databas connect method call insid
link init string org apach jackrabbit namespaceresolv
connect drop reacquir base
implement code java sql drivermanag code
connect overridden subclass
init
return connect
throw sqlexcept error occur
connect connect getconnect sql except sqlexcept
driver manag drivermanag connect getconnect url user password
deriv schema jdbc connect url simpli treat url
delimet colon take 2nd field
param url jdbc connect url
return schema
throw illegalargumentexcept jdbc connect url invalid
string schema url getschemafromurl string url illeg argument except illegalargumentexcept
start url index indexof
start
end url index indexof start
end
url substr start end
illeg argument except illegalargumentexcept url
inheritdoc
record iter recorditer record getrecord start revis startrevis
journal except journalexcept
check connect checkconnect
select revis stmt selectrevisionsstmt clear paramet clearparamet
select revis stmt selectrevisionsstmt clear warn clearwarn
select revis stmt selectrevisionsstmt set long setlong start revis startrevis
select revis stmt selectrevisionsstmt execut
databas record iter databaserecorditer
select revis stmt selectrevisionsstmt result set getresultset resolv getresolv path resolv getnamepathresolv
sql except sqlexcept
close
string msg unabl return record iterat
journal except journalexcept msg
inheritdoc
journal lock increment current tabl
name code global revis code effect write lock
tabl updat save rememb
append record save entail multipl append jcr
lock dolock journal except journalexcept
result set resultset
succeed
check connect checkconnect
lock level locklevel
set auto commit setautocommit connect
sql except sqlexcept
close
string msg unabl set autocommit fals
journal except journalexcept msg
updat global stmt updateglobalstmt clear paramet clearparamet
updat global stmt updateglobalstmt clear warn clearwarn
updat global stmt updateglobalstmt execut
select global stmt selectglobalstmt clear paramet clearparamet
select global stmt selectglobalstmt clear warn clearwarn
select global stmt selectglobalstmt execut
select global stmt selectglobalstmt result set getresultset
journal except journalexcept revis
lock revis lockedrevis long getlong
succeed
sql except sqlexcept
close
string msg unabl lock global revis tabl
journal except journalexcept msg
close
succeed
unlock dounlock
inheritdoc
unlock dounlock success
lock level locklevel
success
commit connect
rollback connect
set auto commit setautocommit connect
inheritdoc
save lock revis insid newli append record
append append record appendrecord record
record set revis setrevis lock revis lockedrevis
inheritdoc
save revis record
append append record appendrecord record input stream inputstream length
journal except journalexcept
check connect checkconnect
insert revis stmt insertrevisionstmt clear paramet clearparamet
insert revis stmt insertrevisionstmt clear warn clearwarn
insert revis stmt insertrevisionstmt set long setlong record revis getrevis
insert revis stmt insertrevisionstmt set string setstr getid
insert revis stmt insertrevisionstmt set string setstr record produc getproducerid
insert revis stmt insertrevisionstmt set binari stream setbinarystream length
insert revis stmt insertrevisionstmt execut
sql except sqlexcept
close
string msg unabl append revis lock revis lockedrevis
journal except journalexcept msg
inheritdoc
close
close
close databas connect statement close due
error occur calcul time reconnect
attempt
param failur close due failur
close failur
failur
reconnect time reconnecttimem system current time milli currenttimemilli reconnect delai reconnectdelaym
close select revis stmt selectrevisionsstmt
select revis stmt selectrevisionsstmt
close updat global stmt updateglobalstmt
updat global stmt updateglobalstmt
close select global stmt selectglobalstmt
select global stmt selectglobalstmt
close insert revis stmt insertrevisionstmt
insert revis stmt insertrevisionstmt
close connect
connect
set autocommit flag connect connect
pass code null code log except warn
param connect databas connect
param autocommit enabl disabl autocommit
set auto commit setautocommit connect connect auto commit autocommit
connect
connect set auto commit setautocommit auto commit autocommit
sql except sqlexcept
string msg unabl set autocommit flag auto commit autocommit
log warn msg
commit connect connect pass
code null code log except warn
param connect connect
commit connect connect
connect
connect commit
sql except sqlexcept
string msg error commit connect messag getmessag
log warn msg
rollback connect connect pass
code null code log except warn
param connect connect
rollback connect connect
connect
connect rollback
sql except sqlexcept
string msg error roll back connect messag getmessag
log warn msg
close databas connect connect
pass code null code log except warn
param connect databas connect
close connect connect
connect
connect close
sql except sqlexcept
string msg error close connect messag getmessag
log warn msg
close input stream input stream
pass code null code log except warn
param input stream code null code
close input stream inputstream
close
except ioexcept
string msg error close input stream messag getmessag
log warn msg
close statement statement
pass code null code log except warn
param stmt statement code null code
close statement stmt
stmt
stmt close
sql except sqlexcept
string msg error close statement messag getmessag
log warn msg
close resultset result set
pass code null code log except warn
param resultset code null code
close result set resultset
close
sql except sqlexcept
string msg error close result set messag getmessag
log warn msg
check establish connect connect longer
exist wait code reconnecttimem code pass
error occur recreat connect
check connect checkconnect sql except sqlexcept
connect
delai delaym reconnect time reconnecttimem system current time milli currenttimemilli
delai delaym
thread sleep delai delaym
interrupt except interruptedexcept
ignor
connect connect getconnect
prepar statement preparestat
check requir schema object exist creat
exist
throw except error occur
check schema checkschema except
schema exist schemaexist connect meta data getmetadata
read ddl resourc
input stream inputstream databas journal databasejourn resourc stream getresourceasstream schema ddl
string msg schema specif ddl found schema ddl
fall back default ddl default ddl
log info msg
databas journal databasejourn resourc stream getresourceasstream default ddl default ddl
msg unabl load default ddl default ddl
journal except journalexcept msg
buffer reader bufferedread reader buffer reader bufferedread input stream reader inputstreamread
statement stmt connect creat statement createstat
string sql reader read line readlin
sql
skip comment empti line
sql start startswith sql length
replac prefix variabl
sql creat schema sql createschemasql sql
execut sql stmt
stmt execut updat executeupd sql
read sql stmt
sql reader read line readlin
close
close stmt
check requir tabl exist schema
overridden subclass tabl name
param metadata databas meta data
return code true code schema exist
throw sqlexcept sql error occur
schema exist schemaexist databas meta data databasemetadata meta data metadata
sql except sqlexcept
string tabl tablenam schema object prefix schemaobjectprefix default journal tabl default journal tabl
meta data metadata store lower case identifi storeslowercaseidentifi
tabl tablenam tabl tablenam lower case tolowercas
meta data metadata store upper case identifi storesuppercaseidentifi
tabl tablenam tabl tablenam upper case touppercas
result set resultset meta data metadata tabl gettabl tabl tablenam
close
creat sql statement schema creation variabl substitut
param sql sql string variabl substitut
return valid sql string
string creat schema sql createschemasql string sql
text replac sql schema object prefix variabl schema object prefix variabl schema object prefix schemaobjectprefix
build sql statement overridden subclass
tabl column name
build sql statement buildsqlstat
select revis stmt sql selectrevisionsstmtsql
select revis journal produc revis data
schema object prefix schemaobjectprefix journal
revis
updat global stmt sql updateglobalstmtsql
updat schema object prefix schemaobjectprefix global revis
set revis revis
select global stmt sql selectglobalstmtsql
select revis
schema object prefix schemaobjectprefix global revis
insert revis stmt sql insertrevisionstmtsql
insert schema object prefix schemaobjectprefix journal
revis journal produc revis data
valu
prepar sql statement
throw sqlexcept error occur
prepar statement preparestat sql except sqlexcept
select revis stmt selectrevisionsstmt connect prepar statement preparestat select revis stmt sql selectrevisionsstmtsql
updat global stmt updateglobalstmt connect prepar statement preparestat updat global stmt sql updateglobalstmtsql
select global stmt selectglobalstmt connect prepar statement preparestat select global stmt sql selectglobalstmtsql
insert revis stmt insertrevisionstmt connect prepar statement preparestat insert revis stmt sql insertrevisionstmtsql
bean getter
string driver getdriv
driver
string url geturl
url
string schema getschema
schema
string schema object prefix getschemaobjectprefix
schema object prefix schemaobjectprefix
string user getus
user
string password getpassword
password
reconnect delai getreconnectdelaym
reconnect delai reconnectdelaym
bean setter
set driver setdriv string driver
driver driver
set url seturl string url
url url
set schema setschema string schema
schema schema
set schema object prefix setschemaobjectprefix string schema object prefix schemaobjectprefix
schema object prefix schemaobjectprefix schema object prefix schemaobjectprefix upper case touppercas
set user setus string user
user user
set password setpassword string password
password password
set reconnect delai setreconnectdelaym reconnect delai reconnectdelaym
reconnect delai reconnectdelaym reconnect delai reconnectdelaym
