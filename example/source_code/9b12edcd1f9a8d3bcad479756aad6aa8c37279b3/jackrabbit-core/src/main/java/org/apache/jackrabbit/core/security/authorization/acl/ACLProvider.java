org apach jackrabbit core secur author acl
org apach common collect map lru map lrumap
org apach jackrabbit api secur princip princip manag principalmanag
org apach jackrabbit core item impl itemimpl
org apach jackrabbit core item manag itemmanag
org apach jackrabbit core node impl nodeimpl
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core nodetyp node type impl nodetypeimpl
org apach jackrabbit core secur secur constant securityconst
org apach jackrabbit core secur author access control listen accesscontrollisten
org apach jackrabbit core secur author abstract access control provid abstractaccesscontrolprovid
org apach jackrabbit core secur author abstract compil permiss abstractcompiledpermiss
org apach jackrabbit core secur author access control constant accesscontrolconst
org apach jackrabbit core secur author access control editor accesscontroleditor
org apach jackrabbit core secur author access control modif accesscontrolmodif
org apach jackrabbit core secur author compil permiss compiledpermiss
org apach jackrabbit core secur author permiss
org apach jackrabbit core secur author privileg registri privilegeregistri
org apach jackrabbit core secur author unmodifi access control list unmodifiableaccesscontrollist
org apach jackrabbit spi
org apach jackrabbit spi path
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr item found except itemnotfoundexcept
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr secur access control entri accesscontrolentri
javax jcr secur access control list accesscontrollist
javax jcr secur access control manag accesscontrolmanag
javax jcr secur access control polici accesscontrolpolici
javax jcr secur privileg
java secur princip
java util arrai list arraylist
java util collect
java util iter
java util list
java util map
java util set
aclprovid gener access control polici item store
workspac appli rule
code node code consid access control acl
explicit assign ad mixin type
code rep accesscontrol code ad child node type
code rep acl code form acl
properti consid 'access controlled' parent node
acl assign code properti code item
code node code access control inherit acl
acl inherit closest access control ancestor
code node code effect acl
case default polici return grant read privileg
princip deni privileg
item consid acl item defin acl
acl item inherit acl node defin acl
org apach jackrabbit core secur author accesscontrolprovid addit inform
acl provid aclprovid abstract access control provid abstractaccesscontrolprovid access control constant accesscontrolconst
default logger
logger log logger factori loggerfactori logger getlogg acl provid aclprovid
system acl editor
acl editor acleditor system editor systemeditor
node root node
node nodeid root node rootnodeid
cach eas retriev ac defin node cach
aclpermiss creat individu session
instanc
entri collector entrycollector entri collector entrycollector
accesscontrolprovid
org apach jackrabbit core secur author accesscontrolprovid init session map
overrid
init session system session systemsess map configur repositori except repositoryexcept
init system session systemsess configur
make workspac systemsess
minim protect root node
node impl nodeimpl root node impl nodeimpl session root node getrootnod
root node rootnodeid root node getnodeid
system editor systemeditor acl editor acleditor system session systemsess
todo replac configur default polici jcr
initi default initializedwithdefault configur kei containskei param omit default permiss param omit default permiss
initi default initializedwithdefault access control isaccesscontrol root
init root acl initrootacl session system editor systemeditor
entri collector entrycollector creat entri collector createentrycollector session impl sessionimpl system session systemsess
overrid
close
close
entri collector entrycollector close
org apach jackrabbit core secur author accesscontrolprovid geteffectivepolici path
param abspath absolut path
access control polici accesscontrolpolici effect polici geteffectivepolici path ab path abspath item found except itemnotfoundexcept repositori except repositoryexcept
check initi checkiniti
node impl nodeimpl target node targetnod node impl nodeimpl session node getnod session jcr path getjcrpath ab path abspath
node impl nodeimpl node node getnod target node targetnod item isacitem target node targetnod
list access control list accesscontrollist acl arrai list arraylist access control list accesscontrollist
collect acl effect node
collect acl collectacl node acl
effect acl present add default empti acl
acl empti isempti
access control inform retriev
node node parent access
control
log warn access control node present item hierarchi start target node targetnod path getpath
acl arrai toarrai access control list accesscontrollist acl size
org apach jackrabbit core secur author accesscontrolprovid geteditor session
access control editor accesscontroleditor editor geteditor session session
check initi checkiniti
acl editor acleditor session
org apach jackrabbit core secur author accesscontrolprovid compilepermiss set
compil permiss compiledpermiss compil permiss compilepermiss set princip princip repositori except repositoryexcept
check initi checkiniti
admin system isadminorsystem princip
admin permiss getadminpermiss
read isreadonli princip
read permiss getreadonlypermiss
acl permiss aclpermiss princip
org apach jackrabbit core secur author accesscontrolprovid canaccessroot set
access root canaccessroot set princip princip repositori except repositoryexcept
check initi checkiniti
admin system isadminorsystem princip
compil permiss compiledpermiss acl permiss aclpermiss princip
read canread root node rootnodeid
protect
creat code entrycollector code instanc
provid gather effect ac list princip
node evalu
param systemsess system session creat entri collector
return instanc code cachingentrycollector code
throw repositoryexcept error occur
retrieveresultentri nodeimpl entryfilt
entri collector entrycollector creat entri collector createentrycollector session impl sessionimpl system session systemsess repositori except repositoryexcept
cach entri collector cachingentrycollector system session systemsess system editor systemeditor root node rootnodeid
retriev iter code accesscontrolentri code evalu
link abstractcompiledpermiss buildresult
param node target node
param filter entri filter collect access control entri
return iter code accesscontrolentri code
throw repositoryexcept error occur
iter access control entri accesscontrolentri retriev result entri retrieveresultentri node impl nodeimpl node entri filter entryfilt filter repositori except repositoryexcept
iter access control entri accesscontrolentri itr entri collector entrycollector collect entri collectentri node filter iter
itr
privat
return code targetnod code node store
access control inform case nearest parent
search return
param targetnod node inform retriev
param isacitem true target node defin access control
content fals
return code targetnod code nearest parent
case code targetnod code defin access control content
throw repositoryexcept error occur
node impl nodeimpl node getnod node impl nodeimpl target node targetnod item isacitem repositori except repositoryexcept
node impl nodeimpl node
item isacitem
ntname node type impl nodetypeimpl target node targetnod primari node type getprimarynodetyp getqnam
ntname equal rep acl rep acl
node node impl nodeimpl target node targetnod parent getpar
node node impl nodeimpl target node targetnod parent getpar parent getpar
node target node targetnod
node
recurs collect acl effect node
param node node collect acl part
structur defin mix accesscontrol
param acl list collect effect acl
throw repositoryexcept error occur
collect acl collectacl node impl nodeimpl node list access control list accesscontrollist acl repositori except repositoryexcept
node access control construct acl add
list
access control isaccesscontrol node
retriev entri access control node
acl add unmodifi access control list unmodifiableaccesscontrollist entri collector entrycollector entri getentri node node path getpath collect string integ empti map emptymap
recurs access control parent hierarchi
root node rootnodeid equal node getid
node impl nodeimpl parent node parentnod node impl nodeimpl node parent getpar
collect acl collectacl parent node parentnod acl
set minim permiss workspac
adminstr princip privileg
read privileg
param session workspac set init acl
param editor session
throw repositoryexcept error occur
init root acl initrootacl session impl sessionimpl session access control editor accesscontroleditor editor repositori except repositoryexcept
log debug instal initi acl
string root path rootpath session root node getrootnod path getpath
access control polici accesscontrolpolici acl editor edit access control polici editaccesscontrolpolici root path rootpath
acl length
acl templat acltempl acl acl templat acltempl acl
princip manag principalmanag mgr pmgr session princip manag getprincipalmanag
access control manag accesscontrolmanag mgr acmgr session access control manag getaccesscontrolmanag
string pname secur constant securityconst administr administr
mgr pmgr princip hasprincip pname
princip administr mgr pmgr princip getprincip pname
log debug privileg administr
privileg priv privileg mgr acmgr privileg privilegefromnam privileg jcr jcr
acl add access control entri addaccesscontrolentri administr priv
log info administr princip group miss omit initi default permiss
princip mgr pmgr geteveryon
log debug privileg read
privileg priv privileg mgr acmgr privileg privilegefromnam privileg jcr read jcr read
acl add access control entri addaccesscontrolentri priv
editor set polici setpolici root path rootpath acl
session save
log info applic acl root node skip initi root node' acl
repositori except repositoryexcept
log error fail set minim access control root node workspac session workspac getworkspac getnam
session root node getrootnod refresh
test node access control node access
control nodetyp
link accesscontrolconst rep access control rep accesscontrol
child node name
link accesscontrolconst polici rep acl
param node node test
return code true code node access control
rep polici child code fals code
throw repositoryexcept error occur
access control isaccesscontrol node impl nodeimpl node repositori except repositoryexcept
node node hasnod polici polici node node type isnodetyp rep access control rep access control
compiledpermiss
acl permiss aclpermiss abstract compil permiss abstractcompiledpermiss access control listen accesscontrollisten
list string princip name principalnam
map node nodeid boolean read cach readcach lru map lrumap
object monitor object
acl permiss aclpermiss set princip princip repositori except repositoryexcept
princip
acl permiss aclpermiss set princip princip listen event listentoev repositori except repositoryexcept
princip name principalnam arrai list arraylist string princip size
princip princ princip
princip name principalnam add princ getnam
listen event listentoev
make aclpermiss recalcul permiss
acl modifi
entri collector entrycollector add listen addlisten
result build result buildresult node impl nodeimpl node exist node existingnod item isacitem entri filter entryfilt filter repositori except repositoryexcept
retriev ac path direct ancestor path
appli princip name
iter access control entri accesscontrolentri entri retriev result entri retrieveresultentri node getnod node item isacitem filter
calcul privileg permiss
ac defin privileg node
add addit restrict permiss determin
take target target item account
permiss
deni permiss
privileg allowprivileg privileg registri privilegeregistri privileg privileg
deni privileg denyprivileg privileg registri privilegeregistri privileg privileg
parent parentallow privileg registri privilegeregistri privileg privileg
parent deni parentdeni privileg registri privilegeregistri privileg privileg
entri hasnext
acl templat acltempl entri ac acl templat acltempl entri entri
determin ac defin node abspath local
read privileg permiss determin
privileg defin parent ac
defin local treat inherit entri
entri bit entrybit ac privileg bit getprivilegebit
local isloc exist node existingnod ac local isloc node node getnodeid
local isloc
ac isallow
parent parentallow permiss diff entri bit entrybit parent deni parentdeni
parent deni parentdeni permiss diff entri bit entrybit parent parentallow
ac isallow
privileg allowprivileg permiss diff entri bit entrybit deni privileg denyprivileg
permiss privileg registri privilegeregistri calcul permiss calculatepermiss privileg allowprivileg parent parentallow item isacitem
permiss diff permiss deni
deni privileg denyprivileg permiss diff entri bit entrybit privileg allowprivileg
permiss privileg registri privilegeregistri calcul permiss calculatepermiss deni privileg denyprivileg parent deni parentdeni item isacitem
deni permiss diff permiss
result deni privileg allowprivileg deni privileg denyprivileg
abstractcompiledpermiss
abstractcompiledpermiss buildresult path
overrid
result build result buildresult path ab path abspath repositori except repositoryexcept
exist node existingnod
node impl nodeimpl node
item manag itemmanag item mgr itemmgr session item manag getitemmanag
item impl itemimpl item item mgr itemmgr item getitem ab path abspath
item node isnod
node node impl nodeimpl item
exist node existingnod
node node impl nodeimpl item parent getpar
repositori except repositoryexcept
path point persist item
find nearest persist node start root
path element elem ab path abspath element getel
node impl nodeimpl parent node impl nodeimpl session root node getrootnod
elem length
elem getnam
index elem index getindex
parent node hasnod index
persist node reach
parent parent node getnod index
node parent
node
item found except itemnotfoundexcept item hierarchi
item isacitem item isacitem ab path abspath
build result buildresult node exist node existingnod item isacitem entri filter impl entryfilterimpl princip name principalnam
abstractcompiledpermiss clearcach
overrid
clear cach clearcach
monitor
read cach readcach clear
clear cach clearcach
compiledpermiss
compiledpermiss close
overrid
close
entri collector entrycollector remov listen removelisten
close
compiledpermiss canread path itemid
read canread path path item itemid item itemid repositori except repositoryexcept
item itemid item itemid session hierarchi manag gethierarchymanag resolv path resolvepath path item itemid
read access deni individu properti
parent node readabl properti
simplifi canread test cach
exist node existingnod
node nodeid node nodeid
denot node denotesnod
node nodeid node nodeid
method call exist node
flag set true identifi node
exist node existingnod
node nodeid properti propertyid parent getparentid
read canread
monitor
read cach readcach kei containskei node nodeid
read canread read cach readcach node nodeid
item manag itemmanag item mgr itemmgr session item manag getitemmanag
node impl nodeimpl node node impl nodeimpl item mgr itemmgr item getitem node nodeid
result result build result buildresult node exist node existingnod item isacitem node entri filter impl entryfilterimpl princip name principalnam
read canread result grant permiss read
read cach readcach put node nodeid read canread
read canread
aclmodificationlisten
org apach jackrabbit core secur author accesscontrollisten acmodifi accesscontrolmodif
modifi acmodifi access control modif accesscontrolmodif modif
ignor detail modif clear cach
clear cach clearcach
