org apach jackrabbit core queri sql
org apach jackrabbit core queri queri node andquerynod
org apach jackrabbit core queri locat step queri node locationstepquerynod
org apach jackrabbit core queri ari queri node naryquerynod
org apach jackrabbit core queri node type queri node nodetypequerynod
org apach jackrabbit core queri queri node notquerynod
org apach jackrabbit core queri queri node orquerynod
org apach jackrabbit core queri order queri node orderquerynod
org apach jackrabbit core queri path queri node pathquerynod
org apach jackrabbit core queri queri constant queryconst
org apach jackrabbit core queri queri node querynod
org apach jackrabbit core queri queri root node queryrootnod
org apach jackrabbit core queri relat queri node relationquerynod
org apach jackrabbit core queri textsearch queri node textsearchquerynod
org apach jackrabbit core queri properti function queri node propertyfunctionquerynod
org apach jackrabbit core queri queri node factori querynodefactori
org apach jackrabbit except nameexcept
org apach jackrabbit namespac resolv namespaceresolv
org apach jackrabbit qname
org apach jackrabbit format nameformat
org apach jackrabbit path
org apach jackrabbit malform path except malformedpathexcept
org apach jackrabbit util iso8601
org slf4j logger
org slf4j logger factori loggerfactori
org apach common collect map refer map referencemap
javax jcr queri invalid queri except invalidqueryexcept
java text simpl date format simpledateformat
java util arrai list arraylist
java util arrai
java util calendar
java util date
java util iter
java util list
java util element except nosuchelementexcept
java util map
java string reader stringread
implement queri builder jcr sql syntax
jcrsql queri builder jcrsqlquerybuild jcrsql parser visitor jcrsqlparservisitor
logger instanc class
logger log logger factori loggerfactori logger getlogg jcrsql queri builder jcrsqlquerybuild
dateformat pattern type
link org apach jackrabbit core queri queryconst type date
string date pattern date pattern yyyi
map reusabl jcrsql parser instanc index namespaceresolv
map parser refer map referencemap refer map referencemap weak refer map referencemap weak
root node sql queri syntax tree
ast queri astqueri stmt
root queri node
queri root node queryrootnod root
resolv qname
namespac resolv namespaceresolv resolv
queri node gather constraint defin claus
queri node andquerynod constraint node constraintnod
qname node type claus
qname node type nodetypenam
list pathquerynod constraint merg
list path constraint pathconstraint arrai list arraylist
queri node factori
queri node factori querynodefactori factori
creat code jcrsqlquerybuild code
param statement root node sql syntax tree
param resolv namespac resolv name
code statement code
param factori queri node factori
jcrsql queri builder jcrsqlquerybuild ast queri astqueri statement
namespac resolv namespaceresolv resolv
queri node factori querynodefactori factori
stmt statement
resolv resolv
factori factori
constraint node constraintnod factori creat queri node createandquerynod
creat code querynod code tree sql code statement code
pass queri node code factori code
param statement sql statement
param resolv namespac resolv
return code querynod code tree
throw invalidqueryexcept code statement code malform
queri root node queryrootnod creat queri createqueri string statement
namespac resolv namespaceresolv resolv
queri node factori querynodefactori factori
invalid queri except invalidqueryexcept
parser
jcrsql parser jcrsqlparser parser
parser
parser jcrsql parser jcrsqlparser parser resolv
parser
parser jcrsql parser jcrsqlparser string reader stringread statement
parser set namespac resolv setnamespaceresolv resolv
parser put resolv parser
jcrsql queri builder jcrsqlquerybuild builder
guard concurr session
parser
parser init reinit string reader stringread statement
builder jcrsql queri builder jcrsqlquerybuild parser queri resolv factori
builder root node getrootnod
pars except parseexcept
invalid queri except invalidqueryexcept messag getmessag
illeg argument except illegalargumentexcept
invalid queri except invalidqueryexcept messag getmessag
throwabl
javacc parser throw error case
invalid queri except invalidqueryexcept messag getmessag
creat string represent queri node tree sql syntax
param root root queri node tree
param resolv resolv qname
return string represent queri node tree
throw invalidqueryexcept queri node tree convert
string represent due restrict sql
string string tostr queri root node queryrootnod root namespac resolv namespaceresolv resolv
invalid queri except invalidqueryexcept
queri format queryformat string tostr root resolv
pars statement return root node code querynod code
tree
return root node code querynod code tree
queri root node queryrootnod root node getrootnod
root
stmt jjt accept jjtaccept
root
jcrsqlparservisitor
object visit simpl node simplenod node object data
call
data
object visit ast queri astqueri node object data
root factori creat queri root node createqueryrootnod
root set locat node setlocationnod factori creat path queri node createpathquerynod root
pass select
node children accept childrenaccept root
path set
path queri node pathquerynod path node pathnod root locat node getlocationnod
path node pathnod set absolut setabsolut
path constraint pathconstraint size
locat step queri node locationstepquerynod step factori creat locat step queri node createlocationstepquerynod path node pathnod
step set test setnametest
step set includ descend setincludedescend
path node pathnod add path step addpathstep step
path constraint pathconstraint size
merg path node
merg path queri node mergingpathquerynod path
iter path constraint pathconstraint iter hasnext
path merg path queri node mergingpathquerynod
path merg needsmerg
path
path
illeg argument except illegalargumentexcept invalid combin jcr path claus
path constraint pathconstraint remov path
merg path queri node mergingpathquerynod path merg path queri node mergingpathquerynod path constraint pathconstraint arrai toarrai merg path queri node mergingpathquerynod path constraint pathconstraint size
path path merg domerg path
path constraint pathconstraint clear
path constraint pathconstraint add addal arrai list aslist path
element except nosuchelementexcept
illeg argument except illegalargumentexcept invalid combin jcr path claus
merg path queri node mergingpathquerynod path merg path queri node mergingpathquerynod path constraint pathconstraint
locat step queri node locationstepquerynod step path path step getpathstep
step length
locat step queri node locationstepquerynod step factori creat locat step queri node createlocationstepquerynod path node pathnod
step set test setnametest step test getnametest
step set includ descend setincludedescend step includ descend getincludedescend
step set index setindex step index getindex
path node pathnod add path step addpathstep step
constraint node constraintnod num operand getnumoperand
attach constraint path step
locat step queri node locationstepquerynod step path node pathnod path step getpathstep
step step length add predic addpred constraint node constraintnod
node type nodetypenam
add node type constraint
locat step queri node locationstepquerynod step path node pathnod path step getpathstep
node type queri node nodetypequerynod node type nodetyp
factori creat node type queri node createnodetypequerynod step step length node type nodetypenam
step step length add predic addpred node type nodetyp
root
object visit ast select list astselectlist node object data
queri root node queryrootnod root queri root node queryrootnod data
node children accept childrenaccept default parser visitor defaultparservisitor
object visit ast identifi astidentifi node object data
root add select properti addselectproperti node getnam
data
object visit ast excerpt function astexcerptfunct node object data
root add select properti addselectproperti qname qname rep uri rep uri excerpt
data
root
data
object visit ast claus astfromclaus node object data
queri root node queryrootnod root queri root node queryrootnod data
node children accept childrenaccept default parser visitor defaultparservisitor
object visit ast identifi astidentifi node object data
node getnam equal qname base base
node primari mixin node type
node type nodetypenam node getnam
data
root
object visit ast claus astwhereclaus node object data
node children accept childrenaccept constraint node constraintnod
object visit ast predic astpred node object data
ari queri node naryquerynod parent ari queri node naryquerynod data
type node oper type getoperationtyp
queri node querynod predic node predicatenod
qname tmp qname
ast liter astliter ast liter astliter
node children accept childrenaccept default parser visitor defaultparservisitor
object visit ast identifi astidentifi node object data
tmp
tmp node getnam
tmp
tmp node getnam
data
object visit ast liter astliter node object data
node
data
object visit ast lower function astlowerfunct node object data
identifi getidentifi node
data
object visit ast upper function astupperfunct node object data
identifi getidentifi node
data
identifi getidentifi simpl node simplenod node
node jjt num children jjtgetnumchildren
node node jjt child jjtgetchild
ast identifi astidentifi
ast identifi astidentifi identifi ast identifi astidentifi
tmp
tmp identifi getnam
tmp
tmp identifi getnam
data
qname identifi tmp
identifi identifi equal qname jcr path jcr path
tmp
simpli ignor join mixin node type
creat path queri createpathqueri getvalu parent type gettyp
data
type queri constant queryconst oper oper
queri node andquerynod factori creat queri node createandquerynod parent
relat queri node relationquerynod rel creat relat queri node createrelationquerynod
identifi queri constant queryconst oper gener oper gener ast liter astliter node children
node children accept childrenaccept rel
add operand addoperand rel
rel creat relat queri node createrelationquerynod
identifi queri constant queryconst oper gener oper gener ast liter astliter node children
node children accept childrenaccept rel
add operand addoperand rel
predic node predicatenod
type queri constant queryconst oper gener oper gener
type queri constant queryconst oper gener oper gener
type queri constant queryconst oper gener oper gener
type queri constant queryconst oper gener oper gener
type queri constant queryconst oper gener oper gener
type queri constant queryconst oper gener oper gener
predic node predicatenod creat relat queri node createrelationquerynod parent
identifi type
node children accept childrenaccept predic node predicatenod
type queri constant queryconst oper oper
ast liter astliter pattern
node escap string getescapestr
node escap string getescapestr length
backslash escap charact intern
pattern set setvalu translat escap translateescap pattern getvalu node escap string getescapestr char charat
illeg argument except illegalargumentexcept escap string length node escap string getescapestr
escap charact
pattern backslash charact
escap
pattern set setvalu pattern getvalu replac replaceal
predic node predicatenod creat relat queri node createrelationquerynod parent
identifi type pattern
node children accept childrenaccept predic node predicatenod
type queri constant queryconst oper oper
queri node orquerynod factori creat queri node createorquerynod parent
node children length
relat queri node relationquerynod rel creat relat queri node createrelationquerynod
identifi queri constant queryconst oper oper ast liter astliter node children
node children accept childrenaccept rel
add operand addoperand rel
predic node predicatenod
type queri constant queryconst oper null oper null
type queri constant queryconst oper null oper null
creat dummi liter
ast liter astliter star ast liter astliter jcrsql parser tree constant jcrsqlparsertreeconst jjtliter
star set type settyp queri constant queryconst type string type string
star set setvalu
predic node predicatenod creat relat queri node createrelationquerynod parent
identifi type star
type queri constant queryconst oper similar oper similar
predic node predicatenod creat relat queri node createrelationquerynod parent type
ast liter astliter node children
illeg argument except illegalargumentexcept unknown oper type type
arrai index bound except arrayindexoutofboundsexcept
illeg argument except illegalargumentexcept argument predic
predic node predicatenod
parent add operand addoperand predic node predicatenod
data
object visit ast express astorexpress node object data
ari queri node naryquerynod parent ari queri node naryquerynod data
queri node orquerynod queri orqueri factori creat queri node createorquerynod parent
pass operand
node children accept childrenaccept queri orqueri
queri orqueri num operand getnumoperand
parent add operand addoperand queri orqueri
parent
object visit ast express astandexpress node object data
ari queri node naryquerynod parent ari queri node naryquerynod data
queri node andquerynod queri andqueri factori creat queri node createandquerynod parent
pass operand
node children accept childrenaccept queri andqueri
parent add operand addoperand queri andqueri
parent
object visit ast express astnotexpress node object data
ari queri node naryquerynod parent ari queri node naryquerynod data
queri node notquerynod queri notqueri factori creat queri node createnotquerynod parent
pass operand
node children accept childrenaccept queri notqueri
parent add operand addoperand queri notqueri
parent
object visit ast bracket express astbracketexpress node object data
bracket express influenc syntax tree
creat
simpli pass children
node children accept childrenaccept data
object visit ast liter astliter node object data
data
object visit ast identifi astidentifi node object data
data
object visit ast order claus astorderbyclaus node object data
queri root node queryrootnod root queri root node queryrootnod data
order queri node orderquerynod order factori creat order queri node createorderquerynod root
root set order node setordernod order
node children accept childrenaccept order
root
object visit ast order spec astorderspec node object data
order queri node orderquerynod order order queri node orderquerynod data
qname identifi qname
collect identifi
node children accept childrenaccept default parser visitor defaultparservisitor
object visit ast identifi astidentifi node object data
identifi node getnam
data
data
order queri node orderquerynod order spec orderspec spec order queri node orderquerynod order spec orderspec identifi
order add order spec addorderspec spec
node children accept childrenaccept spec
data
object visit ast ascend order spec astascendingorderspec node object data
ascend default
data
object visit ast descend order spec astdescendingorderspec node object data
order queri node orderquerynod order spec orderspec spec order queri node orderquerynod order spec orderspec data
spec set ascend setascend
data
object visit ast express astcontainsexpress node object data
ari queri node naryquerynod parent ari queri node naryquerynod data
path rel path relpath
node properti getpropertynam
path path builder pathbuild builder path path builder pathbuild
builder add addlast node properti getpropertynam
rel path relpath builder path getpath
textsearch queri node textsearchquerynod node tsnode factori creat textsearch queri node createtextsearchquerynod parent node queri getqueri
node tsnode set rel path setrelativepath rel path relpath
node tsnode set refer properti setreferencesproperti
parent add operand addoperand node tsnode
malform path except malformedpathexcept
path valid
parent
object visit ast lower function astlowerfunct node object data
relat queri node relationquerynod parent relat queri node relationquerynod data
parent type getvaluetyp queri constant queryconst type string type string
string msg lower function support string liter
illeg argument except illegalargumentexcept msg
parent add operand addoperand factori creat properti function queri node createpropertyfunctionquerynod parent properti function queri node propertyfunctionquerynod lower case lower case
parent
object visit ast upper function astupperfunct node object data
relat queri node relationquerynod parent relat queri node relationquerynod data
parent type getvaluetyp queri constant queryconst type string type string
string msg upper function support string liter
illeg argument except illegalargumentexcept msg
parent add operand addoperand factori creat properti function queri node createpropertyfunctionquerynod parent properti function queri node propertyfunctionquerynod upper case upper case
parent
object visit ast excerpt function astexcerptfunct node object data
data
intern
creat link org apach jackrabbit core queri relationquerynod
param parent parent node creat code relationquerynod code
param propertynam properti relat
param operationtyp oper type
param liter liter relat
return code relationquerynod code
throw illegalargumentexcept liter conform
type malform string represent date
relat queri node relationquerynod creat relat queri node createrelationquerynod queri node querynod parent
qname properti propertynam
oper type operationtyp
ast liter astliter liter
illeg argument except illegalargumentexcept
string string stringvalu liter getvalu
relat queri node relationquerynod node
path rel path relpath
properti propertynam
path path builder pathbuild builder path path builder pathbuild
builder add addlast properti propertynam
rel path relpath builder path getpath
liter type gettyp queri constant queryconst type date type date
simpl date format simpledateformat format simpl date format simpledateformat date pattern date pattern
date date format pars string stringvalu
node factori creat relat queri node createrelationquerynod parent oper type operationtyp
node set rel path setrelativepath rel path relpath
node set date setdatevalu date
liter type gettyp queri constant queryconst type doubl type doubl
doubl pars doubl parsedoubl string stringvalu
node factori creat relat queri node createrelationquerynod parent oper type operationtyp
node set rel path setrelativepath rel path relpath
node set doubl setdoublevalu
liter type gettyp queri constant queryconst type long type long
long pars long parselong string stringvalu
node factori creat relat queri node createrelationquerynod parent oper type operationtyp
node set rel path setrelativepath rel path relpath
node set long setlongvalu
liter type gettyp queri constant queryconst type string type string
node factori creat relat queri node createrelationquerynod parent oper type operationtyp
node set rel path setrelativepath rel path relpath
node set string setstringvalu string stringvalu
liter type gettyp queri constant queryconst type timestamp type timestamp
calendar iso8601 pars string stringvalu
node factori creat relat queri node createrelationquerynod parent oper type operationtyp
node set rel path setrelativepath rel path relpath
node set date setdatevalu time gettim
java text pars except parseexcept
illeg argument except illegalargumentexcept string tostr
number format except numberformatexcept
illeg argument except illegalargumentexcept string tostr
malform path except malformedpathexcept
path valid throw
illeg argument except illegalargumentexcept messag getmessag
node
illeg argument except illegalargumentexcept unknown type liter liter type gettyp
node
creat code locationstepquerynod code code path code
param path path pattern
param oper type parent node
creat path queri createpathqueri string path oper
merg path queri node mergingpathquerynod path node pathnod merg path queri node mergingpathquerynod oper
factori creat path queri node createpathquerynod valid jcr system node type name getvalidjcrsystemnodetypenam
path node pathnod set absolut setabsolut
path equal
path node pathnod add path step addpathstep factori creat locat step queri node createlocationstepquerynod path node pathnod
path constraint pathconstraint add path node pathnod
string name path split
name length
name length
root
path node pathnod add path step addpathstep factori creat locat step queri node createlocationstepquerynod path node pathnod
descend invalid path
todo throw ignor
throw add locat step
empti basic root node
path node pathnod add path step addpathstep factori creat locat step queri node createlocationstepquerynod path node pathnod
idx name index indexof
string
index locat step queri node locationstepquerynod
idx
index
name substr idx
string suffix name substr idx
string index str indexstr suffix substr suffix length
index str indexstr equal
select sibl
index locat step queri node locationstepquerynod
index integ pars int parseint index str indexstr
number format except numberformatexcept
log warn unabl pars index path element name
equal
index
index default explicit test
index default test
name
equal
index
qname qname
qname format nameformat pars resolv
except nameexcept
illeg argument except illegalargumentexcept illeg
test mean search descend
descend
locat step queri node locationstepquerynod step factori creat locat step queri node createlocationstepquerynod path node pathnod
step set test setnametest qname
step set includ descend setincludedescend descend
index
step set index setindex index
path node pathnod add path step addpathstep step
path constraint pathconstraint add path node pathnod
translat pattern escap charact code code
pattern escap charact code code
param pattern pattern translat
param escap charact
param escap charact
return pattern escap charact code code
string translat escap translateescap string pattern
escap charact pattern
escap charact simpli return pattern
pattern index indexof pattern index indexof
pattern
string buffer stringbuff translat string buffer stringbuff pattern length
escap
pattern length
pattern char charat
escap
translat append
escap
escap
pattern char charat
escap
translat append append
escap
translat append append
escap
translat append
escap
translat append pattern char charat
translat string tostr
extend code pathquerynod code merg capabl
code pathquerynod code code code merg
node code code case
code code locat step posit code code
test match node descend flag set
code code number locat step
code code locat step match node
sequenc test sequenc test
code code
merg node locat step posit code code
test locat step posit code code
descend flag set
path pattern
code foo bar code code foo bar code
merg
code foo bar code
path pattern
code foo code code foo code
merg
code foo code
merg path queri node mergingpathquerynod path queri node pathquerynod
oper type parent node
oper
creat code mergingpathquerynod code oper
tpye parent node code oper code
link org apach jackrabbit core queri querynod type
link org apach jackrabbit core queri querynod type
link org apach jackrabbit core queri querynod type
param oper oper type parent node
param validjcrsystemnodetypenam name valid node type
jcr system
merg path queri node mergingpathquerynod oper list valid jcr system node type name validjcrsystemnodetypenam
valid jcr system node type name validjcrsystemnodetypenam
oper queri node querynod type type oper queri node querynod type type oper queri node querynod type type
illeg argument except illegalargumentexcept oper
oper oper
merg node node code node code merg
nosuchelementexcept thrown
param node node merg
return merg arrai merg version node
merg path queri node mergingpathquerynod merg domerg merg path queri node mergingpathquerynod node
oper queri node querynod type type
merg doormerg node
merg doandmerg node
merg node node select child node
node
path pattern
code foo code code foo code
merg
code foo code
param node node merg
return merg node
merg path queri node mergingpathquerynod merg doandmerg merg path queri node mergingpathquerynod node
oper queri node querynod type type
check node oper
merg path queri node mergingpathquerynod
node length
node oper queri node querynod type type
node
node
element except nosuchelementexcept merg node
merg doandmerg node
check node valid operand
operand size
element except nosuchelementexcept merg
size operand size
locat step queri node locationstepquerynod locat step queri node locationstepquerynod operand size
locat step queri node locationstepquerynod locat step queri node locationstepquerynod operand size
test getnametest test getnametest
includ descend getincludedescend includ descend getincludedescend
element except nosuchelementexcept merg
find node merg
merg path queri node mergingpathquerynod match node matchednod
node length
node operand size operand size
match
operand size match
locat step queri node locationstepquerynod step locat step queri node locationstepquerynod operand
locat step queri node locationstepquerynod locat step queri node locationstepquerynod node operand
match step test getnametest test getnametest step test getnametest equal test getnametest
match
match node matchednod node
match node matchednod
element except nosuchelementexcept merg node
chang descend flag match child node
result merg
locat step queri node locationstepquerynod match node matchednod operand match node matchednod operand size set includ descend setincludedescend
node
merg node node select node
descend axi
path pattern
code foo bar code code foo bar code
merg
code foo bar code
param node node merg
return merg node
merg path queri node mergingpathquerynod merg doormerg merg path queri node mergingpathquerynod node
compact
merg path queri node mergingpathquerynod compact merg path queri node mergingpathquerynod
queri node querynod type type valid jcr system node type name getvalidjcrsystemnodetypenam
iter operand iter hasnext
locat step queri node locationstepquerynod step locat step queri node locationstepquerynod
step includ descend getincludedescend step test getnametest
check
hasnext
locat step queri node locationstepquerynod locat step queri node locationstepquerynod
set includ descend setincludedescend
compact add path step addpathstep
compact add path step addpathstep step
compact add path step addpathstep step
merg path queri node mergingpathquerynod match node matchednod
node length
loop step compar name
node operand size compact operand size
match
iter compact step compactedstep compact operand iter
iter step otherstep node operand iter
match compact step compactedstep hasnext
locat step queri node locationstepquerynod locat step queri node locationstepquerynod compact step compactedstep
locat step queri node locationstepquerynod locat step queri node locationstepquerynod step otherstep
match test getnametest test getnametest test getnametest equal test getnametest
match
match node matchednod node
match node matchednod
element except nosuchelementexcept merg node
construct list
list merg list mergedlist arrai list arraylist arrai list aslist node
merg list mergedlist remov match node matchednod
merg list mergedlist add compact
merg path queri node mergingpathquerynod merg list mergedlist arrai toarrai merg path queri node mergingpathquerynod merg list mergedlist size
return code true code node merg code fals code
return code true code node merg code fals code
merg needsmerg
iter operand iter hasnext
locat step queri node locationstepquerynod step locat step queri node locationstepquerynod
step includ descend getincludedescend step test getnametest
