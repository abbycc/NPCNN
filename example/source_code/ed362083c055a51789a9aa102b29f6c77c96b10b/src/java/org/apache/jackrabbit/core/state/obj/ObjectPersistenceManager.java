org apach jackrabbit core state obj
org apach jackrabbit core blob file blobfilevalu
org apach jackrabbit core intern internalvalu
org apach jackrabbit core properti propertyid
org apach jackrabbit core qname
org apach jackrabbit core config workspac config workspaceconfig
org apach jackrabbit core
org apach jackrabbit core file system filesystem
org apach jackrabbit core local local file system localfilesystem
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core nodetyp prop def propdefid
org apach jackrabbit core state
org apach log4j logger
javax jcr properti type propertytyp
java
java secur messag digest messagedigest
java secur algorithm except nosuchalgorithmexcept
java util
code objectpersistencemanag code
object persist manag objectpersistencemanag blob store blobstor persist manag persistencemanag
logger log logger logger getlogg object persist manag objectpersistencemanag
hexdigit tostr
hexdigit 0123456789abcdef char arrai tochararrai
string nodefilenam node
string noderefsfilenam refer
initi
file system item state store
file system filesystem item state itemstatef
file system blob data store
file system filesystem blob blobf
creat code objectpersistencemanag code instanc
object persist manag objectpersistencemanag
initi
string build node folder path buildnodefolderpath string uuid
string buffer stringbuff string buffer stringbuff
char uuid char arrai tochararrai
cnt
char length
char
cnt cnt
cnt cnt
append file system filesystem separ char separ char
append char
cnt
string tostr
string build prop file path buildpropfilepath string parent uuid parentuuid qname prop propnam
string file filenam
messag digest messagedigest md5 messag digest messagedigest instanc getinst md5
md5 updat prop propnam namespac uri getnamespaceuri byte getbyt
md5 updat prop propnam local getlocalnam byte getbyt
byte md5 digest
char
char hexdigit byte
char hexdigit byte
file filenam string char
algorithm except nosuchalgorithmexcept nsae
md5 jre
string msg md5
log fatal msg nsae
intern error internalerror msg nsae
build node folder path buildnodefolderpath parent uuid parentuuid file system filesystem separ file filenam
string build blob file path buildblobfilepath string parent uuid parentuuid qname prop propnam
build node folder path buildnodefolderpath parent uuid parentuuid file system filesystem separ
file system path util filesystempathutil escap escapenam prop propnam string tostr bin
string build node file path buildnodefilepath string uuid
build node folder path buildnodefolderpath uuid file system filesystem separ nodefilenam
string build node refer file path buildnodereferencesfilepath string uuid
build node folder path buildnodefolderpath uuid file system filesystem separ noderefsfilenam
static helper method
serial code state code object
code stream code
param state code state code serial
param stream stream code state code serial
throw except error occur serial
deseri persistentnodest inputstream
serial persist node state persistentnodest state output stream outputstream stream
except
data output stream dataoutputstream data output stream dataoutputstream stream
uuid
write utf writeutf state uuid getuuid
primarytyp
write utf writeutf state node type getnodetypenam string tostr
parentuuid
write utf writeutf state parent uuid getparentuuid state parent uuid getparentuuid
definitionid
write utf writeutf state definit getdefinitionid string tostr
parentuuid
collect state parent uui getparentuuid
write int writeint size writeint size count
iter iter iter iter hasnext
write utf writeutf string iter writeutf string iter uuid
mixin type
state mixin type name getmixintypenam
write int writeint size writeint size count
iter iter iter iter hasnext
write utf writeutf iter string tostr writeutf iter tostr
properti name
state properti entri getpropertyentri
write int writeint size writeint size count
iter iter iter iter hasnext
node state nodest properti entri propertyentri entri node state nodest properti entri propertyentri iter
write utf writeutf entri getnam string tostr writeutf entri getnam tostr
child node list uuid pair
state child node entri getchildnodeentri
write int writeint size writeint size count
iter iter iter iter hasnext
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri iter
write utf writeutf entri getnam string tostr writeutf entri getnam tostr
write utf writeutf entri uuid getuuid writeutf entri getuuid uuid
deseri code state code object code stream code
param state code state code deseri
param stream stream code state code deseri
throw except error occur deseri
serial persistentnodest outputstream
deseri persist node state persistentnodest state input stream inputstream stream
except
data input stream datainputstream data input stream datainputstream stream
check uuid
string read utf readutf
state uuid getuuid equal
string msg invalid serial state uuid mismatch
log error msg
item state except itemstateexcept msg
deseri node state
primarytyp
read utf readutf
state set node type setnodetypenam qname valueof
parentuuid
read utf readutf
length
state set parent uuid setparentuuid
definitionid
read utf readutf
state set definit setdefinitionid node def nodedefid valueof
parentuuid
count read int readint int count readint count
list list arrai list arraylist count
count
list add read utf readutf list add readutf uuid
list size
state set parent uui setparentuuid list
mixin type
count read int readint count readint count
set set hash set hashset count
count
set add qname valueof read utf readutf set add qname valueof readutf
set size
state set mixin type name setmixintypenam set
properti name
count read int readint count readint count
count
state add properti entri addpropertyentri qname valueof read utf readutf state addpropertyentri qname valueof readutf
child node list uuid pair
count read int readint count readint count
count
qname qname valueof read utf readutf qname qname valueof readutf
string read utf readutf string readutf uuid
state add child node entri addchildnodeentri
serial code state code object
code stream code
param state code state code serial
param stream stream code state code serial
param blobstor handler blob data
throw except error occur serial
deseri persistentpropertyst inputstream blobstor
serial persist properti state persistentpropertyst state
output stream outputstream stream
blob store blobstor blob store blobstor
except
data output stream dataoutputstream data output stream dataoutputstream stream
type
write int writeint state type gettyp
definitionid
write utf writeutf state definit getdefinitionid string tostr
valu
intern internalvalu valu state valu getvalu
write int writeint valu length writeint valu length count
valu length
intern internalvalu val valu
state type gettyp properti type propertytyp binari
special handl requir binari
spool binari file blob store
blob file blobfilevalu blob val blobval blob file blobfilevalu val intern internalvalu
string blob blobid blob store blobstor put properti propertyid state getid blob val blobval stream getstream blob val blobval length getlength
store blob properti
write utf writeutf blob blobid writeutf blobid
replac instanc
back resourc blob store delet temp file
valu intern internalvalu creat blob store blobstor blob blobid
blob val blobval temp file istempfil
blob val blobval delet
blob val blobval
write utf writeutf val string tostr writeutf val tostr
deseri code state code object code stream code
param state code state code deseri
param stream stream code state code deseri
param blobstor handler blob data
throw except error occur deseri
serial persistentpropertyst outputstream blobstor
deseri persist properti state persistentpropertyst state
input stream inputstream stream
blob store blobstor blob store blobstor
except
data input stream datainputstream data input stream datainputstream stream
type
type read int readint
state set type settyp type
definitionid
string read utf readutf
state set definit setdefinitionid prop def propdefid valueof
valu
count read int readint int count readint count
intern internalvalu valu intern internalvalu count
count
intern internalvalu val
read utf readutf readutf
type properti type propertytyp binari
special handl requir binari
store blob resourc blob store
val intern internalvalu creat blob store blobstor
val intern internalvalu valueof type
valu val
state set valu setvalu valu
serial code noderefer code object
code stream code
param ref object serial
param stream stream object serial
throw ioexcept error occur serial
deseri noderefer inputstream
serial node refer noderefer ref output stream outputstream stream
except ioexcept
data output stream dataoutputstream data output stream dataoutputstream stream
refer
collect ref refer getrefer
write int writeint size writeint size count
iter iter iter iter hasnext
properti propertyid prop propid properti propertyid iter
write utf writeutf prop propid string tostr writeutf propid tostr propertyid
deseri code noderefer code object
code stream code
param ref object deseri
param stream stream object deseri
throw except error occur deseri
serial noderefer outputstream
deseri node refer noderefer ref input stream inputstream stream
except
data input stream datainputstream data input stream datainputstream stream
ref clear refer clearallrefer
refer
count read int readint int count readint count
count
ref add refer addrefer properti propertyid valueof read utf readutf ref addrefer propertyid valueof readutf propertyid
blobstor
blobstor
file system resourc filesystemresourc string blob blobid except
file system resourc filesystemresourc blob blobf blob blobid
blobstor put
string put properti propertyid index input stream inputstream size except
string path build blob file path buildblobfilepath parent uuid getparentuuid getnam index
output stream outputstream
file system resourc filesystemresourc intern blob file internalblobfil file system resourc filesystemresourc blob blobf path
intern blob file internalblobfil make parent dir makeparentdir
buffer output stream bufferedoutputstream intern blob file internalblobfil output stream getoutputstream
buffer
read
read read buffer
write buffer read
close
path
blobstor remov
remov string blob blobid except
file system resourc filesystemresourc re file system resourc filesystemresourc blob blobf blob blobid
re exist
re delet
prune empti folder
string parent dir parentdir file system path util filesystempathutil parent dir getparentdir blob blobid
parent dir parentdir equal file system filesystem separ
blob blobf children haschildren parent dir parentdir
blob blobf delet folder deletefold parent dir parentdir
parent dir parentdir file system path util filesystempathutil parent dir getparentdir parent dir parentdir
persistencemanag
persistencemanag init
init workspac config workspaceconfig wsp config wspconfig except
file system filesystem wsp wspf wsp config wspconfig file system getfilesystem
item state itemstatef base file system basedfilesystem wsp wspf data
store blob' local file system directori
workspac home directori
local file system localfilesystem blob blobf local file system localfilesystem
blob blobf set path setpath wsp config wspconfig home dir gethomedir blob
blob blobf init
blob blobf blob blobf
initi
persistencemanag close
close except
initi
close blob store
blob blobf close
close item state store
base workspace' file system
close repositori
initi
persistencemanag load persistentnodest
load persist node state persistentnodest state
item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid state uuid getuuid
string node file path nodefilepath build node file path buildnodefilepath uuid
item state itemstatef file isfil node file path nodefilepath
item state except nosuchitemstateexcept uuid
file system except filesystemexcept fse
string msg fail read node state uuid
log error msg fse
item state except itemstateexcept msg fse
buffer input stream bufferedinputstream
buffer input stream bufferedinputstream item state itemstatef input stream getinputstream node file path nodefilepath
deseri state
except
string msg fail read node state uuid
log error msg
item state except itemstateexcept msg
close
except
string msg fail read node state uuid
log error msg
item state except itemstateexcept msg
persistencemanag load persistentpropertyst
load persist properti state persistentpropertyst state
item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string parent uuid parentuuid state parent uuid getparentuuid
qname prop propnam state getnam
string prop file path propfilepath build prop file path buildpropfilepath parent uuid parentuuid prop propnam
item state itemstatef file isfil prop file path propfilepath
item state except nosuchitemstateexcept parent uuid parentuuid prop propnam
file system except filesystemexcept fse
string msg fail read properti state parent uuid parentuuid prop propnam
log error msg fse
item state except itemstateexcept msg fse
buffer input stream bufferedinputstream
buffer input stream bufferedinputstream item state itemstatef input stream getinputstream prop file path propfilepath
deseri state
close
except
string msg fail read properti state parent uuid parentuuid prop propnam
log error msg
item state except itemstateexcept msg
persistencemanag store
store persist node state persistentnodest state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid state uuid getuuid
string node file path nodefilepath build node file path buildnodefilepath uuid
file system resourc filesystemresourc node file nodefil file system resourc filesystemresourc item state itemstatef node file path nodefilepath
node file nodefil make parent dir makeparentdir
buffer output stream bufferedoutputstream buffer output stream bufferedoutputstream node file nodefil output stream getoutputstream
serial node state
serial state
close
except
string msg fail write node state uuid
log error msg
item state except itemstateexcept msg
persistencemanag store
store persist properti state persistentpropertyst state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string prop file path propfilepath build prop file path buildpropfilepath state parent uuid getparentuuid state getnam
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc item state itemstatef prop file path propfilepath
prop file propfil make parent dir makeparentdir
buffer output stream bufferedoutputstream buffer output stream bufferedoutputstream prop file propfil output stream getoutputstream
serial properti state
serial state
close
except
string msg fail store properti state state parent uuid getparentuuid state getnam
log error msg
item state except itemstateexcept msg
persistencemanag destroi
destroi persist node state persistentnodest state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid state uuid getuuid
string node file path nodefilepath build node file path buildnodefilepath uuid
file system resourc filesystemresourc node file nodefil file system resourc filesystemresourc item state itemstatef node file path nodefilepath
node file nodefil delet
prune empti folder
string parent dir parentdir file system path util filesystempathutil parent dir getparentdir node file path nodefilepath
parent dir parentdir equal file system filesystem separ
item state itemstatef children haschildren parent dir parentdir
item state itemstatef delet folder deletefold parent dir parentdir
parent dir parentdir file system path util filesystempathutil parent dir getparentdir parent dir parentdir
file system except filesystemexcept fse
string msg fail delet node state uuid
log error msg fse
item state except itemstateexcept msg fse
persistencemanag destroi
destroi persist properti state persistentpropertyst state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
delet binari valu store file
intern internalvalu valu state valu getvalu
valu
valu length
intern internalvalu val valu
val
val type gettyp properti type propertytyp binari
blob file blobfilevalu blob val blobval blob file blobfilevalu val intern internalvalu
blob val blobval delet
delet properti file
string prop file path propfilepath build prop file path buildpropfilepath state parent uuid getparentuuid state getnam
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc item state itemstatef prop file path propfilepath
prop file propfil delet
prune empti folder
string parent dir parentdir file system path util filesystempathutil parent dir getparentdir prop file path propfilepath
parent dir parentdir equal file system filesystem separ
item state itemstatef children haschildren parent dir parentdir
item state itemstatef delet folder deletefold parent dir parentdir
parent dir parentdir file system path util filesystempathutil parent dir getparentdir parent dir parentdir
file system except filesystemexcept fse
string msg fail delet properti state state parent uuid getparentuuid state getnam
log error msg fse
item state except itemstateexcept msg fse
persistencemanag load noderefer
load node refer noderefer ref
item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid ref target gettargetid uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
item state itemstatef file isfil ref file path refsfilepath
item state except nosuchitemstateexcept uuid
file system except filesystemexcept fse
string msg fail load refer uuid
log error msg fse
item state except itemstateexcept msg fse
buffer input stream bufferedinputstream
buffer input stream bufferedinputstream item state itemstatef input stream getinputstream ref file path refsfilepath
deseri ref
close
except
string msg fail load refer uuid
log error msg
item state except itemstateexcept msg
persistencemanag store noderefer
store node refer noderefer ref item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid ref target gettargetid uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
file system resourc filesystemresourc ref file refsfil file system resourc filesystemresourc item state itemstatef ref file path refsfilepath
ref file refsfil make parent dir makeparentdir
output stream outputstream buffer output stream bufferedoutputstream ref file refsfil output stream getoutputstream
serial ref
close
except
string msg fail store refer uuid
log error msg
item state except itemstateexcept msg
persistencemanag destroi noderefer
destroi node refer noderefer ref item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid ref target gettargetid uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
file system resourc filesystemresourc ref file refsfil file system resourc filesystemresourc item state itemstatef ref file path refsfilepath
ref file refsfil delet
prune empti folder
string parent dir parentdir file system path util filesystempathutil parent dir getparentdir ref file path refsfilepath
parent dir parentdir equal file system filesystem separ
item state itemstatef children haschildren parent dir parentdir
item state itemstatef delet folder deletefold parent dir parentdir
parent dir parentdir file system path util filesystempathutil parent dir getparentdir parent dir parentdir
file system except filesystemexcept fse
string msg fail delet refer uuid
log error msg fse
item state except itemstateexcept msg fse
