org apach jackrabbit core observ
org apach jackrabbit core hierarchi manag hierarchymanag
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core nodetyp node type impl nodetypeimpl
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state child node entri childnodeentri
org apach jackrabbit spi path
org apach jackrabbit spi
org apach jackrabbit spi common path factori impl pathfactoryimpl
org apach jackrabbit spi common path builder pathbuild
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr namespac except namespaceexcept
javax jcr repositori except repositoryexcept
javax jcr observ observ manag observationmanag
java util arrai list arraylist
java util collect
java util iter
java util list
java util set
java util collect
code eventstatecollect code class implement link eventst
object creat base link org apach jackrabbit core state itemst
pass link createeventst method
basic sequenc method call
link createeventst link addal creat add event
state collect
link prepar link preparedelet prepar event
step omit eventlisten event delet item
allow
link dispatch dispatch event eventlisten
event state collect eventstatecollect
logger instanc class
logger log logger factori loggerfactori logger getlogg event state collect eventstatecollect
list event
list event state eventst event arrai list arraylist event state eventst
event dispatch
event dispatch eventdispatch dispatch
session creat event
session impl sessionimpl session
prefix event path code null code prefix
path path prefix pathprefix
timestamp collect creat
timestamp system current time milli currenttimemilli
user data attach event state collect
string user data userdata
creat empti code eventstatecollect code
item state manag link createeventst repres
subset item state hierarchi constructor
take path prefix argument code null code event
creat collect prefix path
param dispatch event dispatch
param session session creat event
param pathprefix path prefix event path code null code
prefix
event state collect eventstatecollect event dispatch eventdispatch dispatch
session impl sessionimpl session
path path prefix pathprefix
dispatch dispatch
session session
path prefix pathprefix path prefix pathprefix
session
observ manag observationmanag manag
session workspac getworkspac observ manag getobservationmanag
user data userdata observ manag impl observationmanagerimpl manag user data getuserdata
repositori except repositoryexcept
happen
implement support observ
user data userdata
user data userdata
creat link eventst instanc code itemst code
code code
param rootnodeid root node
param code itemst code
param statemgr code itemstatemanag code provid code itemst code
item contain code code collect
throw itemstateexcept error occur creat event
state item state
creat event state createeventst node nodeid root node rootnodeid chang log changelog item state manag itemstatemanag state mgr statemgr item state except itemstateexcept
creat hierarchi manag base changelog
itemstateprovid
chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
chang log base hierarchi mgr changelogbasedhierarchymgr root node rootnodeid state mgr statemgr
import
chang sequenc event gener
good reason intern synchronouseventlisten
implement depend order event fire
lockmanagerimpl expect path
childnoderemov event fire childnodead event
modifi item
item state itemst state modifi state modifiedst
state node isnod
node chang
cover case
properti ad
properti remov
child node ad
child node remov
node move reorder
node reorder
shareabl node ad
shareabl node remov
case detect ad delet state
propertyst
case detect ad delet state
nodest
case node chang node chang
child node renam node chang
node move case interest
node move
case node state state
parent node
case parent ad shareabl node child node
entri
case parent remov shareabl node remov child
node entri
node state nodest node state nodest state
overlai state hasoverlayedst
node nodeid parent oldparentid overlai state getoverlayedst parent getparentid
node nodeid parent newparentid parent getparentid
parent newparentid parent oldparentid equal parent newparentid
shareabl isshar
path path oldpath zombi path getzombiepath node getnodeid hmgr
node move
gener node remov node ad event
node state nodest parent oldpar
parent oldpar node state nodest parent oldparentid
item state except nosuchitemstateexcept
parent delet retriev
share item state manag
parent oldpar node state nodest state mgr statemgr item state getitemst parent oldparentid
parent oldpar
node type impl nodetypeimpl parent node type oldparentnodetyp node type getnodetyp parent oldpar session
event add event state eventst child node remov childnoderemov parent oldparentid
parent getpar path oldpath node getnodeid
path oldpath element getlastel
parent node type oldparentnodetyp getqnam
parent oldpar mixin type name getmixintypenam session
jcr case parent node
state longer log
error case gener
correct remov event
log error
parent node parent oldparentid
move node path
path oldpath longer
remov event gener
node state nodest parent newpar node state nodest parent newparentid
node type impl nodetypeimpl parent node type newparentnodetyp node type getnodetyp parent newpar session
set mixin parent newpar mixin type name getmixintypenam
path path newpath path getpath node getnodeid hmgr
event add event state eventst child node ad childnodead parent newparentid
parent getpar path newpath node getnodeid
path newpath element getlastel
parent node type newparentnodetyp getqnam
mixin session
event add event state eventst node move info nodemovedwithinfo
parent newparentid path newpath node getnodeid path oldpath
parent node type newparentnodetyp getqnam mixin
session
move node modifi parent node
node state nodest parent
root node parent uuid
state parent getparentid
parent node state nodest state parent getparentid
item state except nosuchitemstateexcept
happen
parent modifi node delet
string msg parent node state getid delet
log error msg
item state except itemstateexcept msg
parent
check node renam
child node entri childnodeentri move
child node entri childnodeentri child parent remov child node entri getremovedchildnodeentri
child getid equal node getnodeid
found node ad
move child
move
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
path path newpath path getpath state getid hmgr
path parent path parentpath parent getpar path newpath
path path oldpath
move index getindex
path oldpath path factori impl pathfactoryimpl instanc getinst creat parent path parentpath move getnam
path oldpath path factori impl pathfactoryimpl instanc getinst creat
parent path parentpath move getnam move index getindex
repositori except repositoryexcept
happen
string msg malform path item state getid
log error msg
item state except itemstateexcept msg
event add event state eventst child node remov childnoderemov
parent node getnodeid parent path parentpath
node getnodeid path oldpath element getlastel
node type nodetyp getqnam mixin session
event add event state eventst child node ad childnodead
parent node getnodeid parent path parentpath
node getnodeid path newpath element getlastel
node type nodetyp getqnam mixin session
event add event state eventst node move info nodemovedwithinfo
parent node getnodeid path newpath node getnodeid
path oldpath node type nodetyp getqnam mixin
session
check child node modifi node state reorder
list child node entri childnodeentri reorder reorder child node entri getreorderedchildnodeentri
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
set mixin mixin type name getmixintypenam
reorder size
creat node remov node ad event
reorder
child node entri childnodeentri child reorder
path ad elem addedelem path element getpathel child
path parent path parentpath path getpath node getnodeid hmgr
remov index
node state nodest overlai node state nodest overlai state getoverlayedst
child node entri childnodeentri entri overlai child node entri getchildnodeentri child getid
entri
item state except itemstateexcept unabl retriev child index item child getid
path remov elem removedelem path element getpathel entri
event add event state eventst child node remov childnoderemov node getnodeid
parent path parentpath child getid remov elem removedelem
node type nodetyp getqnam mixin session
event add event state eventst child node ad childnodead node getnodeid
parent path parentpath child getid ad elem addedelem
node type nodetyp getqnam mixin session
list child node entri childnodeentri cne child node entri getchildnodeentri
index child node entri
child node entri reorder
idx cne index indexof child
path elem beforeelem
idx cne size
elem beforeelem path element getpathel cne idx
event add event state eventst node reorder nodereord node getnodeid
parent path parentpath child getid ad elem addedelem
remov elem removedelem elem beforeelem node type nodetyp getqnam mixin
session
creat event shareabl
creat shareabl node event createshareablenodeev hmgr state mgr statemgr
properti chang
path path path getpath state getid hmgr
node state nodest parent node state nodest state mgr statemgr item state getitemst state parent getparentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
event add event state eventst properti chang propertychang state parent getparentid
parent getpar path path element getlastel
node type nodetyp getqnam mixin session
remov item
item state itemst state delet state deletedst
state node isnod
node delet
node state nodest node state nodest state
node state nodest parent node state nodest state mgr statemgr item state getitemst parent getparentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
path path zombi path getzombiepath state getid hmgr
event add event state eventst child node remov childnoderemov parent getparentid
parent getpar path
node getnodeid
path element getlastel
node type nodetyp getqnam
mixin
session
creat event shareabl
creat shareabl node event createshareablenodeev hmgr state mgr statemgr
properti remov
creat event node exist
node state nodest node state nodest state parent getparentid
node state exist properti remov
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
set mixin mixin type name getmixintypenam
path path zombi path getzombiepath state getid hmgr
event add event state eventst properti remov propertyremov state parent getparentid
parent getpar path
path element getlastel
node type nodetyp getqnam
mixin
session
item state except nosuchitemstateexcept
node remov creat event
ad item
item state itemst state ad state addedst
state node isnod
node creat
node state nodest node state nodest state
node nodeid parent parentid parent getparentid
parent ad item modifi
node state nodest parent node state nodest parent parentid
parent
string msg parent parent parentid chang
log error msg
item state except itemstateexcept msg
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
path path path getpath node getnodeid hmgr
event add event state eventst child node ad childnodead parent parentid
parent getpar path
node getnodeid
path element getlastel
node type nodetyp getqnam
mixin
session
creat event shareabl
creat shareabl node event createshareablenodeev hmgr state mgr statemgr
properti creat set
node state nodest node state nodest state parent getparentid
string msg node state parent getparentid chang
log error msg
item state except itemstateexcept msg
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
set mixin mixin type name getmixintypenam
path path path getpath state getid hmgr
event add event state eventst properti ad propertyad state parent getparentid
parent getpar path
path element getlastel
node type nodetyp getqnam
mixin
session
add event state collect collect
param
add addal collect event state eventst
event add addal
prepar ad event dispatch
prepar
dispatch prepar event prepareev
prepar delet item code code
param prepar
prepar delet preparedelet chang log changelog
dispatch prepar delet preparedelet
dispatch event link javax jcr observ eventlisten
dispatch
dispatch dispatch event dispatchev
return path prefix event state collect code null code
path prefix set constructor collect
link eventstatecollect eventstatecollect
return path prefix event state collect
path path prefix getpathprefix
path prefix pathprefix
return timestamp collect creat
timestamp gettimestamp
timestamp
set timestamp collect
param timestamp timestamp
set timestamp settimestamp timestamp
timestamp timestamp
return iter link eventst instanc
return iter link eventst instanc
iter event state eventst iter
event iter
return list event
return list event
list event state eventst event getev
collect unmodifi list unmodifiablelist event
number event
return size
size
event size
return session origin event
return event sourc
session impl sessionimpl session getsess
session
return user data attach event state collect
string user data getuserdata
user data userdata
set user data event state collect
param userdata user data
set user data setuserdata string user data userdata
user data userdata user data userdata
intern
creat shareabl node event createshareablenodeev node state nodest
chang log changelog
chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
item state manag itemstatemanag state mgr statemgr
item state except itemstateexcept
shareabl isshar
check share ad remov
node nodeid parent parentid ad share getaddedshar
ignor primari parent
parent getparentid equal parent parentid
node state nodest parent node state nodest parent parentid
parent
mix shareabl ad exist node
parent node state chang log
node ad share set child node
entri parent node state
parent node state nodest state mgr statemgr item state getitemst parent parentid
ntname node type getnodetyp parent session getqnam
event state eventst event state eventst child node ad childnodead parent parentid
path getpath parent parentid hmgr
node getnodeid
element getnameel node getnodeid parent parentid hmgr
ntname
parent mixin type name getmixintypenam
session
set shareabl node setshareablenod
event add
node nodeid parent parentid remov share getremovedshar
shareabl node remov creat event
parent id primari
parent getparentid equal parent parentid
node state nodest parent
parent node state nodest parent parentid
item state except nosuchitemstateexcept
parent remov
ignor retriev statemgr
parent
mix shareabl remov exist
node parent node state chang log
node remov share set remov child
node entri parent node state
parent node state nodest state mgr statemgr item state getitemst parent parentid
ntname node type getnodetyp parent session getqnam
event state eventst event state eventst child node remov childnoderemov parent parentid
zombi path getzombiepath parent parentid hmgr
node getnodeid
zombi element getzombienameel node getnodeid parent parentid hmgr
ntname
parent mixin type name getmixintypenam
session
set shareabl node setshareablenod
event add
resolv node type code node code link javax jcr nodetyp nodetyp
object link javax jcr nodetyp nodetypemanag code session code
param node node
param session session
return link javax jcr nodetyp nodetyp code node code
throw itemstateexcept nodetyp resolv
node type impl nodetypeimpl node type getnodetyp node state nodest node session impl sessionimpl session
item state except itemstateexcept
session node type manag getnodetypemanag node type getnodetyp node node type getnodetypenam
except
catch eventu runtim except
happen
string msg
node
msg node state null
msg item node node getnodeid unknown node type node node type getnodetypenam
log error msg
item state except itemstateexcept msg
return path parent node node code path code
param path
return parent path
throw itemstateexcept code code parent
path code code design root
path parent getpar path item state except itemstateexcept
ancestor getancestor
repositori except repositoryexcept
happen
string msg unabl resolv parent path
log error msg
item state except itemstateexcept msg
resolv path item code itemid code
param itemid item
return path item
throw itemstateexcept path resolv
path path getpath item itemid item itemid hierarchi manag hierarchymanag hmgr
item state except itemstateexcept
prefix path prefixpath hmgr path getpath item itemid
repositori except repositoryexcept
happen
string msg unabl resolv path item item itemid
log error msg
item state except itemstateexcept msg
return element node code nodeid code
parent code parentid code method
code nodeid code denot shareabl node
param nodeid node shareabl node
param parentid parent node
param hmgr hierarchi manag
return element node
throw itemstateexcept error occur resolv
path element getnameel
node nodeid node nodeid node nodeid parent parentid hierarchi manag hierarchymanag hmgr
item state except itemstateexcept
hmgr getnam node nodeid parent parentid
path factori impl pathfactoryimpl instanc getinst creat
repositori except repositoryexcept
string msg unabl node node nodeid
item state except itemstateexcept msg
return zombi element node
code nodeid code parent code parentid code
method code nodeid code denot shareabl
node
param nodeid node shareabl node
param parentid parent node
param hmgr hierarchi manag
return element node
throw itemstateexcept error occur resolv
path zombi element getzombienameel
node nodeid node nodeid node nodeid parent parentid chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
item state except itemstateexcept
hmgr zombi getzombienam node nodeid parent parentid
path factori impl pathfactoryimpl instanc getinst creat
repositori except repositoryexcept
happen
string msg unabl resolv zombi item node nodeid
log error msg
item state except itemstateexcept msg
resolv zombi path item
code itemid code
param itemid item
return path item
throw itemstateexcept path resolv
path zombi path getzombiepath item itemid item itemid chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
item state except itemstateexcept
prefix path prefixpath hmgr zombi path getzombiepath item itemid
repositori except repositoryexcept
happen
string msg unabl resolv zombi path item item itemid
log error msg
item state except itemstateexcept msg
prefix path code code link pathprefix
param path prefix
return prefix path code code link pathprefix
code null code
throw repositoryexcept path prefix
path prefix path prefixpath path repositori except repositoryexcept
path prefix pathprefix
path builder pathbuild builder path builder pathbuild path prefix pathprefix element getel
path element element element getel
element length
element denot root denotesroot
builder add addlast element
builder path getpath
return path element child node code entri code
param entri child node entri
return path element entri
path path element getpathel child node entri childnodeentri entri
entri getnam
index entri index getindex entri index getindex
path factori impl pathfactoryimpl instanc getinst creat index
longest common path event state path
return longest common path
string common path getcommonpath
string common
event size
event state eventst state event
string session jcr path getjcrpath state parent path getparentpath
common
common
common equal
start startswith common
idx index lastindexof
idx
common substr idx
namespac except namespaceexcept
ignor
common
