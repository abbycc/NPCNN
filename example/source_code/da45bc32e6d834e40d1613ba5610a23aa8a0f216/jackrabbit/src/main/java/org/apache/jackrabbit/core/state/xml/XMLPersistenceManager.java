org apach jackrabbit core state xml
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core base file system basedfilesystem
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system except filesystemexcept
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core local local file system localfilesystem
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core nodetyp prop def propdefid
org apach jackrabbit core state abstract persist manag abstractpersistencemanag
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node refer noderefer
org apach jackrabbit core state node refer nodereferencesid
org apach jackrabbit core state node state nodest
org apach jackrabbit core state context pmcontext
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core state util blob store blobstor
org apach jackrabbit core state util file system blob store filesystemblobstor
org apach jackrabbit core state util resourc base blob store resourcebasedblobstor
org apach jackrabbit core util dom walker domwalk
org apach jackrabbit core blob file blobfilevalu
org apach jackrabbit core intern internalvalu
org apach jackrabbit qname
org apach jackrabbit util text
org apach log4j logger
javax jcr properti type propertytyp
java buffer writer bufferedwrit
java file
java except ioexcept
java input stream inputstream
java output stream outputstream
java output stream writer outputstreamwrit
java unsupport encod except unsupportedencodingexcept
java writer
java secur messag digest messagedigest
java secur algorithm except nosuchalgorithmexcept
java util arrai list arraylist
java util hash set hashset
java util iter
java util set
code xmlpersistencemanag code code filesystem code base
code persistencemanag code persist code itemst code
code noderefer code object xml format
xml persist manag xmlpersistencemanag abstract persist manag abstractpersistencemanag
logger log logger logger getlogg xml persist manag xmlpersistencemanag
hexdigit tostr
hexdigit 0123456789abcdef char arrai tochararrai
default encod serial
string default encod default encod utf
xml element attribut serial
string node element node element node
string uuid attribut uuid attribut uuid
string nodetyp attribut nodetyp attribut nodetyp
string parentuuid attribut parentuuid attribut parentuuid
string definitionid attribut definitionid attribut definitionid
string modcount attribut modcount attribut modcount
string mixintyp element mixintyp element mixintyp
string mixintyp element mixintyp element mixintyp
string properti element properti element properti
string properti element properti element properti
string attribut attribut
string type attribut type attribut type
string multivalu attribut multivalu attribut multivalu
string valu element valu element valu
string element element
string node element node element node
string noderefer element noderefer element refer
string targetid attribut targetid attribut targetid
string noderefer element noderefer element refer
string propertyid attribut propertyid attribut propertyid
string nodefilenam node xml
string noderefsfilenam refer xml
initi
file system item state store
file system filesystem item state itemstatef
file system blob data store
file system filesystem blob blobf
blobstor manag blob data file system
blob store blobstor blob store blobstor
creat code xmlpersistencemanag code instanc
xml persist manag xmlpersistencemanag
initi
string build node folder path buildnodefolderpath string uuid
string buffer stringbuff string buffer stringbuff
char uuid char arrai tochararrai
cnt
char length
char
cnt cnt
cnt cnt
append
append char
cnt
string tostr
string build prop file path buildpropfilepath string parent uuid parentuuid qname prop propnam
string file filenam
messag digest messagedigest md5 messag digest messagedigest instanc getinst md5
md5 updat prop propnam namespac uri getnamespaceuri byte getbyt
md5 updat prop propnam local getlocalnam byte getbyt
byte md5 digest
char
char hexdigit byte
char hexdigit byte
file filenam string char xml
algorithm except nosuchalgorithmexcept nsae
md5 jre
string msg md5
log fatal msg nsae
intern error internalerror msg nsae
build node folder path buildnodefolderpath parent uuid parentuuid file filenam
string build node file path buildnodefilepath string uuid
build node folder path buildnodefolderpath uuid nodefilenam
string build node refer file path buildnodereferencesfilepath string uuid
build node folder path buildnodefolderpath uuid noderefsfilenam
read state readstat dom walker domwalk walker node state nodest state
item state except itemstateexcept
paranoid saniti check
walker getnam equal node element node element
string msg invalid serial format unexpect element
walker getnam
log debug msg
item state except itemstateexcept msg
check uuid
state uuid getuuid equal walker attribut getattribut uuid attribut uuid attribut
string msg invalid serial state uuid mismatch
log debug msg
item state except itemstateexcept msg
check nodetyp
string ntname walker attribut getattribut nodetyp attribut nodetyp attribut
qname valueof ntname equal state node type getnodetypenam
string msg invalid serial state nodetyp mismatch
log debug msg
item state except itemstateexcept msg
readi read state
primari parent
string parent uuid parentuuid walker attribut getattribut parentuuid attribut parentuuid attribut
parent uuid parentuuid length
state set parent uuid setparentuuid parent uuid parentuuid
definit
string definit definitionid walker attribut getattribut definitionid attribut definitionid attribut
state set definit setdefinitionid node def nodedefid valueof definit definitionid
modif count
string mod count modcount walker attribut getattribut modcount attribut modcount attribut
state set mod count setmodcount short pars short parseshort mod count modcount
mixin type
walker enter element enterel mixintyp element mixintyp element
set mixin hash set hashset
walker iter element iterateel mixintyp element mixintyp element
mixin add qname valueof walker attribut getattribut attribut attribut
mixin size
state set mixin type name setmixintypenam mixin
walker leav element leaveel
properti entri
walker enter element enterel properti element properti element
walker iter element iterateel properti element properti element
string prop propnam walker attribut getattribut attribut attribut
todo deseri type valu
state add properti addpropertynam qname valueof prop propnam
walker leav element leaveel
child node entri
walker enter element enterel node element node element
walker iter element iterateel node element node element
string child childnam walker attribut getattribut attribut attribut
string child uuid childuuid walker attribut getattribut uuid attribut uuid attribut
state add child node entri addchildnodeentri qname valueof child childnam child uuid childuuid
walker leav element leaveel
read state readstat dom walker domwalk walker properti state propertyst state
item state except itemstateexcept
paranoid saniti check
walker getnam equal properti element properti element
string msg invalid serial format unexpect element
walker getnam
log debug msg
item state except itemstateexcept msg
check
state getnam equal qname valueof walker attribut getattribut attribut attribut
string msg invalid serial state mismatch
log debug msg
item state except itemstateexcept msg
check parentuuid
string parent uuid parentuuid walker attribut getattribut parentuuid attribut parentuuid attribut
parent uuid parentuuid equal state parent uuid getparentuuid
string msg invalid serial state parentuuid mismatch
log debug msg
item state except itemstateexcept msg
readi read state
type
string type typenam walker attribut getattribut type attribut type attribut
type
type properti type propertytyp valuefromnam type typenam
illeg argument except illegalargumentexcept iae
item state except itemstateexcept unexpect properti type type typenam iae
state set type settyp type
multivalu
string multi valu multivalu walker attribut getattribut multivalu attribut multivalu attribut
state set multi valu setmultivalu boolean boolean getboolean multi valu multivalu
definit
string definit definitionid walker attribut getattribut definitionid attribut definitionid attribut
state set definit setdefinitionid prop def propdefid valueof definit definitionid
modif count
string mod count modcount walker attribut getattribut modcount attribut modcount attribut
state set mod count setmodcount short pars short parseshort mod count modcount
valu
arrai list arraylist valu arrai list arraylist
walker enter element enterel valu element valu element
walker iter element iterateel element element
read serial
string content walker content getcont
properti type propertytyp string type
string empti ignor length
valu add intern internalvalu valueof content type
content length
empti string
type properti type propertytyp binari
special handl requir binari
store blob data
blob store
blob store blobstor resourc base blob store resourcebasedblobstor
optim blob store resourc base
retriev resourc directli
read blob input stream
file system resourc filesystemresourc re fsre
resourc base blob store resourcebasedblobstor blob store blobstor resourc getresourc content
valu add intern internalvalu creat re fsre
valu add intern internalvalu creat blob store blobstor content
except
string msg error read serial binari
log debug msg
item state except itemstateexcept msg
empti string binari
valu add intern internalvalu valueof content type
empti string
log warn state getid ignor empti type
properti type propertytyp namefromvalu type
walker leav element leaveel
state set valu setvalu intern internalvalu
valu arrai toarrai intern internalvalu valu size
read state readstat dom walker domwalk walker node refer noderefer ref
item state except itemstateexcept
paranoid saniti check
walker getnam equal noderefer element noderefer element
string msg invalid serial format unexpect element walker getnam
log debug msg
item state except itemstateexcept msg
check targetid
ref target gettargetid equal node refer nodereferencesid valueof walker attribut getattribut targetid attribut targetid attribut
string msg invalid serial state targetid mismatch
log debug msg
item state except itemstateexcept msg
readi read refer data
properti id'
ref clear refer clearallrefer
walker iter element iterateel noderefer element noderefer element
ref add refer addrefer properti propertyid valueof walker attribut getattribut propertyid attribut propertyid attribut
persistencemanag
inheritdoc
init context pmcontext context except
initi
illeg state except illegalstateexcept initi
item state itemstatef base file system basedfilesystem context file system getfilesystem data
store blob data local file system directori
workspac home directori
local file system localfilesystem blob blobf local file system localfilesystem
blob blobf set root setroot file context home dir gethomedir blob
blob blobf init
blob blobf blob blobf
blob store blobstor file system blob store filesystemblobstor blob blobf
initi
inheritdoc
close except
initi
illeg state except illegalstateexcept initi
close blob file system
blob blobf close
blob blobf
blob store blobstor
close item state store
base workspace' file system
close repositori
initi
inheritdoc
node state nodest load node nodeid
item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
except
string node file path nodefilepath build node file path buildnodefilepath uuid getuuid
item state itemstatef file isfil node file path nodefilepath
item state except nosuchitemstateexcept string tostr
input stream inputstream item state itemstatef input stream getinputstream node file path nodefilepath
dom walker domwalk walker dom walker domwalk
string ntname walker attribut getattribut nodetyp attribut nodetyp attribut
node state nodest state creat createnew
state set node type setnodetypenam qname valueof ntname
read state readstat walker state
state
close
except ioexcept ioe
ioe
fall
file system except filesystemexcept fse
fse
fall
string msg fail read node state
log debug msg
item state except itemstateexcept msg
inheritdoc
properti state propertyst load properti propertyid
item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
except
string prop file path propfilepath build prop file path buildpropfilepath parent uuid getparentuuid getnam
item state itemstatef file isfil prop file path propfilepath
item state except nosuchitemstateexcept string tostr
input stream inputstream item state itemstatef input stream getinputstream prop file path propfilepath
dom walker domwalk walker dom walker domwalk
properti state propertyst state creat createnew
read state readstat walker state
state
close
except ioexcept ioe
ioe
fall
file system except filesystemexcept fse
fse
fall
string msg fail read properti state string tostr
log debug msg
item state except itemstateexcept msg
inheritdoc
store node state nodest state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid state uuid getuuid
string node file path nodefilepath build node file path buildnodefilepath uuid
file system resourc filesystemresourc node file nodefil file system resourc filesystemresourc item state itemstatef node file path nodefilepath
node file nodefil make parent dir makeparentdir
output stream outputstream node file nodefil output stream getoutputstream
writer writer
string encod default encod default encod
writer buffer writer bufferedwrit output stream writer outputstreamwrit encod
unsupport encod except unsupportedencodingexcept
output stream writer outputstreamwrit osw output stream writer outputstreamwrit
encod osw encod getencod
writer buffer writer bufferedwrit osw
writer write xml version encod encod
writer write node element node element
uuid attribut uuid attribut state uuid getuuid
parentuuid attribut parentuuid attribut state parent uuid getparentuuid state parent uuid getparentuuid
definitionid attribut definitionid attribut state definit getdefinitionid string tostr
modcount attribut modcount attribut state mod count getmodcount
nodetyp attribut nodetyp attribut text encod illeg xml charact encodeillegalxmlcharact state node type getnodetypenam string tostr
mixin type
writer write mixintyp element mixintyp element
iter iter state mixin type name getmixintypenam iter
iter hasnext
writer write mixintyp element mixintyp element
attribut attribut text encod illeg xml charact encodeillegalxmlcharact iter string tostr
writer write mixintyp element mixintyp element
properti
writer write properti element properti element
iter state properti name getpropertynam iter
iter hasnext
qname prop propnam qname iter
writer write properti element properti element
attribut attribut text encod illeg xml charact encodeillegalxmlcharact prop propnam string tostr
todo serial type definit valu
writer write properti element properti element
writer write properti element properti element
child node
writer write node element node element
iter state child node entri getchildnodeentri iter
iter hasnext
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri iter
writer write node element node element
attribut attribut text encod illeg xml charact encodeillegalxmlcharact entri getnam string tostr
uuid attribut uuid attribut entri uuid getuuid
writer write node element node element
writer write node element node element
writer write node element node element
writer close
except
string msg fail write node state uuid
log debug msg
item state except itemstateexcept msg
inheritdoc
store properti state propertyst state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string prop file path propfilepath build prop file path buildpropfilepath state parent uuid getparentuuid state getnam
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc item state itemstatef prop file path propfilepath
prop file propfil make parent dir makeparentdir
output stream outputstream prop file propfil output stream getoutputstream
write properti state xml file
writer writer
string encod default encod default encod
writer buffer writer bufferedwrit output stream writer outputstreamwrit encod
unsupport encod except unsupportedencodingexcept
output stream writer outputstreamwrit osw output stream writer outputstreamwrit
encod osw encod getencod
writer buffer writer bufferedwrit osw
string type typenam
type state type gettyp
type typenam properti type propertytyp namefromvalu type
illeg argument except illegalargumentexcept iae
item state except itemstateexcept unexpect properti type ordin type iae
writer write xml version encod encod
writer write properti element properti element
attribut attribut text encod illeg xml charact encodeillegalxmlcharact state getnam string tostr
parentuuid attribut parentuuid attribut state parent uuid getparentuuid
multivalu attribut multivalu attribut boolean string tostr state multi valu ismultivalu
definitionid attribut definitionid attribut state definit getdefinitionid string tostr
modcount attribut modcount attribut state mod count getmodcount
type attribut type attribut type typenam
valu
writer write valu element valu element
intern internalvalu valu state valu getvalu
valu
valu length
writer write element element
intern internalvalu val valu
val
type properti type propertytyp binari
special handl requir binari
put binari blob store
blob file blobfilevalu blob val blobval blob file blobfilevalu val intern internalvalu
input stream inputstream blob val blobval stream getstream
string blob blobid blob store blobstor creat createid properti propertyid state getid
blob store blobstor put blob blobid blob val blobval length getlength
close
except ioexcept
ignor
store blob properti
writer write blob blobid
replac instanc back resourc
blob store discard instanc temp file
valu intern internalvalu creat blob store blobstor blob blobid
blob val blobval discard
writer write text encod illeg xml charact encodeillegalxmlcharact val string tostr
writer write element element
writer write valu element valu element
writer write properti element properti element
writer close
except
string msg fail store properti state state parent uuid getparentuuid state getnam
log debug msg
item state except itemstateexcept msg
inheritdoc
destroi node state nodest state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid state uuid getuuid
string node file path nodefilepath build node file path buildnodefilepath uuid
file system resourc filesystemresourc node file nodefil file system resourc filesystemresourc item state itemstatef node file path nodefilepath
node file nodefil exist
delet resourc prune empti parent folder
node file nodefil delet
file system except filesystemexcept fse
string msg fail delet node state uuid
log debug msg
item state except itemstateexcept msg fse
inheritdoc
destroi properti state propertyst state item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
delet binari valu store file
intern internalvalu valu state valu getvalu
valu
valu length
intern internalvalu val valu
val
val type gettyp properti type propertytyp binari
blob file blobfilevalu blob val blobval blob file blobfilevalu val intern internalvalu
delet blob file prune empti parent folder
blob val blobval delet
delet properti file
string prop file path propfilepath build prop file path buildpropfilepath state parent uuid getparentuuid state getnam
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc item state itemstatef prop file path propfilepath
prop file propfil exist
delet resourc prune empti parent folder
prop file propfil delet
file system except filesystemexcept fse
string msg fail delet properti state state parent uuid getparentuuid state getnam
log debug msg
item state except itemstateexcept msg fse
inheritdoc
node refer noderefer load node refer nodereferencesid
item state except nosuchitemstateexcept item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
except
string uuid uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
item state itemstatef file isfil ref file path refsfilepath
item state except nosuchitemstateexcept uuid
input stream inputstream item state itemstatef input stream getinputstream ref file path refsfilepath
dom walker domwalk walker dom walker domwalk
node refer noderefer ref node refer noderefer
read state readstat walker ref
ref
close
except ioexcept ioe
ioe
fall
file system except filesystemexcept fse
fse
fall
string msg fail load refer uuid
log debug msg
item state except itemstateexcept msg
inheritdoc
store node refer noderefer ref item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid ref uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
file system resourc filesystemresourc ref file refsfil file system resourc filesystemresourc item state itemstatef ref file path refsfilepath
ref file refsfil make parent dir makeparentdir
output stream outputstream ref file refsfil output stream getoutputstream
buffer writer bufferedwrit writer
string encod default encod default encod
writer buffer writer bufferedwrit output stream writer outputstreamwrit encod
unsupport encod except unsupportedencodingexcept
output stream writer outputstreamwrit osw output stream writer outputstreamwrit
encod osw encod getencod
writer buffer writer bufferedwrit osw
writer write xml version encod encod
writer write noderefer element noderefer element
targetid attribut targetid attribut ref target gettargetid
write refer id' refer properti
iter iter ref refer getrefer iter
iter hasnext
properti propertyid prop propid properti propertyid iter
writer write noderefer element noderefer element
propertyid attribut propertyid attribut prop propid
writer write noderefer element noderefer element
writer close
except
string msg fail store refer uuid
log debug msg
item state except itemstateexcept msg
inheritdoc
destroi node refer noderefer ref item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid ref uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
file system resourc filesystemresourc ref file refsfil file system resourc filesystemresourc item state itemstatef ref file path refsfilepath
ref file refsfil exist
delet resourc prune empti parent folder
ref file refsfil delet
file system except filesystemexcept fse
string msg fail delet refer uuid
log debug msg
item state except itemstateexcept msg fse
inheritdoc
exist node nodeid item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string node file path nodefilepath build node file path buildnodefilepath uuid getuuid
file system resourc filesystemresourc node file nodefil file system resourc filesystemresourc item state itemstatef node file path nodefilepath
node file nodefil exist
file system except filesystemexcept fse
string msg fail check exist item state
log debug msg
item state except itemstateexcept msg fse
inheritdoc
exist properti propertyid item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string prop file path propfilepath build prop file path buildpropfilepath parent uuid getparentuuid getnam
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc item state itemstatef prop file path propfilepath
prop file propfil exist
file system except filesystemexcept fse
string msg fail check exist item state
log error msg fse
item state except itemstateexcept msg fse
inheritdoc
exist node refer nodereferencesid
item state except itemstateexcept
initi
illeg state except illegalstateexcept initi
string uuid uuid getuuid
string ref file path refsfilepath build node refer file path buildnodereferencesfilepath uuid
file system resourc filesystemresourc ref file refsfil file system resourc filesystemresourc item state itemstatef ref file path refsfilepath
ref file refsfil exist
file system except filesystemexcept fse
string msg fail check exist refer
log debug msg
item state except itemstateexcept msg fse
