org apach jackrabbit core state
java print stream printstream
java util hash map hashmap
java util list
java util set
javax jcr properti type propertytyp
javax jcr referenti integr except referentialintegrityexcept
javax jcr repositori except repositoryexcept
javax jcr nodetyp node type except nosuchnodetypeexcept
org apach jackrabbit core repositori impl repositoryimpl
org apach jackrabbit core cluster updat event channel updateeventchannel
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core nodetyp effect node type effectivenodetyp
org apach jackrabbit core nodetyp node type conflict except nodetypeconflictexcept
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core observ event state eventst
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core observ event state collect factori eventstatecollectionfactori
org apach jackrabbit core persist cach persist manag cachingpersistencemanag
org apach jackrabbit core persist persist manag persistencemanag
org apach jackrabbit core util dumpabl
org apach jackrabbit core intern internalvalu
org apach jackrabbit core virtual virtual item state provid virtualitemstateprovid
org apach jackrabbit spi
org apach jackrabbit spi node definit qnodedefinit
org apach jackrabbit spi common constant nameconst
org slf4j logger
org slf4j logger factori loggerfactori
share code itemstatemanag code sism cach object return
code persistencemanag code object return item state
manag share session
share item state manag oper code persistencemanag code
load store item state addition sism
code virtualitemstateprovid code visp provid
addit persist read state exampl visp
content represent nodetyp jcr system jcr nodetyp
version store jcr system jcr versionstor visp ad
sism initi workspac 'mounted'
workspac assum visp ad dynam
runtim configur
state visp read except node refer
rememb referr store link noderefer state
target state
type referenti relat distinguish
normal normal refer 'normal' state 'normal' state
normal case handl sism
normal virtual refer 'normal' state 'virtual' state
refer handl visp sism
virtual normal refer 'virtual' state 'normal' state
refer support refer version node
impos constraint referenc node
virtual virtual refer 'virtual' state 'virtual'
state visp
intra virtual refer handl item state manag visp
virtual virtual' refer 'virtual' state 'virtual'
state visp
occur support
visp dynam risk type refer dangl
visp 'unmounted' leav eventu refer dangl
multi workspac referr explicitli support
architectur code noderefer code support multipl referr
propertyid number refer track
multi workspac referr version referenc jcr basevers
node multipl workspac
mention type refer impos constraint
referr normal node referenc version refer properti
case version store type refer store
reinforc type refer normal state case
checkout oper
type refer handl respect visp
type refer scope visp special treatment
vv' type refer version store
virtual node type represent refer
share item state manag shareditemstatemanag
item state manag itemstatemanag item state listen itemstatelisten dumpabl
logger instanc
logger log logger factori loggerfactori logger getlogg share item state manag shareditemstatemanag
cach weak refer itemst object issu
itemstatemanag
item state cach itemstatecach cach
persist manag load store item
persist manag persistencemanag persist mgr persistmgr
node type registri identifi referenc node
node type registri nodetyperegistri reg ntreg
flag indic item state manag node refer
verifi integr refer properti
refer usesrefer
flag indic item state manag check referenti
integr store modif default check
referenti integr
chang carefulli experienc develop
http issu apach org jira brows jcr
check refer checkrefer
root node
node nodeid root node rootnodeid
virtual item state provid
virtual item state provid virtualitemstateprovid virtual provid virtualprovid
virtual item state provid virtualitemstateprovid
state chang dispatch
state chang dispatch statechangedispatch dispatch state chang dispatch statechangedispatch
lock strategi
ism lock ismlock ism lock ismlock
updat event channel
updat event channel updateeventchannel event channel eventchannel
creat code shareditemstatemanag code instanc
param persistmgr
param rootnodeid
param ntreg
share item state manag shareditemstatemanag persist manag persistencemanag persist mgr persistmgr
node nodeid root node rootnodeid
node type registri nodetyperegistri reg ntreg
refer usesrefer
item state cach factori itemstatecachefactori cach factori cachefactori
ism lock ismlock lock
item state except itemstateexcept
cach item state refer cach itemstatereferencecach cach factori cachefactori
persist mgr persistmgr persist mgr persistmgr
reg ntreg reg ntreg
refer usesrefer refer usesrefer
root node rootnodeid root node rootnodeid
ism lock ismlock lock
creat root node state exist
virtual item state hasnonvirtualitemst root node rootnodeid
creat root node state createrootnodest root node rootnodeid reg ntreg
ensur activ node ensureactivitiesnod
enabl disabl referenti integr check
carefulli experienc develop
http issu apach org jira brows jcr
param checkrefer referenti integr check
set check refer setcheckrefer check refer checkrefer
check refer checkrefer check refer checkrefer
set updat event channel
param eventchannel updat event channel
set event channel seteventchannel updat event channel updateeventchannel event channel eventchannel
event channel eventchannel event channel eventchannel
set lock strategi
param ismlock lock strategi item state manag
set ism lock setismlock ism lock ismlock ism lock ismlock
ism lock ismlock
null pointer except nullpointerexcept
ism lock ismlock ism lock ismlock
itemstatemanag
inheritdoc
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
virtual provid virtualprovid item state getitemst
ism lock ismlock read lock readlock read lock readlock acquir read lock acquirereadlock
check intern
virtual item state hasnonvirtualitemst
virtual item state getnonvirtualitemst
read lock readlock releas
check virtual state item
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
virtual provid virtualprovid item state getitemst
item state except nosuchitemstateexcept string tostr
inheritdoc
item state hasitemst item itemid
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
ism lock ismlock read lock readlock read lock readlock
read lock readlock acquir read lock acquirereadlock
item state except itemstateexcept
cach cach iscach
check manag item state
virtual item state hasnonvirtualitemst
read lock readlock releas
check virtual
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
inheritdoc
node refer noderefer node refer getnoderefer node nodeid
item state except nosuchitemstateexcept item state except itemstateexcept
ism lock ismlock read lock readlock read lock readlock acquir read lock acquirereadlock
check persist manag
persist mgr persistmgr load refer loadreferencesto
item state except nosuchitemstateexcept
ignor
read lock readlock releas
check virtual provid
virtual provid virtualprovid length
virtual provid virtualprovid node refer getnoderefer
item state except nosuchitemstateexcept
ignor
throw
item state except nosuchitemstateexcept string tostr
inheritdoc
node refer hasnoderefer node nodeid
ism lock ismlock read lock readlock read lock readlock
read lock readlock acquir read lock acquirereadlock
item state except itemstateexcept
check persist manag
persist mgr persistmgr exist refer existsreferencesto
item state except itemstateexcept
ignor
read lock readlock releas
check virtual provid
virtual provid virtualprovid length
virtual provid virtualprovid node refer hasnoderefer
itemstatelisten
inheritdoc
notif receiv item manag creat item
manag virtual provid
state creat statecr item state itemst creat
creat contain getcontain
share state creat
cach cach creat
dispatch notifi state creat notifystatecr creat
inheritdoc
notif receiv item manag creat item
manag virtual provid
state modifi statemodifi item state itemst modifi
dispatch notifi state modifi notifystatemodifi modifi
inheritdoc
notif receiv item manag creat item
manag virtual provid
state destroi statedestroi item state itemst destroi
destroi contain getcontain
share state destroi
cach evict destroi getid
dispatch notifi state destroi notifystatedestroi destroi
inheritdoc
notif receiv item manag creat item
manag virtual provid
state discard statediscard item state itemst discard
discard contain getcontain
share state discard
cach evict discard getid
dispatch notifi state discard notifystatediscard discard
dumpabl
inheritdoc
dump print stream printstream
println shareditemstatemanag
cach dumpabl
println
print referencecach
dumpabl cach dump
misc public method
dispos code shareditemstatemanag code free resourc
dispos
remov virtual item state provid jcr
virtual provid virtualprovid length
virtual provid virtualprovid remov listen removelisten
virtual provid virtualprovid virtual item state provid virtualitemstateprovid
clear cach
cach evict evictal
add virtual item state provid
note method synchron call
creation thread concurr issu
occur chang synchron statu
examin
param prov
add virtual item state provid addvirtualitemstateprovid virtual item state provid virtualitemstateprovid prov
virtual item state provid virtualitemstateprovid prov
virtual item state provid virtualitemstateprovid virtual provid virtualprovid length
system arraycopi virtual provid virtualprovid prov virtual provid virtualprovid length
prov virtual provid virtualprovid length prov
virtual provid virtualprovid prov
prov add listen addlisten
object repres singl updat oper
updat org apach jackrabbit core cluster updat
local chang log
chang log changelog local
event state collect factori
event state collect factori eventstatecollectionfactori factori
virtual provid refer left updat
refer
virtual item state provid virtualitemstateprovid virtual provid virtualprovid
share chang log
chang log changelog share
virtual node refer
chang log changelog virtual node refer virtualnoderefer
event dispatch
event state collect eventstatecollect event
write lock hold code null code
hold
ism lock ismlock write lock writelock write lock writelock
map attribut store updat oper
hash map hashmap string object attribut
timestamp updat creat
timestamp system current time milli currenttimemilli
creat instanc class
updat chang log changelog local event state collect factori eventstatecollectionfactori factori
virtual item state provid virtualitemstateprovid virtual provid virtualprovid
local local
factori factori
virtual provid virtualprovid virtual provid virtualprovid
begin updat oper prepar upto point
persist manager' code store code method invok
method succe write lock acquir
item state manag link end link cancel
call order releas
begin item state except itemstateexcept referenti integr except referentialintegrityexcept
share chang log changelog
virtual node refer virtualnoderefer chang log changelog virtual provid virtualprovid length
listen chang
event channel eventchannel
event channel eventchannel updat creat updatecr
write lock writelock acquir write lock acquirewritelock local
write lock writelock event channel eventchannel
event channel eventchannel updat cancel updatecancel
succeed
refer usesrefer
updat node refer base modif chang
log ad modifi remov refer properti
updat refer updaterefer
enabl check refer target
exist remov
check refer checkrefer
check referenti integr checkreferentialintegr
prepar event referenti
integr check transact modifi
state
event factori creat event state collect createeventstatecollect
repositori except repositoryexcept
string msg unabl creat event state collect
log error msg
item state except itemstateexcept msg
reconnect item contain chang log
respect share item add share item
chang log
item state itemst state local modifi state modifiedst
state connect item state getitemst state getid
state stale isstal
merg
state node isnod
node state merger nodestatemerg merg context mergecontext context
node state merger nodestatemerg merg context mergecontext
ad isad item itemid
item state itemst local
statu getstatu item state itemst statu statu
item state except nosuchitemstateexcept
delet isdelet item itemid
local delet
modifi ismodifi item itemid
local modifi ismodifi
sibl allowssamenames node nodeid
node state nodest node state getnodest
node state nodest parent node state getnodest parent getparentid
parent child node entri getchildnodeentri getnam
effect node type effectivenodetyp ent reg ntreg effect node type geteffectivenodetyp
parent node type getnodetypenam
parent mixin type name getmixintypenam
node definit qnodedefinit def ent applic child node def getapplicablechildnodedef node type getnodetypenam reg ntreg
def def sibl allowssamenames
except
log warn unabl node definit
node state nodest node state getnodest node nodeid
item state except itemstateexcept
local
node state nodest local
node state nodest item state getitemst
merg node state merger nodestatemerg merg node state nodest state context
merg
string msg state getid modifi extern
log debug msg
stale item state except staleitemstateexcept msg
merg succeed fall
updat modif count persist
state overlai state getoverlayedst touch
share modifi state overlai state getoverlayedst
item state itemst state local delet state deletedst
state connect item state getitemst state getid
state stale isstal
string msg state getid modifi extern
log debug msg
stale item state except staleitemstateexcept msg
share delet state overlai state getoverlayedst
item state itemst state local ad state addedst
state connect creat instanc createinst state
share ad state overlai state getoverlayedst
filter virtual node refer process
comment
node refer noderefer ref local modifi ref modifiedref
virtual
node nodeid ref target gettargetid
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
chang log changelog virtual ref virtualref virtual node refer virtualnoderefer
virtual ref virtualref
virtual ref virtualref chang log changelog
virtual node refer virtualnoderefer virtual ref virtualref
virtual ref virtualref modifi ref
virtual
virtual
target node refer lie virtual
space add modifi set normal provid
share modifi ref
check ad child node checkaddedchildnod
creat event state
event creat event state createeventst root node rootnodeid local share item state manag shareditemstatemanag
listen chang
event channel eventchannel
event channel eventchannel updat prepar updateprepar
push local item share item
local push
succeed
succeed
cancel
end updat oper store
code persistencemanag code end oper
eventu read write lock item state manag
releas
throw itemstateexcept error occur
end item state except itemstateexcept
succeed
store item underli persist manag
system current time milli currenttimemilli
persist mgr persistmgr store share
succeed
log debug enabl isdebugen
system current time milli currenttimemilli
log debug persist chang log share
succeed
cancel
ism lock ismlock read lock readlock read lock readlock
downgrad read lock
read lock readlock write lock writelock downgrad
write lock writelock
share item listen chang
jcr happen downgrad lock
share persist
notifi virtual provid node refer
virtual node refer virtualnoderefer length
chang log changelog virtual ref virtualref virtual node refer virtualnoderefer
virtual ref virtualref
virtual provid virtualprovid set node refer setnoderefer virtual ref virtualref
dispatch event
event dispatch
listen finish oper
event channel eventchannel
string path event session getsess user getuserid event common path getcommonpath
event channel eventchannel updat commit updatecommit path
interrupt except interruptedexcept
item state except itemstateexcept interrupt downgrad read lock
write lock writelock
except occur downgrad lock
write lock writelock releas
write lock writelock
read lock readlock
read lock readlock releas
cancel updat oper end oper write lock
item state manag releas
cancel
listen cancel oper
event channel eventchannel
event channel eventchannel updat cancel updatecancel
local disconnect
item state itemst state share modifi state modifiedst
state copi load item state loaditemst state getid
item state except itemstateexcept
state discard
item state itemst state share delet state deletedst
state copi load item state loaditemst state getid
item state except itemstateexcept
state discard
item state itemst state share ad state addedst
state discard
write lock writelock
write lock writelock releas
write lock writelock
inheritdoc
set attribut setattribut string object
attribut
attribut hash map hashmap string object
attribut put
inheritdoc
object attribut getattribut string
attribut
attribut
inheritdoc
chang log changelog getchang
local
inheritdoc
list event state eventst event getev
event event getev
inheritdoc
timestamp gettimestamp
timestamp
string user data getuserdata
event user data getuserdata
updat target node refer collect base
modif chang log ad remov modifi
code refer code properti
import node consist reason method
call chang log chang log
modifi anymor
throw itemstateexcept error occur
updat refer updaterefer item state except itemstateexcept
process ad refer properti
item state itemst state local ad state addedst
state node isnod
add refer target
add refer addrefer properti state propertyst state
process modifi refer properti
item state itemst state local modifi state modifiedst
state node isnod
remov refer target
remov refer removerefer item state getitemst state getid
add refer target
add refer addrefer properti state propertyst state
process remov refer properti
item state itemst state local delet state deletedst
remov refer removerefer state
add refer addrefer properti state propertyst properti item state except nosuchitemstateexcept
item state except itemstateexcept
properti type gettyp properti type propertytyp refer
intern internalvalu valu properti valu getvalu
valu valu length
add refer addrefer properti properti getpropertyid valu node getnodeid
add refer addrefer properti propertyid node nodeid target
item state except itemstateexcept
virtual provid virtualprovid
virtual provid virtualprovid node refer hasnoderefer target
creat refer instanc
node refer noderefer ref local refer getreferencesto target
ref
node refer hasnoderefer target
ref node refer getnoderefer target
ref node refer noderefer target
add refer
ref add refer addrefer
updat chang log
local modifi ref
remov refer removerefer item state itemst state
item state except nosuchitemstateexcept item state except itemstateexcept
state node isnod
properti state propertyst properti properti state propertyst state
properti type gettyp properti type propertytyp refer
intern internalvalu valu properti valu getvalu
valu valu length
remov refer removerefer
properti properti getpropertyid valu node getnodeid
remov refer removerefer properti propertyid node nodeid target
item state except itemstateexcept
virtual provid virtualprovid
virtual provid virtualprovid node refer hasnoderefer target
node refer chang log load
persist manag
node refer noderefer ref local refer getreferencesto target
ref node refer hasnoderefer target
ref node refer getnoderefer target
ref
remov refer
ref remov refer removerefer
updat chang log
local modifi ref
verifi ad child node ad modifi state exist
exist problem session
concurr
check ad child node checkaddedchildnod item state except itemstateexcept
item state itemst state local ad state addedst
check ad child node checkaddedchildnod state
item state itemst state local modifi state modifiedst
check ad child node checkaddedchildnod state
check ad child node checkaddedchildnod item state itemst state item state except itemstateexcept
state node isnod
node state nodest node node state nodest state
child node entri childnodeentri child node ad child node entri getaddedchildnodeentri
node nodeid child getid
local
equal repositori impl repositoryimpl version storag node version storag node
equal repositori impl repositoryimpl activ node activ node
equal repositori impl repositoryimpl nodetyp node nodetyp node
cach cach iscach
persist mgr persistmgr exist
string msg add exist child node
log debug msg
item state except itemstateexcept msg
verifi
referenc node delet referenc
target modifi node refer exist
throw referentialintegrityexcept modifi refer
properti refer exist
target remov node
referenc
throw itemstateexcept error occur
check referenti integr checkreferentialintegr
referenti integr except referentialintegrityexcept item state except itemstateexcept
check remov referenc node referenc
item state itemst state local delet state deletedst
state node isnod
node state nodest node node state nodest state
referenc isreferenc node
node nodeid target targetid node node getnodeid
node refer chang log
load persist manag
node refer noderefer ref local refer getreferencesto target targetid
ref
node refer hasnoderefer target targetid
ref node refer getnoderefer target targetid
version oper restor node
delet ad
uuid node referenc
ref refer hasrefer local target targetid
string msg node node getnodeid
node remov referenc
log debug msg
referenti integr except referentialintegrityexcept msg
check target modifi node refer exist
node refer noderefer ref local modifi ref modifiedref
check exist target refer
ref refer hasrefer
note
virtual provid indirectli check 'hasitemst
node nodeid ref target gettargetid
local item state hasitemst
string msg target node
refer properti exist
log debug msg
referenti integr except referentialintegrityexcept msg
determin node referenc
mixin type code mix referenc code
directli assign indirectli inherit
param state node state check
return true node referenc fals
throw itemstateexcept error occur
referenc isreferenc node state nodest state item state except itemstateexcept
shortcut check built type
primari state node type getnodetypenam
set mixin state mixin type name getmixintypenam
mixin constant nameconst mix referenc mix referenc
mixin constant nameconst mix version mix version
primari equal constant nameconst resourc resourc
build effect node type
effect node type effectivenodetyp type reg ntreg effect node type geteffectivenodetyp primari mixin
type includ node type includesnodetyp constant nameconst mix referenc mix referenc
node type conflict except nodetypeconflictexcept ntce
string msg intern error fail build effect node type node
state node getnodeid
log debug msg
item state except itemstateexcept msg ntce
node type except nosuchnodetypeexcept nsnte
string msg intern error fail build effect node type node
state node getnodeid
log debug msg
item state except itemstateexcept msg nsnte
begin updat oper return object
end cancel
updat begin updat beginupd chang log changelog local event state collect factori eventstatecollectionfactori factori
virtual item state provid virtualitemstateprovid virtual provid virtualprovid
referenti integr except referentialintegrityexcept stale item state except staleitemstateexcept
item state except itemstateexcept
updat updat updat local factori virtual provid virtualprovid
updat begin
updat
store modif regist code changelog code item
contain changelog state return
item state manag reconnect item provid
state manag
successfulli store state observ manag inform
observ manag pass method
note method synchron method invok
instanc member link persistencemanag store
consid thread safe chang
synchron statu examin
param local chang log local item
param factori event state collect factori
throw referentialintegrityexcept modifi refer
properti refer exist
target remov node
referenc
throw staleitemstateexcept affect item
state stale
throw itemstateexcept error occur
updat chang log changelog local event state collect factori eventstatecollectionfactori factori
referenti integr except referentialintegrityexcept stale item state except staleitemstateexcept
item state except itemstateexcept
begin updat beginupd local factori end
handl extern updat
param extern extern chang node properti id
param event event deliv
extern updat externalupd chang log changelog extern event state collect eventstatecollect event
hold write lock holdingwritelock
ism lock ismlock write lock writelock lock wlock
lock wlock acquir write lock acquirewritelock extern
hold write lock holdingwritelock
extern updat doexternalupd extern
item state except itemstateexcept
string msg unabl acquir write lock
log error msg
ism lock ismlock read lock readlock lock rlock
lock wlock
lock rlock lock wlock downgrad
hold write lock holdingwritelock
event dispatch
interrupt except interruptedexcept
string msg unabl downgrad read lock
log error msg
hold write lock holdingwritelock
lock wlock
lock wlock releas
lock rlock
lock rlock releas
perform extern updat execut method
code writelock code manag held
param extern extern chang node properti id
extern updat doexternalupd chang log changelog extern
workaround flush cach persist manag
persist mgr persistmgr cach persist manag cachingpersistencemanag
cach persist manag cachingpersistencemanag persist mgr persistmgr extern updat onexternalupd extern
chang log changelog share chang log changelog
build copi extern chang log consist share
state cach inform listen
chang
item state itemst state extern modifi state modifiedst
state cach retriev state getid
state
item state itemst current state currentst load item state loaditemst state getid
state copi current state currentst
share modifi state
item state except nosuchitemstateexcept
happen subsequ delet
state transmit
string msg unabl retriev state state getid
log info msg
state discard
item state except itemstateexcept
string msg unabl retriev state state getid
log warn msg
state discard
item state itemst state extern delet state deletedst
state cach retriev state getid
state
share delet state
share persist
add code itemstatelisten code
param listen listen inform modif
add listen addlisten item state listen itemstatelisten listen
dispatch add listen addlisten listen
remov code itemstatelisten code
param listen exist listen
remov listen removelisten item state listen itemstatelisten listen
dispatch remov listen removelisten listen
implement
creat node state instanc
param uuid
param nodetypenam node type
param parentid parent uuid
return node state instanc
node state nodest creat instanc createinst node nodeid node type nodetypenam
node nodeid parent parentid
node state nodest state persist mgr persistmgr creat createnew
state set node type setnodetypenam node type nodetypenam
state set parent setparentid parent parentid
state set statu setstatu item state itemst statu statu
state set contain setcontain
state
creat root node state
param rootnodeid root node
param ntreg node type registri
return root node state
throw itemstateexcept error occur
node state nodest creat root node state createrootnodest node nodeid root node rootnodeid
node type registri nodetyperegistri reg ntreg
item state except itemstateexcept
node state nodest root state rootstat creat instanc createinst root node rootnodeid constant nameconst rep root rep root
node state nodest jcr system state jcrsystemst creat instanc createinst repositori impl repositoryimpl system root node system root node constant nameconst rep system rep system root node rootnodeid
fixm manual setup root node creat mandatori jcr primarytyp properti
todo deleg setup root node nodetypeinstancehandl
creat jcr primarytyp properti root node state
root state rootstat add properti addpropertynam constant nameconst jcr primarytyp jcr primarytyp
properti state propertyst prop creat instanc createinst constant nameconst jcr primarytyp jcr primarytyp root node rootnodeid
prop set valu setvalu intern internalvalu intern internalvalu creat constant nameconst rep root rep root
prop set type settyp properti type propertytyp
prop set multi valu setmultivalu
creat jcr primarytyp properti jcr system node state
jcr system state jcrsystemst add properti addpropertynam constant nameconst jcr primarytyp jcr primarytyp
properti state propertyst primari type prop primarytypeprop creat instanc createinst constant nameconst jcr primarytyp jcr primarytyp jcr system state jcrsystemst node getnodeid
primari type prop primarytypeprop set valu setvalu intern internalvalu intern internalvalu creat constant nameconst rep system rep system
primari type prop primarytypeprop set type settyp properti type propertytyp
primari type prop primarytypeprop set multi valu setmultivalu
add child node entri jcr system node
root state rootstat add child node entri addchildnodeentri constant nameconst jcr system jcr system repositori impl repositoryimpl system root node system root node
add child node entri virtual jcr versionstorag
jcr system state jcrsystemst add child node entri addchildnodeentri constant nameconst jcr versionstorag jcr versionstorag repositori impl repositoryimpl version storag node version storag node
add child node entri virtual jcr activ
jcr system state jcrsystemst add child node entri addchildnodeentri constant nameconst jcr activ jcr activ repositori impl repositoryimpl activ node activ node
add child node entri virtual jcr nodetyp
jcr system state jcrsystemst add child node entri addchildnodeentri constant nameconst jcr nodetyp jcr nodetyp repositori impl repositoryimpl nodetyp node nodetyp node
chang log changelog chang log changelog chang log changelog
chang log changelog ad root state rootstat
chang log changelog ad prop
chang log changelog ad jcr system state jcrsystemst
chang log changelog ad primari type prop primarytypeprop
persist mgr persistmgr store chang log changelog
chang log changelog persist
root state rootstat
make child node entri mandatori jcr activ exist
repositori upgrad
method assum jcr system node exist
throw itemstateexcept error occur read write
persist manag
ensur activ node ensureactivitiesnod item state except itemstateexcept
node state nodest jcr system state jcrsystemst node state nodest virtual item state getnonvirtualitemst repositori impl repositoryimpl system root node system root node
jcr system state jcrsystemst child node entri haschildnodeentri repositori impl repositoryimpl activ node activ node
jcr system state jcrsystemst add child node entri addchildnodeentri constant nameconst jcr activ jcr activ repositori impl repositoryimpl activ node activ node
chang log changelog chang log changelog chang log changelog
chang log changelog modifi jcr system state jcrsystemst
persist mgr persistmgr store chang log changelog
chang log changelog persist
return item state virtual
item state provid
item state itemst virtual item state getnonvirtualitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
item state itemst state cach retriev
state
doubl check ensur cach entri
creat synchron entir
method cach retriev proce
thread load item state
state cach retriev
state
found cach load persist storag
state load item state loaditemst
state set statu setstatu item state itemst statu exist statu exist
put cach
cach cach state
set parent contain
state set contain setcontain
state
check item state manag item state
virtual item state manag
virtual item state hasnonvirtualitemst item itemid
cach cach iscach
denot node denotesnod
persist mgr persistmgr exist node nodeid
persist mgr persistmgr exist properti propertyid
item state except itemstateexcept is
creat item state instanc
param state instanc
return node state instanc
item state itemst creat instanc createinst item state itemst
node isnod
node state nodest node state nodest
creat instanc createinst node getnodeid node type getnodetypenam parent getparentid
properti state propertyst properti state propertyst
creat instanc createinst getnam parent getparentid
creat properti state instanc
param propnam properti
param parentid parent
return properti state instanc
properti state propertyst creat instanc createinst prop propnam node nodeid parent parentid
properti state propertyst state persist mgr persistmgr creat createnew properti propertyid parent parentid prop propnam
state set statu setstatu item state itemst statu statu
state set contain setcontain
state
load item state persist storag
param item
return item state
item state itemst load item state loaditemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
item state itemst state
denot node denotesnod
state persist mgr persistmgr load node nodeid
state persist mgr persistmgr load properti propertyid
state
acquir read lock item state manag
param item acquir read lock
throw itemstateexcept read lock acquir
ism lock ismlock read lock readlock acquir read lock acquirereadlock item itemid item state except itemstateexcept
ism lock ismlock acquir read lock acquirereadlock
interrupt except interruptedexcept
item state except itemstateexcept interrupt acquir read lock
acquir write lock item state manag
param changelog chang log acquir write lock
throw itemstateexcept write lock acquir
ism lock ismlock write lock writelock acquir write lock acquirewritelock chang log changelog chang log changelog item state except itemstateexcept
ism lock ismlock acquir write lock acquirewritelock chang log changelog
interrupt except interruptedexcept
item state except itemstateexcept interrupt acquir write lock
