org apach jackrabbit core cluster
org slf4j logger
org slf4j logger factori loggerfactori
org apach jackrabbit core config cluster config clusterconfig
org apach jackrabbit core config configur except configurationexcept
org apach jackrabbit core config journal config journalconfig
org apach jackrabbit core node nodeid
org apach jackrabbit core journal journal
org apach jackrabbit core journal record consum recordconsum
org apach jackrabbit core journal record
org apach jackrabbit core journal journal except journalexcept
org apach jackrabbit core journal instanc revis instancerevis
org apach jackrabbit core nodetyp invalid node type def except invalidnodetypedefexcept
org apach jackrabbit core nodetyp node type def nodetypedef
org apach jackrabbit core observ event state eventst
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state item state itemst
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit spi
org apach jackrabbit spi path
org apach jackrabbit uuid uuid
oswego util concurr mutex
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr observ event
java buffer reader bufferedread
java file
java file reader fileread
java file writer filewrit
java except ioexcept
java util list
java util arrai list arraylist
java util hash map hashmap
java util map
java util collect
java util iter
java util set
java util hash set hashset
default cluster node implement
cluster node clusternod runnabl
namespac event channel namespaceeventchannel node type event channel nodetypeeventchannel record consum recordconsum
system properti node
string system properti node system properti node org apach jackrabbit core cluster node
cluster node file
string cluster node file cluster node file cluster node
pad short string represent
string short pad short pad
produc identifi
string produc produc
statu constant
statu constant
start
statu constant
stop
bit indic registr oper
ntreg regist ntreg regist
bit indic reregistr oper
ntreg reregist ntreg reregist
bit indic unregistr oper
ntreg unregist ntreg unregist
mask node type registr oper
ntreg mask ntreg mask ntreg reregist ntreg reregist ntreg unregist ntreg unregist
logger
logger log logger factori loggerfactori logger getlogg cluster node clusternod
cluster context
cluster context clustercontext cluster context clustercontext
cluster node
string cluster node clusternodeid
synchron delai millisecond
sync delai syncdelai
journal
journal journal
mutex sync
mutex sync lock synclock mutex
statu flag link link start link stop
statu
map lock listen index workspac
map wsp lock listen wsplocklisten hash map hashmap
map updat listen index workspac
map wsp updat listen wspupdatelisten hash map hashmap
version updat listen
updat event listen updateeventlisten version updat listen versionupdatelisten
namespac listen
namespac event listen namespaceeventlisten namespac listen namespacelisten
node type listen
node type event listen nodetypeeventlisten node type listen nodetypelisten
instanc revis manag
instanc revis instancerevis instanc revis instancerevis
workspac consum record
string workspac
chang log consum record
chang log changelog chang log changelog
list record event consum record
list event
session event sourc
session session lastsess
initi cluster node
throw clusterexcept error occur
init cluster context clustercontext cluster context clustercontext cluster except clusterexcept
cluster context clustercontext cluster context clustercontext
init
initi cluster node overrid
throw clusterexcept error occur
init cluster except clusterexcept
cluster config clusterconfig cluster context clustercontext cluster config getclusterconfig
cluster node clusternodeid cluster node getclusternodeid getid
sync delai syncdelai sync delai getsyncdelai
journal config journalconfig journal config getjournalconfig
journal journal instanc newinst
journal init cluster node clusternodeid cluster context clustercontext namespac resolv getnamespaceresolv
instanc revis instancerevis journal instanc revis getinstancerevis
journal regist
configur except configurationexcept
cluster except clusterexcept messag getmessag getcaus
journal except journalexcept
cluster except clusterexcept messag getmessag getcaus
start cluster node
throw clusterexcept error occur
start cluster except clusterexcept
statu
sync
thread thread clusternod cluster node clusternodeid
set daemon setdaemon
start
statu start
run loop sync node delai
run
wait sync delai syncdelai
interrupt except interruptedexcept
statu stop
sync
cluster except clusterexcept
string msg period sync journal fail messag getmessag
log error msg
except
string msg unexpect error sync journal messag getmessag
log error msg
error
string msg unexpect error sync journal messag getmessag
log error msg
synchron content journal
throw clusterexcept error occur
sync cluster except clusterexcept
sync lock synclock acquir
interrupt except interruptedexcept
string msg interrupt wait mutex
cluster except clusterexcept msg
journal sync
journal except journalexcept
cluster except clusterexcept messag getmessag getcaus
sync lock synclock releas
stop cluster node
stop
statu start
statu stop
journal close
instanc revis instancerevis close
notifi notifyal
creat link updateeventchannel workspac
param workspac workspac
return lock event channel
updat event channel updateeventchannel creat updat channel createupdatechannel string workspac
workspac updat channel workspaceupdatechannel workspac
creat link lockeventchannel workspac
param workspac workspac
return lock event channel
lock event channel lockeventchannel creat lock channel createlockchannel string workspac
workspac lock channel workspacelockchannel workspac
return journal creat cluster node
return journal
journal journal getjourn
journal
return instanc node cluster
param configur code null code gener uniqu
string cluster node getclusternodeid string cluster except clusterexcept
system properti getproperti system properti node system properti node
cluster node file getclusternodeidfromfil
except ioexcept
cluster except clusterexcept messag getmessag getcaus
return cluster node file creat
return store gener cluster
throw ioexcept error occur
string cluster node file getclusternodeidfromfil except ioexcept
string filenam cluster context clustercontext repositori home getrepositoryhom file separ cluster node file cluster node file
file file filenam
exist read canread
buffer reader bufferedread reader
reader buffer reader bufferedread file reader fileread
reader read line readlin
reader
reader close
file writer filewrit writer
string uuid random uuid randomuuid string tostr
writer file writer filewrit
writer write
writer
writer close
return pad short string represent
param short
return string represent
string hex string tohexstr
string integ hex string tohexstr
padlen short pad short pad length length
padlen
substr padlen
padlen
short pad short pad substr padlen
namespaceeventlisten
inheritdoc
remap string prefix oldprefix string prefix newprefix string uri
statu start
log info start namespac oper
record record
succeed
record journal produc getproduc produc produc append
record write string writestr
write record prefix oldprefix prefix newprefix uri
record write char writechar
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
set listen setlisten namespac event listen namespaceeventlisten listen
namespac listen namespacelisten listen
nodetypeeventlisten
inheritdoc
regist collect def ntdef
statu start
log info start nodetyp oper
record record
succeed
record journal produc getproduc produc produc append
record write string writestr
write record def ntdef
record write char writechar
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
reregist node type def nodetypedef def ntdef
statu start
log info start nodetyp oper
record record
succeed
record journal produc getproduc produc produc append
record write string writestr
write record def ntdef
record write char writechar
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
unregist collect qname
statu start
log info start nodetyp oper
record record
succeed
record journal produc getproduc produc produc append
record write string writestr
write record qname
record write char writechar
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
set listen setlisten node type event listen nodetypeeventlisten listen
node type listen nodetypelisten listen
workspac updat channel
workspac updat channel workspaceupdatechannel updat event channel updateeventchannel
attribut store record
string attribut record attribut record record
workspac
string workspac
creat instanc class
param workspac workspac
workspac updat channel workspaceupdatechannel string workspac
workspac workspac
inheritdoc
updat creat updatecr updat updat
statu start
log info start updat creat
record record journal produc getproduc produc produc append
updat set attribut setattribut attribut record attribut record record
journal except journalexcept
string msg unabl creat log entri
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
updat prepar updateprepar updat updat
statu start
log info start updat prepar
record record record updat attribut getattribut attribut record attribut record
record
string msg record creat
log warn msg
event state collect eventstatecollect event updat event getev
chang log changelog updat getchang
succeed
record write string writestr workspac
write record event
record write char writechar
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error prepar log entri
log error msg
succeed record
record cancel updat cancelupd
updat set attribut setattribut attribut record attribut record
inheritdoc
updat commit updatecommit updat updat
statu start
log info start updat commit
record record record updat attribut getattribut attribut record attribut record
record
string msg record prepar
log warn msg
record updat
set revis setrevis record revis getrevis
log info append revis record revis getrevis
journal except journalexcept
string msg unabl commit log entri
log error msg
throwabl
string msg unexpect error commit log entri
log error msg
updat set attribut setattribut attribut record attribut record
inheritdoc
updat cancel updatecancel updat updat
statu start
log info start updat cancel
record record record updat attribut getattribut attribut record attribut record
record
record cancel updat cancelupd
updat set attribut setattribut attribut record attribut record
inheritdoc
set listen setlisten updat event listen updateeventlisten listen
workspac
version updat listen versionupdatelisten listen
wsp updat listen wspupdatelisten remov workspac
listen
wsp updat listen wspupdatelisten put workspac listen
workspac lock channel
workspac lock channel workspacelockchannel lock event channel lockeventchannel
workspac
string workspac
creat instanc class
param workspac workspac
workspac lock channel workspacelockchannel string workspac
workspac workspac
inheritdoc
cluster oper clusteroper creat node nodeid node nodeid deep string owner
statu start
log info start lock oper
record record journal produc getproduc produc produc append
lock oper lockoper cluster node clusternod workspac record
node nodeid deep owner
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
cluster oper clusteroper creat node nodeid node nodeid
statu start
log info start unlock oper
record record journal produc getproduc produc produc append
lock oper lockoper cluster node clusternod workspac record
node nodeid
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
set listen setlisten lock event listen lockeventlisten listen
wsp lock listen wsplocklisten remov workspac
listen
wsp lock listen wsplocklisten put workspac listen
invok record start
param workspac workspac code null code
start string workspac
workspac workspac
chang log changelog chang log changelog
event arrai list arraylist
process updat oper
param oper oper process
process item oper itemoper oper
oper appli chang log changelog
process event
param event event
process event state eventst event
event add event
process lock oper
param nodeid node
param isdeep flag indic lock deep
param owner lock owner
process node nodeid node nodeid deep isdeep string owner
lock event listen lockeventlisten listen lock event listen lockeventlisten wsp lock listen wsplocklisten workspac
listen
cluster context clustercontext lock event readi lockeventsreadi workspac
repositori except repositoryexcept
string msg unabl make lock listen workspac
workspac onlin messag getmessag
log warn msg
listen lock event listen lockeventlisten wsp lock listen wsplocklisten workspac
listen
string msg lock channel unavail workspac workspac
log error msg
listen extern lock externallock node nodeid deep isdeep owner
repositori except repositoryexcept
string msg unabl deliv lock event messag getmessag
log error msg
process unlock oper
param nodeid node
process node nodeid node nodeid
lock event listen lockeventlisten listen lock event listen lockeventlisten wsp lock listen wsplocklisten workspac
listen
cluster context clustercontext lock event readi lockeventsreadi workspac
repositori except repositoryexcept
string msg unabl make lock listen workspac
workspac onlin messag getmessag
log warn msg
listen lock event listen lockeventlisten wsp lock listen wsplocklisten workspac
listen
string msg lock channel unavail workspac workspac
log error msg
listen extern unlock externalunlock node nodeid
repositori except repositoryexcept
string msg unabl deliv lock event messag getmessag
log error msg
process namespac oper
param oldprefix prefix code null code fresh map
param newprefix prefix code null code unmap oper
param uri uri map prefix
process string prefix oldprefix string prefix newprefix string uri
namespac listen namespacelisten
string msg namespac listen unavail
log error msg
namespac listen namespacelisten extern remap externalremap prefix oldprefix prefix newprefix uri
repositori except repositoryexcept
string msg unabl deliv namespac oper messag getmessag
log error msg
process node type registr
param collect node type definit regist
oper collect code code
unregist oper
param regist code true code regist oper
code fals code
process collect regist
node type listen nodetypelisten
string msg nodetyp listen unavail
log error msg
regist
node type listen nodetypelisten extern regist externalregist
node type listen nodetypelisten extern unregist externalunregist
invalid node type def except invalidnodetypedefexcept
string msg unabl deliv node type oper messag getmessag
log error msg
repositori except repositoryexcept
string msg unabl deliv node type oper messag getmessag
log error msg
process node type registr
param ntdef node type definit
process node type def nodetypedef def ntdef
node type listen nodetypelisten
string msg nodetyp listen unavail
log error msg
node type listen nodetypelisten extern reregist externalreregist def ntdef
invalid node type def except invalidnodetypedefexcept
string msg unabl deliv node type oper messag getmessag
log error msg
repositori except repositoryexcept
string msg unabl deliv node type oper messag getmessag
log error msg
invok record end
end
updat event listen updateeventlisten listen
workspac
listen updat event listen updateeventlisten wsp updat listen wspupdatelisten workspac
listen
cluster context clustercontext updat event readi updateeventsreadi workspac
repositori except repositoryexcept
string msg error make updat listen workspac
workspac onlin messag getmessag
log warn msg
listen updat event listen updateeventlisten wsp updat listen wspupdatelisten workspac
listen
string msg updat listen unavail workspac workspac
log error msg
version updat listen versionupdatelisten
listen version updat listen versionupdatelisten
string msg version updat listen unavail
log error msg
listen extern updat externalupd chang log changelog event
repositori except repositoryexcept
string msg unabl deliv updat event messag getmessag
log error msg
recordconsum
inheritdoc
string getid
produc produc
inheritdoc
revis getrevis
instanc revis instancerevis
journal except journalexcept
log warn unabl return current revis
long max max
inheritdoc
consum record record
log info process revis record revis getrevis
string workspac
workspac record read string readstr
start workspac
record read char readchar
node oper nodeoper oper node oper nodeoper creat record read byte readbyt
oper set setid record read node readnodeid
process oper
properti oper propertyoper oper properti oper propertyoper creat record read byte readbyt
oper set setid record read properti readpropertyid
process oper
type record read byte readbyt
node nodeid parent parentid record read node readnodeid
path parent path parentpath record read path readpath
node nodeid child childid record read node readnodeid
path element child rel path childrelpath record read path element readpathel
ntname record read readqnam
set mixin hash set hashset
mixin count mixincount record read int readint
mixin count mixincount
mixin add record read readqnam
string user userid record read string readstr
process creat event state createeventst type parent parentid parent path parentpath child childid
child rel path childrelpath ntname mixin user userid
node nodeid node nodeid record read node readnodeid
lock islock record read boolean readboolean
lock islock
deep isdeep record read boolean readboolean
string owner record read string readstr
process node nodeid deep isdeep owner
process node nodeid
string prefix oldprefix record read string readstr
string prefix newprefix record read string readstr
string uri record read string readstr
process prefix oldprefix prefix newprefix uri
size record read int readint
opcod size ntreg mask ntreg mask
size ntreg mask ntreg mask
opcod
ntreg regist ntreg regist
hash set hashset def ntdef hash set hashset
size
def ntdef add record read node type def readnodetypedef
process def ntdef
ntreg reregist ntreg reregist
process record read node type def readnodetypedef
ntreg unregist ntreg unregist
hash set hashset name ntname hash set hashset
size
name ntname add record read readqnam
process name ntname
illeg argument except illegalargumentexcept unknown opcod opcod
illeg argument except illegalargumentexcept unknown entri type
end
journal except journalexcept
string msg unabl read revis record revis getrevis
log error msg
illeg argument except illegalargumentexcept
string msg error process revis
record revis getrevis messag getmessag
log error msg
inheritdoc
set revis setrevis revis
instanc revis instancerevis set revis
journal except journalexcept
log warn unabl set current revis revis
creat event state
param type event type
param parentid parent
param parentpath parent path
param childid child
param childrelpath child rel path
param ntname ndoe type
param userid user
return event
event state eventst creat event state createeventst type node nodeid parent parentid path parent path parentpath
node nodeid child childid path element child rel path childrelpath
ntname set mixin string user userid
type
event node ad node ad
event state eventst child node ad childnodead parent parentid parent path parentpath child childid child rel path childrelpath
ntname mixin creat session getorcreatesess user userid
event node remov node remov
event state eventst child node remov childnoderemov parent parentid parent path parentpath child childid child rel path childrelpath
ntname mixin creat session getorcreatesess user userid
event properti ad properti ad
event state eventst properti ad propertyad parent parentid parent path parentpath child rel path childrelpath
ntname mixin creat session getorcreatesess user userid
event properti chang properti chang
event state eventst properti chang propertychang parent parentid parent path parentpath child rel path childrelpath
ntname mixin creat session getorcreatesess user userid
event properti remov properti remov
event state eventst properti remov propertyremov parent parentid parent path parentpath child rel path childrelpath
ntname mixin creat session getorcreatesess user userid
string msg unexpect event type type
illeg argument except illegalargumentexcept msg
return session match user
param userid user
return session
session creat session getorcreatesess string user userid
session lastsess session lastsess user getuserid equal user userid
session lastsess cluster session clustersess user userid
session lastsess
record write method
write record record chang log changelog chang log changelog event state collect eventstatecollect esc
journal except journalexcept
iter delet state deletedst chang log changelog delet state deletedst
delet state deletedst hasnext
item state itemst state item state itemst delet state deletedst
state node isnod
write record node delet oper nodedeletedoper creat node state nodest state
write record properti delet oper propertydeletedoper creat properti state propertyst state
iter modifi state modifiedst chang log changelog modifi state modifiedst
modifi state modifiedst hasnext
item state itemst state item state itemst modifi state modifiedst
state node isnod
write record node modifi oper nodemodifiedoper creat node state nodest state
write record properti modifi oper propertymodifiedoper creat properti state propertyst state
iter ad state addedst chang log changelog ad state addedst
ad state addedst hasnext
item state itemst state item state itemst ad state addedst
state node isnod
write record node ad oper nodeaddedoper creat node state nodest state
write record properti ad oper propertyaddedoper creat properti state propertyst state
iter event esc event getev iter
event hasnext
event state eventst event event state eventst event
write record event
write record record string prefix oldprefix string prefix newprefix string uri
journal except journalexcept
record write char writechar
record write string writestr prefix oldprefix
record write string writestr prefix newprefix
record write string writestr uri
write record record collect regist
journal except journalexcept
record write char writechar
size size
regist
size ntreg unregist ntreg unregist
record write int writeint size
iter iter iter
iter hasnext
regist
record write node type def writenodetypedef node type def nodetypedef iter
record write writeqnam iter
write record record node type def nodetypedef def ntdef
journal except journalexcept
record write char writechar
size
size ntreg reregist ntreg reregist
record write int writeint size
record write node type def writenodetypedef def ntdef
write record record properti oper propertyoper oper
journal except journalexcept
record write char writechar
record write byte writebyt oper oper type getoperationtyp
record write properti writepropertyid oper getid
write record record node oper nodeoper oper
journal except journalexcept
record write char writechar
record write byte writebyt oper oper type getoperationtyp
record write node writenodeid oper getid
log event subclass respons
param event event log
write record record event state eventst event
journal except journalexcept
record write char writechar
record write byte writebyt event type gettyp
record write node writenodeid event parent getparentid
record write path writepath event parent path getparentpath
record write node writenodeid event child getchildid
record write path element writepathel event child rel path getchildrelpath
record write writeqnam event node type getnodetyp
set mixin event mixin name getmixinnam
record write int writeint mixin size
iter iter mixin iter
iter hasnext
record write writeqnam iter
record write string writestr event user getuserid
invok cluster oper end code success code
attempt fill journal record updat cancel
updat
param oper cluster oper
param success code true code oper success
journal record updat
code fals code revok
end abstract cluster oper abstractclusteroper oper success
record record oper record getrecord
succeed
success
record oper record getrecord
record write string writestr oper workspac getworkspac
oper write
record write char writechar
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed
record cancel updat cancelupd
