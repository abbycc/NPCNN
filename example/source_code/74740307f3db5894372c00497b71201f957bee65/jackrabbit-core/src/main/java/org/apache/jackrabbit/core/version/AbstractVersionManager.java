org apach jackrabbit core version
oswego util concurr read write lock readwritelock
oswego util concurr reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
org apach jackrabbit core node nodeid
org apach jackrabbit core node impl nodeimpl
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state local item state manag localitemstatemanag
org apach jackrabbit core state node state nodest
org apach jackrabbit spi
org apach jackrabbit spi common constant nameconst
org apach jackrabbit spi common factori impl namefactoryimpl
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr
javax jcr version version except versionexcept
base implement link versionmanag interfac
read oper aquir read lock read write
oper aquir write lock
abstract version manag abstractversionmanag version manag versionmanag
logger instanc
logger log logger factori loggerfactori logger getlogg abstract version manag abstractversionmanag
state manag version storag
local item state manag localitemstatemanag state mgr statemgr
node type registri
node type registri nodetyperegistri reg ntreg
persist root node version histori
node state nodestateex histori root historyroot
lock version manag
read write lock readwritelock lock rwlock
reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
reader activ writer current
thread own write lock reentrant
reader allowread
activ writer activewrit
activ writer activewrit thread current thread currentthread
abstract version manag abstractversionmanag node type registri nodetyperegistri reg ntreg
reg ntreg reg ntreg
versionmanag
inheritdoc
intern version internalvers version getvers node nodeid repositori except repositoryexcept
lock handl getitem
intern version internalvers intern version internalvers item getitem
log warn version item found
inheritdoc
intern version histori internalversionhistori version histori getversionhistori node nodeid
repositori except repositoryexcept
lock handl getitem
intern version histori internalversionhistori item getitem
implement
aquir write lock version manag
acquir write lock acquirewritelock
lock rwlock write lock writelock acquir
interrupt except interruptedexcept
ignor
releas write lock version manag
releas write lock releasewritelock
lock rwlock write lock writelock releas
aquir read lock version manag
acquir read lock acquirereadlock
lock rwlock read lock readlock acquir
interrupt except interruptedexcept
ignor
releas read lock version manag
releas read lock releasereadlock
lock rwlock read lock readlock releas
helper manag write oper
write oper writeoper
flag success complet write oper
success
save pend oper link localitemstatemanag
throw itemstateexcept pend state invalid
throw repositoryexcept pend state persist
save item state except itemstateexcept repositori except repositoryexcept
state mgr statemgr updat
success
close write oper pend oper cancel
properli save final write lock
releas
close
success
updat oper fail cancel modif
state mgr statemgr cancel
releas write lock releasewritelock
start write oper acquir write lock set
item state manag edit state wrong
write lock releas except thrown
pattern method return helper instanc
pre
writeoper oper startwriteoper
oper save
catch
final
oper close
pre
return write oper helper
throw repositoryexcept write oper start
write oper writeoper start write oper startwriteoper repositori except repositoryexcept
success
acquir write lock acquirewritelock
state mgr statemgr edit
success
write oper writeoper
illeg state except illegalstateexcept
repositori except repositoryexcept unabl start edit oper
success
releas write lock releasewritelock
inheritdoc
version histori info versionhistoryinfo version histori getversionhistori session session node state nodest node
repositori except repositoryexcept
version histori info versionhistoryinfo info
acquir read lock acquirereadlock
string uuid node node getnodeid uuid getuuid string tostr
getnam uuid
node state nodestateex parent parent node getparentnod uuid
parent parent node hasnod
node state nodestateex histori parent node getnod
root constant nameconst jcr rootvers jcr rootvers
info version histori info versionhistoryinfo
histori node getnodeid
histori state getstat child node entri getchildnodeentri root getid
releas read lock releasereadlock
info
info creat version histori createversionhistori session node
info
creat version histori action need creat
'mix versionable' node ad 'mix versionable' mixin
node
param node
return identifi version histori node
throw repositoryexcept
getversionhistori session nodest
version histori info versionhistoryinfo creat version histori createversionhistori
session session node state nodest node repositori except repositoryexcept
return item persist subclass respons
note overridden method aquir readlock
read state manag
param item
return version item
throw repositoryexcept error occur
intern version item internalversionitem item getitem node nodeid
repositori except repositoryexcept
return flag indic item exist
subclass respons
param item
return code true code item exist
code fals code
item hasitem node nodeid
check item refer version storag
refer version item subclass responsibl
note overridden method aquir readlock
read state manag
param item version item
return code true code item refer
version storag code fals code
throw repositoryexcept error occur read
repositori
item refer hasitemrefer intern version item internalversionitem item
repositori except repositoryexcept
creat version histori
param node node version histori initi
return identifi newli creat version histori root version
throw javax jcr repositoryexcept
node state nodestateex creat version histori createversionhistori node state nodest node
repositori except repositoryexcept
write oper writeoper oper start write oper startwriteoper
creat deep path
string uuid node node getnodeid uuid getuuid string tostr
node state nodestateex parent parent node getparentnod uuid
getnam uuid
parent node hasnod
exist
creat histori node persist state
node state nodestateex histori
intern version histori impl internalversionhistoryimpl creat parent node
end updat
oper save
log debug
creat version histori histori node getnodeid
node
histori
item state except itemstateexcept
repositori except repositoryexcept
oper close
util method return string default
namespac
param string
return qualifi
getnam string
factori impl namefactoryimpl instanc getinst creat default uri default uri
util method return parent node version
histori identifi version node store
creat flag set return parent node ancestor
node automat creat exist
code null code return parent node exist
param uuid uuid version node
param creat creat miss node
return parent node version histori code null code
throw repositoryexcept error occur
node state nodestateex parent node getparentnod string uuid creat
repositori except repositoryexcept
node state nodestateex histori root historyroot
getnam uuid substr
node hasnod
node getnod
creat
add node addnod constant nameconst rep versionstorag rep versionstorag
store
node getnod
check node
param histori version histori
param node node checkin
return intern version
throw javax jcr repositoryexcept error occur
javax jcr node checkin
intern version internalvers checkin intern version histori impl internalversionhistoryimpl histori node impl nodeimpl node
repositori except repositoryexcept
write oper writeoper oper start write oper startwriteoper
string version versionnam calcul checkin version calculatecheckinversionnam histori node
intern version impl internalversionimpl histori checkin factori impl namefactoryimpl instanc getinst creat version versionnam node
oper save
item state except itemstateexcept
repositori except repositoryexcept
oper close
calcul version creat
checkin call determin
predecessor version short search
predecessor version root version version
number successor
predecessor version successor digit
version number increment
predecessor version successor increment
exist
ad conflict
found
graph
xmp
jcr rootvers
xmp
param histori version histori
param node node checkin
return version
throw repositoryexcept error occur
string calcul checkin version calculatecheckinversionnam intern version histori impl internalversionhistoryimpl histori
node impl nodeimpl node
repositori except repositoryexcept
search predecessor suitabl gener
valu node properti getproperti constant nameconst jcr predecessor jcr predecessor valu getvalu
intern version internalvers
valu length
intern version internalvers pred histori version getvers node nodeid valueof valu string getstr
pred getnam local getlocalnam length getnam local getlocalnam length
pred
gener version assum namespac version name
string version versionnam getnam local getlocalnam
po version versionnam index lastindexof
po
string version newversionnam version versionnam substr po
integ pars int parseint version versionnam substr po
histori version hasvers factori impl namefactoryimpl instanc getinst creat version newversionnam
version versionnam
version newversionnam version versionnam
version newversionnam
root version
string valueof successor getsuccessor length
remov version histori
param histori version histori remov version
param version remov
throw javax jcr version versionexcept version code histori code
version code code
throw javax jcr repositoryexcept error occur
remov version removevers intern version histori impl internalversionhistoryimpl histori
version except versionexcept repositori except repositoryexcept
write oper writeoper oper start write oper startwriteoper
histori remov version removevers
oper save
item state except itemstateexcept
log error error store string tostr
oper close
set version label version
param histori version histori
param version version
param label version label
param move code true code move exist version
code fals code
throw repositoryexcept error occur
intern version internalvers set version label setversionlabel intern version histori impl internalversionhistoryimpl histori
version label
move
repositori except repositoryexcept
write oper writeoper oper start write oper startwriteoper
intern version internalvers histori set version label setversionlabel version label move
oper save
item state except itemstateexcept
log error error store string tostr
oper close
invok intern item creat
param version intern version item
version creat versioncr intern version internalvers version
invok intern item destroi
param version intern version item
version destroi versiondestroi intern version internalvers version
invok intern version item underli
persist state discard
param item
item discard itemdiscard intern version item internalversionitem item
creat link internalversionitem base link nodest
identifi code code
param node version item
return version item code null code node state
code code
throw repositoryexcept error occur read
version storag
intern version item internalversionitem creat intern version item createinternalversionitem node nodeid
repositori except repositoryexcept
state mgr statemgr item state hasitemst
node state nodest state node state nodest state mgr statemgr item state getitemst
node state nodestateex node pnode node state nodestateex state mgr statemgr reg ntreg state
node nodeid parent parentid node pnode parent getparentid
intern version item internalversionitem parent item getitem parent parentid
ntname state node type getnodetypenam
ntname equal constant nameconst frozennod frozennod
intern frozen node impl internalfrozennodeimpl node pnode parent
ntname equal constant nameconst versionedchild versionedchild
intern frozen impl internalfrozenvhimpl node pnode parent
ntname equal constant nameconst version version
intern version histori internalversionhistori parent version getvers
ntname equal constant nameconst versionhistori versionhistori
intern version histori impl internalversionhistoryimpl node pnode
item state except itemstateexcept
repositori except repositoryexcept
