org apach jackrabbit core observ
org apach jackrabbit core hierarchi manag hierarchymanag
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core session impl sessionimpl
org apach jackrabbit core nodetyp node type impl nodetypeimpl
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state child node entri childnodeentri
org apach jackrabbit spi path
org apach jackrabbit spi
org apach jackrabbit spi common path factori impl pathfactoryimpl
org apach jackrabbit spi common path builder pathbuild
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
java util arrai list arraylist
java util collect
java util iter
java util list
java util set
java util collect
code eventstatecollect code class implement link eventst
object creat base link org apach jackrabbit core state itemst
pass link createeventst method
basic sequenc method call
link createeventst link addal creat add event
state collect
link prepar link preparedelet prepar event
step omit eventlisten event delet item
allow
link dispatch dispatch event eventlisten
event state collect eventstatecollect
logger instanc class
logger log logger factori loggerfactori logger getlogg event state collect eventstatecollect
list event
list event arrai list arraylist
event dispatch
event dispatch eventdispatch dispatch
session creat event
session impl sessionimpl session
prefix event path code null code prefix
path path prefix pathprefix
timestamp collect creat
timestamp system current time milli currenttimemilli
user data attach event state collect
string user data userdata
creat empti code eventstatecollect code
item state manag link createeventst repres
subset item state hierarchi constructor
take path prefix argument code null code event
creat collect prefix path
param dispatch event dispatch
param session session creat event
param pathprefix path prefix event path code null code
prefix
param userdata user data attach event state collect
event state collect eventstatecollect event dispatch eventdispatch dispatch
session impl sessionimpl session
path path prefix pathprefix
string user data userdata
dispatch dispatch
session session
path prefix pathprefix path prefix pathprefix
user data userdata user data userdata
creat link eventst instanc code itemst code
code code
param rootnodeid root node
param code itemst code
param statemgr code itemstatemanag code provid code itemst code
item contain code code collect
throw itemstateexcept error occur creat event
state item state
creat event state createeventst node nodeid root node rootnodeid chang log changelog item state manag itemstatemanag state mgr statemgr item state except itemstateexcept
creat hierarchi manag base changelog
itemstateprovid
chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
chang log base hierarchi mgr changelogbasedhierarchymgr root node rootnodeid state mgr statemgr
import
chang sequenc event gener
good reason intern synchronouseventlisten
implement depend order event fire
lockmanagerimpl expect path
childnoderemov event fire childnodead event
modifi item
iter modifi state modifiedst hasnext
item state itemst state item state itemst
state node isnod
node chang
cover case
properti ad
properti remov
child node ad
child node remov
node move
node reorder
case detect ad delet state
propertyst
case detect ad delet state
nodest
case node chang node chang
child node renam node chang
node move case interest
node move
case node state state
parent node
node state nodest node state nodest state
overlai state hasoverlayedst
node nodeid parent oldparentid overlai state getoverlayedst parent getparentid
node nodeid parent newparentid parent getparentid
parent newparentid parent oldparentid equal parent newparentid
shareabl isshar
node move
gener node remov node ad event
node state nodest parent oldpar
parent oldpar node state nodest parent oldparentid
item state except nosuchitemstateexcept
parent delet retriev
share item state manag
parent oldpar node state nodest state mgr statemgr item state getitemst parent oldparentid
node type impl nodetypeimpl parent node type oldparentnodetyp node type getnodetyp parent oldpar session
set mixin parent oldpar mixin type name getmixintypenam
path path newpath path getpath node getnodeid hmgr
path path oldpath zombi path getzombiepath node getnodeid hmgr
event add event state eventst child node remov childnoderemov parent oldparentid
parent getpar path oldpath
node getnodeid
path oldpath element getnameel
parent node type oldparentnodetyp getqnam
mixin
session
node state nodest parent newpar node state nodest parent newparentid
node type impl nodetypeimpl parent node type newparentnodetyp node type getnodetyp parent newpar session
mixin parent newpar mixin type name getmixintypenam
event add event state eventst child node ad childnodead parent newparentid
parent getpar path newpath
node getnodeid
path newpath element getnameel
parent node type newparentnodetyp getqnam
mixin
session
move node modifi parent node
node state nodest parent
root node parent uuid
state parent getparentid
parent node state nodest state parent getparentid
item state except nosuchitemstateexcept
happen
parent modifi node delet
string msg parent node state getid delet
log error msg
item state except itemstateexcept msg
parent
check node renam
child node entri childnodeentri move
iter remov node removednod parent remov child node entri getremovedchildnodeentri iter remov node removednod hasnext
child node entri childnodeentri child child node entri childnodeentri remov node removednod
child getid equal node getnodeid
found node ad
move child
move
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
path path newpath path getpath state getid hmgr
path parent path parentpath parent getpar path newpath
path path oldpath
move index getindex
path oldpath path factori impl pathfactoryimpl instanc getinst creat parent path parentpath move getnam
path oldpath path factori impl pathfactoryimpl instanc getinst creat
parent path parentpath move getnam move index getindex
repositori except repositoryexcept
happen
string msg malform path item state getid
log error msg
item state except itemstateexcept msg
event add event state eventst child node remov childnoderemov parent node getnodeid
parent path parentpath
node getnodeid
path oldpath element getnameel
node type nodetyp getqnam
mixin
session
event add event state eventst child node ad childnodead parent node getnodeid
parent path parentpath
node getnodeid
path newpath element getnameel
node type nodetyp getqnam
mixin
session
check child node modifi node state reorder
list reorder reorder child node entri getreorderedchildnodeentri
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
set mixin mixin type name getmixintypenam
reorder size
creat node remov node ad event
reorder
iter reorder iter hasnext
child node entri childnodeentri child child node entri childnodeentri
child getnam
index child index getindex child index getindex
path parent path parentpath path getpath node getnodeid hmgr
path element ad elem addedelem path factori impl pathfactoryimpl instanc getinst creat element createel index
remov index
node state nodest overlai node state nodest overlai state getoverlayedst
child node entri childnodeentri entri overlai child node entri getchildnodeentri child getid
entri
item state except itemstateexcept unabl retriev child index item child getid
index oldindex entri index getindex entri index getindex
path element remov elem removedelem path factori impl pathfactoryimpl instanc getinst creat element createel index oldindex
event add event state eventst child node remov childnoderemov node getnodeid
parent path parentpath
child getid
remov elem removedelem
node type nodetyp getqnam
mixin
session
event add event state eventst child node ad childnodead node getnodeid
parent path parentpath
child getid
ad elem addedelem
node type nodetyp getqnam
mixin
session
properti chang
path path path getpath state getid hmgr
node state nodest parent node state nodest state mgr statemgr item state getitemst state parent getparentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
event add event state eventst properti chang propertychang state parent getparentid
parent getpar path
path element getnameel
node type nodetyp getqnam
mixin
session
remov item
iter delet state deletedst hasnext
item state itemst state item state itemst
state node isnod
node delet
node state nodest node state nodest state
node state nodest parent node state nodest state mgr statemgr item state getitemst parent getparentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
path path zombi path getzombiepath state getid hmgr
event add event state eventst child node remov childnoderemov parent getparentid
parent getpar path
node getnodeid
path element getnameel
node type nodetyp getqnam
mixin
session
properti remov
creat event node exist
node state nodest node state nodest state parent getparentid
node state exist properti remov
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
set mixin mixin type name getmixintypenam
path path zombi path getzombiepath state getid hmgr
event add event state eventst properti remov propertyremov state parent getparentid
parent getpar path
path element getnameel
node type nodetyp getqnam
mixin
session
item state except nosuchitemstateexcept
node remov creat event
ad item
iter ad state addedst hasnext
item state itemst state item state itemst
state node isnod
node creat
node state nodest node state nodest state
node nodeid parent parentid parent getparentid
parent ad item modifi
node state nodest parent node state nodest parent parentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp parent session
set mixin parent mixin type name getmixintypenam
path path path getpath node getnodeid hmgr
event add event state eventst child node ad childnodead parent parentid
parent getpar path
node getnodeid
path element getnameel
node type nodetyp getqnam
mixin
session
properti creat set
node state nodest node state nodest state parent getparentid
node type impl nodetypeimpl node type nodetyp node type getnodetyp session
set mixin mixin type name getmixintypenam
path path path getpath state getid hmgr
event add event state eventst properti ad propertyad state parent getparentid
parent getpar path
path element getnameel
node type nodetyp getqnam
mixin
session
add event state collect collect
param
add addal collect
event add addal
prepar ad event dispatch
prepar
dispatch prepar event prepareev
prepar delet item code code
param prepar
prepar delet preparedelet chang log changelog
dispatch prepar delet preparedelet
dispatch event link javax jcr observ eventlisten
dispatch
dispatch dispatch event dispatchev
return path prefix event state collect code null code
path prefix set constructor collect
link eventstatecollect eventstatecollect
return path prefix event state collect
path path prefix getpathprefix
path prefix pathprefix
return timestamp collect creat
timestamp gettimestamp
timestamp
set timestamp collect
param timestamp timestamp
set timestamp settimestamp timestamp
timestamp timestamp
return iter link eventst instanc
return iter link eventst instanc
iter iter
event iter
return list event
return list event
list event getev
collect unmodifi list unmodifiablelist event
return session origin event
return event sourc
session impl sessionimpl session getsess
session
return user data attach event state collect
string user data getuserdata
user data userdata
set user data event state collect
param userdata user data
set user data setuserdata string user data userdata
user data userdata user data userdata
intern
resolv node type code node code link javax jcr nodetyp nodetyp
object link javax jcr nodetyp nodetypemanag code session code
param node node
param session session
return link javax jcr nodetyp nodetyp code node code
throw itemstateexcept nodetyp resolv
node type impl nodetypeimpl node type getnodetyp node state nodest node session impl sessionimpl session
item state except itemstateexcept
session node type manag getnodetypemanag node type getnodetyp node node type getnodetypenam
except
catch eventu runtim except
happen
string msg item node node getnodeid unknown node type node node type getnodetypenam
log error msg
item state except itemstateexcept msg
return path parent node node code path code
param path
return parent path
throw itemstateexcept code code parent
path code code design root
path parent getpar path item state except itemstateexcept
ancestor getancestor
path found except pathnotfoundexcept
happen
string msg unabl resolv parent path
log error msg
item state except itemstateexcept msg
resolv path item code itemid code
param itemid item
return path item
throw itemstateexcept path resolv
path path getpath item itemid item itemid hierarchi manag hierarchymanag hmgr
item state except itemstateexcept
prefix path prefixpath hmgr path getpath item itemid
repositori except repositoryexcept
happen
string msg unabl resolv path item item itemid
log error msg
item state except itemstateexcept msg
resolv zombi path item
code itemid code
param itemid item
return path item
throw itemstateexcept path resolv
path zombi path getzombiepath item itemid item itemid chang log base hierarchi mgr changelogbasedhierarchymgr hmgr
item state except itemstateexcept
prefix path prefixpath hmgr zombi path getzombiepath item itemid
repositori except repositoryexcept
happen
string msg unabl resolv zombi path item item itemid
log error msg
item state except itemstateexcept msg
prefix path code code link pathprefix
param path prefix
return prefix path code code link pathprefix
code null code
throw repositoryexcept path prefix
path prefix path prefixpath path repositori except repositoryexcept
path prefix pathprefix
path builder pathbuild builder path builder pathbuild path prefix pathprefix element getel
path element element element getel
element length
element denot root denotesroot
builder add addlast element
builder path getpath
