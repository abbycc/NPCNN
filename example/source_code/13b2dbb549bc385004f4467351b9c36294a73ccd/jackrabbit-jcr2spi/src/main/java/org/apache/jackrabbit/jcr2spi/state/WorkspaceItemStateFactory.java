org apach jackrabbit jcr2spi state
java util arrai list arraylist
java util hash map hashmap
java util iter
java util list
java util map
java util element except nosuchelementexcept
javax jcr item exist except itemexistsexcept
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
org apach jackrabbit jcr2spi hierarchi hierarchi entri hierarchyentri
org apach jackrabbit jcr2spi hierarchi node entri nodeentri
org apach jackrabbit jcr2spi hierarchi properti entri propertyentri
org apach jackrabbit jcr2spi nodetyp item definit provid itemdefinitionprovid
org apach jackrabbit spi factori idfactori
org apach jackrabbit spi item info iteminfo
org apach jackrabbit spi
org apach jackrabbit spi node nodeid
org apach jackrabbit spi node info nodeinfo
org apach jackrabbit spi path
org apach jackrabbit spi path factori pathfactori
org apach jackrabbit spi properti propertyid
org apach jackrabbit spi properti info propertyinfo
org apach jackrabbit spi repositori servic repositoryservic
org apach jackrabbit spi session info sessioninfo
org apach jackrabbit spi common constant nameconst
org slf4j logger
org slf4j logger factori loggerfactori
code workspaceitemstatefactori code
workspac item state factori workspaceitemstatefactori abstract item state factori abstractitemstatefactori item state factori itemstatefactori
logger log logger factori loggerfactori logger getlogg workspac item state factori workspaceitemstatefactori
repositori servic repositoryservic servic
session info sessioninfo session info sessioninfo
item definit provid itemdefinitionprovid definit provid definitionprovid
workspac item state factori workspaceitemstatefactori repositori servic repositoryservic servic session info sessioninfo session info sessioninfo
item definit provid itemdefinitionprovid definit provid definitionprovid
servic servic
session info sessioninfo session info sessioninfo
definit provid definitionprovid definit provid definitionprovid
inheritdoc
itemstatefactori createrootst nodeentri
node state nodest creat root state createrootst node entri nodeentri entri item found except itemnotfoundexcept repositori except repositoryexcept
factori idfactori factori idfactori servic factori getidfactori
path factori pathfactori servic path factori getpathfactori
creat node state createnodest factori idfactori creat node createnodeid string root path getrootpath entri
creat node inform retriev
code repositoryservic code
inheritdoc
itemstatefactori createnodest nodeid nodeentri
node state nodest creat node state createnodest node nodeid node nodeid node entri nodeentri entri
item found except itemnotfoundexcept repositori except repositoryexcept
build node state server inform
iter info servic item info getiteminfo session info sessioninfo node nodeid
node state nodest node state nodest creat item state createitemst node nodeid info entri
node state nodest
item found except itemnotfoundexcept hierarchyentri belong exist iteminfo
node state nodest
path found except pathnotfoundexcept
item found except itemnotfoundexcept messag getmessag
inheritdoc
itemstatefactori createdeepnodest nodeid nodeentri
node state nodest creat deep node state createdeepnodest node nodeid node nodeid node entri nodeentri parent anypar item found except itemnotfoundexcept repositori except repositoryexcept
iter info servic item info getiteminfo session info sessioninfo node nodeid
creat item state createitemst node nodeid info parent anypar
path found except pathnotfoundexcept
item found except itemnotfoundexcept messag getmessag
creat propertyst inform retriev
code repositoryservic code
inheritdoc
itemstatefactori createpropertyst propertyid propertyentri
properti state propertyst creat properti state createpropertyst properti propertyid properti propertyid
properti entri propertyentri entri
item found except itemnotfoundexcept repositori except repositoryexcept
properti info propertyinfo info servic properti info getpropertyinfo session info sessioninfo properti propertyid
assert match path assertmatchingpath info entri
creat properti state createpropertyst info entri
path found except pathnotfoundexcept
item found except itemnotfoundexcept messag getmessag
inheritdoc
itemstatefactori createdeeppropertyst propertyid nodeentri
properti state propertyst creat deep properti state createdeeppropertyst properti propertyid properti propertyid node entri nodeentri parent anypar item found except itemnotfoundexcept repositori except repositoryexcept
properti info propertyinfo info servic properti info getpropertyinfo session info sessioninfo properti propertyid
properti state propertyst prop state propstat creat deep properti state createdeeppropertyst info parent anypar
assert valid state assertvalidst prop state propstat info
prop state propstat
path found except pathnotfoundexcept
item found except itemnotfoundexcept messag getmessag
inheritdoc
itemstatefactori getchildnodeinfo nodeid
param nodeid
iter child node info getchildnodeinfo node nodeid node nodeid
item found except itemnotfoundexcept repositori except repositoryexcept
servic child info getchildinfo session info sessioninfo node nodeid
inheritdoc
itemstatefactori getnoderefer nodest
param nodest
properti propertyid node refer getnoderefer node state nodest node state nodest
node entri nodeentri entri node state nodest node entri getnodeentri
shortcut
entri uniqu getuniqueid
entri properti entri haspropertyentri constant nameconst jcr uuid jcr uuid
referenc
properti propertyid
nodest uniqu potenti mix referenc
retriev refer
node info nodeinfo info ninfo servic node info getnodeinfo session info sessioninfo entri workspac getworkspaceid
info ninfo refer getrefer
repositori except repositoryexcept
log debug unabl determin refer node state nodest
properti propertyid
privat
param nodeid
param iteminfo
param entri
param isdeep
return
throw itemnotfoundexcept
throw repositoryexcept
node state nodest creat item state createitemst node nodeid node nodeid iter item info iteminfo
node entri nodeentri entri deep isdeep
item found except itemnotfoundexcept repositori except repositoryexcept
node state nodest node state nodest
item info iteminfo info item info iteminfo item info iteminfo
entri iter origin request node
item info iteminfo hasnext
node info nodeinfo node info nodeinfo item info iteminfo
deep isdeep
deep state hierarchi entri correspond
nodeentri retriev nodest execut
valid check
node state nodest creat deep node state createdeepnodest entri info
assert valid state assertvalidst node state nodest
'isdeep' fals nodeentri match
iteminfo retriev iter
assert match path assertmatchingpath entri
node state nodest creat node state createnodest entri
empti iter
item found except itemnotfoundexcept node node nodeid found
deal addit iteminfo present
node entri nodeentri parent entri parententri node state nodest node entri getnodeentri
item info iteminfo hasnext
item info iteminfo info item info iteminfo item info iteminfo
info denot node denotesnod
creat deep node state createdeepnodest node info nodeinfo info parent entri parententri info
creat deep properti state createdeeppropertyst properti info propertyinfo info parent entri parententri info
node state nodest
creat node inform retriev code info code
param info code nodeinfo code creat code nodest code
param entri
return code nodest code
throw itemnotfoundexcept
throw repositoryexcept
node state nodest creat node state createnodest node info nodeinfo info node entri nodeentri entri item found except itemnotfoundexcept repositori except repositoryexcept
make entri correct itemid
make case hierarchi complet
resolv uniqueid present set entri
parent entri
string uniqu uniqueid info getid uniqu getuniqueid
path path info getid path getpath
path
entri set uniqu setuniqueid uniqu uniqueid
uniqu uniqueid
uniqueid appli parent nodeentri parententri
node entri nodeentri parent ancestor getancestor entri path length getlength
parent set uniqu setuniqueid uniqu uniqueid
statu transient istransi entri statu getstatu statu stale isstal entri statu getstatu
log debug node pend omit reset state
entri node state getnodest
updat nodeentri inform present nodeinfo prop entri
list prop name propnam arrai list arraylist
iter info properti id getpropertyid hasnext
properti propertyid pid properti propertyid
properti propertynam pid getnam
prop name propnam add properti propertynam
entri set properti entri setpropertyentri prop name propnam
item exist except itemexistsexcept
log warn intern error
child info omit spi impl make
childentri nodeentri initi updat
iter child info childinfo info child info getchildinfo
child info childinfo
entri set node entri setnodeentri child info childinfo
build updat nodest
node state nodest tmp node state nodest entri info definit provid definitionprovid
entri set item state setitemst tmp
node state nodest state nstate entri node state getnodest
state nstate tmp
tmp state resolut entri
entri state
merg hierarchyentryimpl setitemst
notifi creat notifycr state nstate
state nstate
creat properti inform retriev code info code
param info code propertyinfo code creat
code propertyst code
param entri
return code propertyst code
properti state propertyst creat properti state createpropertyst properti info propertyinfo info properti entri propertyentri entri
repositori except repositoryexcept
make uuid part correct
string uniqu uniqueid info getid uniqu getuniqueid
uniqu uniqueid
uniqueid appli parent nodeentri parententri
node entri nodeentri parent ancestor getancestor entri info getid path getpath length getlength
parent set uniqu setuniqueid uniqu uniqueid
statu transient istransi entri statu getstatu statu stale isstal entri statu getstatu
log debug properti pend omit reset state
entri properti state getpropertyst
build updat nodest
properti state propertyst tmp properti state propertyst entri info definit provid definitionprovid
entri set item state setitemst tmp
properti state propertyst state pstate entri properti state getpropertyst
state pstate tmp
tmp state resolut entri
entri state
merg hierarchyentryimpl setitemst
notifi creat notifycr state pstate
state pstate
param info
param anypar
return
throw repositoryexcept
node state nodest creat deep node state createdeepnodest node info nodeinfo info node entri nodeentri parent anypar item info iteminfo info repositori except repositoryexcept
node nodeid exist build miss entri hierarchi
note path contain nodeid reveal
entri miss calcul rel path
path parent path anyparentpath parent anypar workspac path getworkspacepath
path rel path relpath parent path anyparentpath comput rel path computerelativepath info path getpath
path element miss elem missingelem rel path relpath element getel
start illeg element startswithillegalel miss elem missingelem
log error rel path nodeentri start illeg element ignor nodeinfo path info path getpath
node entri nodeentri entri parent anypar
miss elem missingelem length
miss elem missingelem getnam
index miss elem missingelem normal index getnormalizedindex
entri creat intermedi node entri createintermediatenodeentri entri index info
entri parent anypar
repositori except repositoryexcept intern error deep itemst
creat node state createnodest info entri
path found except pathnotfoundexcept
item found except itemnotfoundexcept messag getmessag
param info
param anypar
return
throw repositoryexcept
properti state propertyst creat deep properti state createdeeppropertyst properti info propertyinfo info node entri nodeentri parent anypar item info iteminfo info repositori except repositoryexcept
prop propertyid exist build miss entri hierarchi
note path contain propertyid reveal
entri miss calcul rel path
path parent path anyparentpath parent anypar workspac path getworkspacepath
path rel path relpath parent path anyparentpath comput rel path computerelativepath info path getpath
path element miss elem missingelem rel path relpath element getel
make miss element start
case info tree expect
jcr
start illeg element startswithillegalel miss elem missingelem
log error rel path propertyentri start illeg element ignor propertyinfo path info path getpath
node entri nodeentri entri parent anypar
nodeentri 'missingelem'
miss elem missingelem length
miss elem missingelem getnam
index miss elem missingelem normal index getnormalizedindex
entri creat intermedi node entri createintermediatenodeentri entri index info
creat propertyentri element exist
prop propnam miss elem missingelem getnam
properti entri propertyentri prop entri propentri entri add properti entri getoraddpropertyentri prop propnam
creat properti state createpropertyst info prop entri propentri
path found except pathnotfoundexcept
item found except itemnotfoundexcept messag getmessag
param parententri
param
param index
return
throw repositoryexcept
node entri nodeentri creat intermedi node entri createintermediatenodeentri node entri nodeentri parent entri parententri
index
item info iteminfo info repositori except repositoryexcept
info parent entri parententri node entri hasnodeentri index
iter child info childinfo info child info getchildinfo parent entri parententri workspac getworkspaceid
child info childinfo
parent entri parententri set node entri setnodeentri child info childinfo
node entri nodeentri entri parent entri parententri add node entri getoraddnodeentri index
entri
valid check make state null creat
match iteminfo path
param state
param info
throw itemnotfoundexcept
throw repositoryexcept
assert valid state assertvalidst item state itemst state item info iteminfo info
item found except itemnotfoundexcept repositori except repositoryexcept
state
item found except itemnotfoundexcept hierarchyentri belong exist iteminfo itemst creat
assert match path assertmatchingpath info state hierarchi entri gethierarchyentri
valid check path iteminfo match path
hierarchyentri requir item identifi
uniqueid move hierarchi restor clone
param info
param entri
throw itemnotfoundexcept
throw repositoryexcept
assert match path assertmatchingpath item info iteminfo info hierarchi entri hierarchyentri entri
item found except itemnotfoundexcept repositori except repositoryexcept
path info path infopath info path getpath
info path infopath equal entri workspac path getworkspacepath
todo handl extern move node parent identifi uniqueid
item found except itemnotfoundexcept hierarchyentri belong iteminfo
return true code missingelem code start parent
current root element case info
tree expect
jcr enhanc request
param missingelem
return true element denot name element
start illeg element startswithillegalel path element miss elem missingelem
miss elem missingelem length
miss elem missingelem denot denotesnam
param entri
param degre
return ancestor entri degre
node entri nodeentri ancestor getancestor hierarchi entri hierarchyentri entri degre
node entri nodeentri parent entri parent getpar
degre
parent degre
parent parent parent getpar
degre
degre
illeg argument except illegalargumentexcept
parent
iter
item info iteminfo iter
list prefetch queue prefetchqueu arrai list arraylist
map node info nodeinfo hash map hashmap
iter info
item info iteminfo iter info
info info
iter
iter hasnext
hasnext
prefetch queue prefetchqueu empti isempti
prefetch
iter
object
prefetch queue prefetchqueu empti isempti
element except nosuchelementexcept
prefetch queue prefetchqueu remov
iter remov
remov
unsupport oper except unsupportedoperationexcept
privat
param parentid
return children code nodeinfo code parent identifi
code parentid code code null code parent
read provid child info
iter child info getchildinfo node nodeid parent parentid
node info nodeinfo node info nodeinfo node info nodeinfo node info nodeinfo parent parentid
node info nodeinfo prefetch
node info nodeinfo node info nodeinfo node info nodeinfo parent parentid
node info nodeinfo node info nodeinfo child info getchildinfo
return code true code info retriev
prefetch
info hasnext
item info iteminfo info item info iteminfo info
prefetch queue prefetchqueu add info
info denot node denotesnod
node info nodeinfo node info nodeinfo node info nodeinfo info
node info nodeinfo put node info nodeinfo getid node info nodeinfo
