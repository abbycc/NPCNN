org apach jackrabbit core queri lucen
java file found except filenotfoundexcept
java except ioexcept
java text number format numberformat
java util arrai
java util bit set bitset
java util collect
java util hash map hashmap
java util map
java util concurr concurr hash map concurrenthashmap
org apach common collect map lru map lrumap
org apach jackrabbit core node nodeid
org apach lucen document document
org apach lucen document field selector fieldselector
org apach lucen index corrupt index except corruptindexexcept
org apach lucen index filter index reader filterindexread
org apach lucen index index reader indexread
org apach lucen index term
org apach lucen index term doc termdoc
org apach lucen index term enum termenum
org apach lucen store index input indexinput
org apach lucen store index output indexoutput
org slf4j logger
org slf4j logger factori loggerfactori
implement code indexread code maintain cach resolv
link getpar int bitset call effici
cach index reader cachingindexread filter index reader filterindexread
logger instanc class
logger log logger factori loggerfactori logger getlogg cach index reader cachingindexread
number node process batch hierarchi
cach initi 400'000 limit
temporari memori usag initi hierarchi cach segment
64mb 170b 400k
max cach init batch size max cach init batch size
current global creation tick counter
current tick currenttick
bitset bit correspond document number set
shareabl node
bit set bitset shareabl node shareablenod
cach node parent relat entri arrai
mean node document number arrai index
node posit parent
segment parent insegmentpar
cach node parent relat point foreign index segment
map integ doc docid foreign parent doc id foreignparentdocid concurr hash map concurrenthashmap integ doc docid
initi link insegmentpar link foreignparentdocid
cach
cach initi cacheiniti cach initi cacheiniti
tick index reader creat
creation tick creationtick creation tick getnextcreationtick
document number cach code null code
doc number cach docnumbercach cach
map document number node
map integ node nodeid doc number2id docnumber2id
cach termdoc regularli read index
term doc cach termdocscach term doc cach termdocscach
creat code cachingindexread code base
code delegate code
param delegate base code indexread code
param cach document number cach code null code
reader
param initcach parent cach initi
index reader construct
throw ioexcept error occur read index
suppress warn suppresswarn uncheck
cach index reader cachingindexread index reader indexread delegate
doc number cach docnumbercach cach
init cach initcach
except ioexcept
delegate
cach cach
segment parent insegmentpar delegate max doc maxdoc
arrai fill segment parent insegmentpar
shareabl node shareablenod init shareabl node initshareablenod delegate
cach initi cacheiniti cach initi cacheiniti delegate
init cach initcach
cach initi cacheiniti run
limit cach maxdoc
doc number2id docnumber2id collect synchron map synchronizedmap
lru map lrumap math max delegate max doc maxdoc
term doc cach termdocscach term doc cach termdocscach delegate field name fieldnam properti
bit set bitset init shareabl node initshareablenod index reader indexread delegate except ioexcept
bit set bitset shareabl node shareablenod bit set bitset
term doc termdoc doc tdoc delegate term doc termdoc term field name fieldnam shareabl node shareabl node
doc tdoc
shareabl node shareablenod set doc tdoc doc
doc tdoc close
shareabl node shareablenod
return code docid code parent code code
link docid null code code parent
code code root node
param document number
param delet document regard delet
return code docid code code code parent
throw ioexcept error occur read index
doc docid parent getpar bit set bitset delet except ioexcept
doc docid parent
exist
parent doc num parentdocnum segment parent insegmentpar
parent doc num parentdocnum
parent doc docid creat parent doc num parentdocnum
parent foreign parent doc id foreignparentdocid
parent
exist
check valid reset
parent valid isvalid delet
log debug enabl isdebugen
log debug parent valid anymor
parent
parent
plain doc plaindocid
document doc document field selector fieldselector uuid parent uuid parent
string parent uui parentuuid doc valu getvalu field name fieldnam parent
parent uui parentuuid length parent uui parentuuid length
root node
parent doc docid null
shareabl node shareablenod
parent doc docid creat parent uui parentuuid
exist
term term factori termfactori creat uuid term createuuidterm parent uui parentuuid
term doc termdoc doc term doc termdoc
doc
delet doc doc
plain doc plaindocid doc doc
parent doc docid creat plain doc plaindocid
doc close
null parent index exist
docid invalid allow creat docid uuid
parent
parent doc docid creat parent uui parentuuid
final put cach
plain doc plaindocid
plaindocid
segment parent insegmentpar plain doc plaindocid
uuiddocid
foreign parent doc id foreignparentdocid put parent
exist
exist parent refer
insegmentpar invalid replac
uuiddocid point foreign segment
mark unknown
segment parent insegmentpar
parent
return tick reader creat
return creation tick reader
creation tick getcreationtick
creation tick creationtick
filterindexread overwrit
link docnumber2id cach document lookup
interest link fieldselector uuid
param document number
param fieldselector field selector
return document
throw corruptindexexcept index corrupt
throw ioexcept error occur read index
document document field selector fieldselector field selector fieldselector
corrupt index except corruptindexexcept except ioexcept
field selector fieldselector field selector fieldselector uuid
document doc
node nodeid doc number2id docnumber2id
doc document field selector fieldselector
node nodeid doc field name fieldnam uuid
doc number2id docnumber2id put
doc document
doc add field idfield
doc
document field selector fieldselector
field code term code link fieldnam uuid
code cachingindexread code return code termdoc code instanc
cach document code term code field
call deleg base code indexread code
code term code link fieldnam uuid field
code cachingindexread code document
link emptytermdoc instanc return
param term term start code termdoc code enumer
return termdoc instanc
throw ioexcept error occur read index
term doc termdoc term doc termdoc term term except ioexcept
term term field field name fieldnam uuid
check cach
cach
doc number cach docnumbercach entri cach term text
check valid
cach entri reader
uuid node updat
reindex node 'travels' older index
newer cach cach
entri overwritten
newer index
creation tick creationtick creation tick creationtick delet isdelet doc
singl term doc singletermdoc doc
cach invalid
term doc termdoc doc term doc termdoc term
doc
put cach
cach put term text doc doc
return
singl term doc singletermdoc doc doc
empti term doc emptytermdoc instanc
doc close
term doc cach termdocscach term doc termdoc term
inheritdoc
close doclos except ioexcept
cach initi cacheiniti wait stop waituntilstop
interrupt except interruptedexcept
ignor
close doclos
intern
return creation tick
return creation tick
creation tick getnextcreationtick
cach index reader cachingindexread
current tick currenttick
initi link cachingindexread insegmentpar
link cachingindexread foreignparentdocid cach
cach initi cacheiniti runnabl
link insegmentpar persist filenam
string file cach arrai file cach arrai cach insegmentpar
read
index reader indexread reader
set code true code initi work
run
set code true code index reader close
stop request stoprequest
creat initi code reader code
param reader
index reader
cach initi cacheiniti index reader indexread reader
reader reader
initi cach
run
run
stop request stoprequest
immedi return stop request
init cach file initcachefromfil load cach file loadcachefromfil
init cach file initcachefromfil
file base cach load
repositori
log debug persist cach load directli repositori
initi parent initializepar reader
except
log warn messag regular oper
stop request stoprequest
log warn error initi parent cach
run
notifi notifyal
wait cach initi stop
throw interruptedexcept current thread interrupt
wait stop waituntilstop interrupt except interruptedexcept
stop request stoprequest
run
wait
initi link cachingindexread insegmentpar
link cachingindexread foreignparentdocid cach
param reader underli index reader
throw ioexcept error occur read index
initi parent initializepar index reader indexread reader except ioexcept
foreign parent foreignpar
time system current time milli currenttimemilli
initi multipl pass
fix number node time
term start uuid startuuid term term factori termfactori creat uuid term createuuidterm
map object node info nodeinfo doc hash map hashmap object node info nodeinfo
map node nodeid integ parent hash map hashmap node nodeid integ
start uuid startuuid text length
forc read uuid startuuid
start uuid startuuid term factori termfactori creat uuid term createuuidterm start uuid startuuid text
read uuid
collect term doc collecttermdoc reader start uuid startuuid term doc collector termdocscollector
collect term term term doc termdoc doc tdoc except ioexcept
rememb start term batch
start uuid startuuid term
doc size max cach init batch size max cach init batch size
node nodeid node nodeid term text
doc tdoc
doc doc tdoc doc
skip shareabl node
shareabl node shareablenod doc
node info nodeinfo info node info nodeinfo doc
doc put doc info
doc empti isempti
node initi persist cach file
save cach file savecachetofil
read parent full scan
collect term doc collecttermdoc reader term field name fieldnam parent term doc collector termdocscollector
collect term term term doc termdoc doc tdoc except ioexcept
node nodeid node nodeid term text
doc tdoc
integ doc docid doc tdoc doc
node info nodeinfo info doc doc docid
info
shareabl node
cach init batch
info parent
doc remov doc docid
doc put info info
parent put
scan uuid document number parent
collect term doc collecttermdoc reader term factori termfactori creat uuid term createuuidterm term doc collector termdocscollector
collect term term term doc termdoc doc tdoc except ioexcept
node nodeid node nodeid term text
doc tdoc
doc doc tdoc doc
parent kei containskei
parent put doc
stop request stoprequest
node info nodeinfo info doc valu
parent doc parentdocid
node info nodeinfo parent doc info parent
parent
parent doc parentdocid parent doc docid
integ doc docid parent info parent
doc docid
parent doc parentdocid doc docid
parent doc parentdocid
segment parent insegmentpar info doc docid parent doc parentdocid
info parent
foreign parent foreignpar
foreign parent doc id foreignparentdocid put info doc docid doc docid creat info parent
shareabl node shareablenod info doc docid
document doc reader document info doc docid field selector fieldselector uuid parent uuid parent
foreign parent doc id foreignparentdocid put info doc docid doc docid creat doc valu getvalu field name fieldnam parent
parent root node
foreign parent doc id foreignparentdocid put info doc docid doc docid null
log debug enabl isdebugen
number format numberformat number format numberformat percent instanc getpercentinst
set maximum fraction digit setmaximumfractiondigit
time system current time milli currenttimemilli time
segment parent insegmentpar length
foreign parent foreignpar segment parent insegmentpar length
log debug initi docid foreign parent
object
segment parent insegmentpar length
time
format foreign parent foreignpar
collect term doc start term term
field code start code enumer
param reader index reader
param start term start term enumer
param collector collect term doc term
throw ioexcept error occur read index
collect term doc collecttermdoc index reader indexread reader
term start
term doc collector termdocscollector collector
except ioexcept
term doc termdoc doc tdoc reader term doc termdoc
term enum termenum term reader term start
count
term term term
field start field
doc tdoc seek term
collector collect doc tdoc
collector break
check quit
count
stop request stoprequest
term
term close
doc tdoc close
persist cach info link insegmentpar file
link file cach arrai faster init time startup
http issu apach org jira brows jcr
save cach file savecachetofil except ioexcept
index output indexoutput
reader directori creat output createoutput file cach arrai file cach arrai
parent segment parent insegmentpar
write int writeint parent
except
log error
error save file cach arrai file cach arrai
messag getmessag
close
load cach info link insegmentpar file
link file cach arrai
http issu apach org jira brows jcr
return true cach initi fals cach
file exist error happen
load cach file loadcachefromfil except ioexcept
index input indexinput
time system current time milli currenttimemilli
reader directori open input openinput file cach arrai file cach arrai
segment parent insegmentpar length
segment parent insegmentpar read int readint
log debug
persist cach initi docid
object segment parent insegmentpar length
system current time milli currenttimemilli time
file found except filenotfoundexcept ignor
expect case file base cach
initi
except ioexcept ignor
log warn
save state cachingindexread corrupt remov offend file
file cach arrai file cach arrai ignor
case read error cach file remov
recreat
cach load data repositori directli
reader directori delet file deletefil file cach arrai file cach arrai
close
simpl interfac collect term term doc
term doc collector termdocscollector
call term encount
param term term
param tdoc term doc code term code
return fals collector collect termdoc
throw ioexcept error occur read index
collect term term term doc termdoc doc tdoc except ioexcept
node info nodeinfo
doc docid
node nodeid
node nodeid parent
node info nodeinfo doc docid node nodeid
doc docid doc docid
