org apach jackrabbit webdav client method
org slf4j logger
org slf4j logger factori loggerfactori
org apach jackrabbit webdav dav method davmethod
org apach jackrabbit webdav dav servlet respons davservletrespons
org apach jackrabbit webdav dav except davexcept
org apach jackrabbit webdav header poll timeout header polltimeouthead
org apach jackrabbit webdav xml dom util domutil
org apach jackrabbit webdav xml element iter elementiter
org apach jackrabbit webdav observ observ constant observationconst
org apach jackrabbit webdav observ event discoveri eventdiscoveri
org apach jackrabbit webdav observ event bundl eventbundl
org apach common httpclient http method base httpmethodbas
org apach common httpclient http state httpstate
org apach common httpclient http connect httpconnect
org w3c dom element
org w3c dom document
java except ioexcept
code pollmethod code implement
poll method pollmethod dav method base davmethodbas observ constant observationconst
logger log logger factori loggerfactori logger getlogg poll method pollmethod
event discoveri eventdiscoveri event discoveri eventdiscoveri
poll method pollmethod string uri string subscript subscriptionid
uri subscript subscriptionid
poll method pollmethod string uri string subscript subscriptionid timeout
uri
set request header setrequesthead observ constant observationconst header subscriptionid header subscriptionid subscript subscriptionid
timeout
set request header setrequesthead poll timeout header polltimeouthead timeout
event discoveri eventdiscoveri respons event discoveri getresponseaseventdiscoveri except ioexcept dav except davexcept
check checkus
event discoveri eventdiscoveri
event discoveri eventdiscoveri
dav except davexcept respons except getresponseexcept
dav except davexcept statu code getstatuscod getnam result unexpect statu statu line getstatuslin
httpmethod
overrid
string getnam
dav method davmethod method poll method poll
davmethodbas
overrid
success issuccess statu code statuscod
dav servlet respons davservletrespons statu code statuscod
httpmethodbas
retriev dav subscriptiondiscoveri properti present respons bodi
build 'subscription' object dav subscript
child element insid discoveri pars respons bodi
fail reason dav subscriptiondiscoveri
singl dav subscript entri creat subscrib
call method addit reset 'success' flag fals
param httpstate
param httpconnect
httpmethodbas processresponsebodi httpstate httpconnect
overrid
process respons bodi processresponsebodi http state httpstate http state httpstate http connect httpconnect http connect httpconnect
case success respons code pars xml bodi discoveri object
success getsuccess
set success setsuccess build discoveri root builddiscoveryfromroot root element getrootel
except ioexcept
log error error pars multistatu respons
set success setsuccess
privat
param root
return
build discoveri root builddiscoveryfromroot element root
dom util domutil match root xml eventdiscoveri xml eventdiscoveri observ constant observationconst namespac
event discoveri eventdiscoveri event discoveri eventdiscoveri
element iter elementiter dom util domutil children getchildren root xml eventbundl xml eventbundl observ constant observationconst namespac
hasnext
element element ebel element nextel
event bundl eventbundl event bundl eventbundl
element xml toxml document document
element document import node importnod element ebel
event discoveri eventdiscoveri add event bundl addeventbundl
log debug miss 'eventdiscovery' respons bodi poll method
