org apach jackrabbit core version
org apach common collect refer map referencemap
org apach jackrabbit core
org apach jackrabbit core nodetyp
org apach jackrabbit core state
org apach jackrabbit core util uuid uuid
org apach jackrabbit core virtual virtual item state provid virtualitemstateprovid
org apach jackrabbit core virtual virtual node state virtualnodest
org apach jackrabbit core virtual virtual properti state virtualpropertyst
org apach log4j logger
javax jcr properti type propertytyp
javax jcr repositori except repositoryexcept
java util hash set hashset
java util map
class implement virtual item state provid order expos
version version storag
version item state provid versionitemstateprovid virtual item state provid virtualitemstateprovid constant
default logger
logger log logger logger getlogg version item state provid versionitemstateprovid
root node
histori root node state historyrootnodest root
version manag
version manag versionmanag mgr vmgr
node type manag
node type manag impl nodetypemanagerimpl mgr ntmgr
cach node state kei itemid itemst
map node refer map referencemap refer map referencemap hard refer map referencemap soft
node def version node state
node def nodedefid ndef version ndef version
node def version histori node state
node def nodedefid ndef version histori ndef version histori
node def version histori root node state
node def nodedefid ndef version histori root ndef version histori root
node def version label node state
node def nodedefid ndef version label ndef version label
creat version item state provid
param vmgr
param rootid
param parentid
throw repositoryexcept
version item state provid versionitemstateprovid version manag versionmanag mgr vmgr node type manag impl nodetypemanagerimpl mgr ntmgr string root rootid string parent parentid repositori except repositoryexcept
mgr vmgr mgr vmgr
mgr ntmgr mgr ntmgr
ndef version ndef version node def nodedefid node type manag getnodetypemanag node type getnodetyp versionhistori versionhistori applic child node def getapplicablechildnodedef jcr rootvers jcr rootvers version version unwrap
ndef version histori ndef version histori node def nodedefid node type manag getnodetypemanag node type getnodetyp unstructur unstructur applic child node def getapplicablechildnodedef jcr rootvers jcr rootvers versionhistori versionhistori unwrap
ndef version histori root ndef version histori root node def nodedefid node type manag getnodetypemanag node type getnodetyp rep system rep system applic child node def getapplicablechildnodedef jcr versionstorag jcr versionstorag rep versionstorag rep versionstorag unwrap
ndef version label ndef version label node def nodedefid node type manag getnodetypemanag node type getnodetyp versionhistori versionhistori applic child node def getapplicablechildnodedef jcr versionlabel jcr versionlabel versionlabel versionlabel unwrap
root histori root node state historyrootnodest mgr vmgr parent parentid root rootid
root set definit setdefinitionid ndef version histori root ndef version histori root
itemstatemanag
itemstatemanag hasitemst org apach jackrabbit core itemid
item state hasitemst item itemid
node nodeid
node state hasnodest node nodeid
properti state haspropertyst properti propertyid
itemstatemanag getitemst itemid
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
node nodeid
node state getnodest node nodeid
properti state getpropertyst properti propertyid
itemstatemanag getnoderefer nodereferencesid
node refer noderefer node refer getnoderefer node refer nodereferencesid
item state except nosuchitemstateexcept item state except itemstateexcept
todo return node refer
item state except nosuchitemstateexcept uuid getuuid
virtualitemstateprovid
virtualitemstateprovid isvirtualroot itemid
virtual root isvirtualroot item itemid
equal root getid
virtualitemstateprovid getvirtualrootid
node nodeid virtual root getvirtualrootid
node nodeid root getid
virtualitemstateprovid hasnodest nodeid
node state hasnodest node nodeid
node kei containskei
equal root getid
mgr vmgr item hasitem uuid getuuid
virtualitemstateprovid getnodest nodeid
virtual node state virtualnodest node state getnodest node nodeid
item state except nosuchitemstateexcept item state except itemstateexcept
check root
equal root getid
root
check cach
virtual node state virtualnodest state virtual node state virtualnodest node
state
intern version item internalversionitem mgr vmgr item getitem uuid getuuid
intern version histori internalversionhistori
state version histori node state versionhistorynodest intern version histori internalversionhistori root uuid getuuid
state set definit setdefinitionid ndef version histori ndef version histori
add version label node state
string uuid uuid random uuid randomuuid string tostr
version label node state versionlabelsnodest vln version label node state versionlabelsnodest intern version histori internalversionhistori state uuid getuuid uuid
vln set definit setdefinitionid ndef version label ndef version label
state add child node entri addchildnodeentri jcr versionlabel jcr versionlabel uuid
node put node nodeid uuid vln
intern version internalvers
intern version internalvers intern version internalvers
state version node state versionnodest parent getpar getid
state set definit setdefinitionid ndef version ndef version
state set properti setpropertyvalu jcr creat jcr creat intern internalvalu creat creat getcreat
todo read frozen stuff frozen node instanc put version
state setpropertyvalu jcr frozenuuid internalvalu creat getfrozennod getfrozenuuid
state setpropertyvalu jcr frozenprimarytyp internalvalu creat getfrozennod getfrozenprimarytyp
state setpropertyvalu jcr frozenmixintyp propertytyp internalvalu creat getfrozennod getfrozenmixintyp
state setpropertyvalu jcr versionlabel propertytyp string internalvalu creat getlabel
state set properti valu setpropertyvalu jcr predecessor jcr predecessor properti type propertytyp refer intern internalvalu
state set properti valu setpropertyvalu jcr successor jcr successor properti type propertytyp refer intern internalvalu
intern frozen node internalfrozennod
intern frozen node internalfrozennod intern frozen node internalfrozennod
virtual node state virtualnodest parent node state getnodest node nodeid parent getpar getid
mimic frozen mimicfrozen parent version node state versionnodest
state creat node state createnodest parent
jcr frozennod jcr frozennod
uuid getuuid
mimic frozen mimicfrozen frozen primari type getfrozenprimarytyp
frozennod frozennod
map frozen node mapfrozennod state mimic frozen mimicfrozen
intern frozen version histori internalfrozenversionhistori
intern frozen version histori internalfrozenversionhistori intern frozen version histori internalfrozenversionhistori
virtual node state virtualnodest parent node state getnodest node nodeid parent getpar getid
state creat node state createnodest parent
getnam
uuid getuuid
versionedchild versionedchild
imo expos aswel
state setpropertyvalu jcr base version internalvalu creat uuid fromstr getbaseversionid
state set properti setpropertyvalu jcr child jcr child intern internalvalu creat uuid string fromstr version histori getversionhistoryid
found throw
item state except nosuchitemstateexcept string tostr
repositori except repositoryexcept
log error unabl check item string tostr
item state except itemstateexcept
add state cach
node put state
log debug item ad cach size node size
state
virtualitemstateprovid haspropertyst propertyid
properti state haspropertyst properti propertyid
parent state
node state nodest parent node state getnodest node nodeid parent uuid getparentuuid
handl default prop state
parent virtual node state virtualnodest
virtual node state virtualnodest parent properti entri haspropertyentri getnam
item state except itemstateexcept
ignor
virtualitemstateprovid getpropertyst propertyid
virtual properti state virtualpropertyst properti state getpropertyst properti propertyid
item state except nosuchitemstateexcept item state except itemstateexcept
parent state
node state nodest parent node state getnodest node nodeid parent uuid getparentuuid
handl default prop state
parent virtual node state virtualnodest
virtual node state virtualnodest parent properti getproperti getnam
item state except nosuchitemstateexcept string tostr
virtualitemstateprovid createpropertyst virtualnodest qname int boolean
virtual properti state virtualpropertyst creat properti state createpropertyst virtual node state virtualnodest parent
qname type
multi valu multivalu
repositori except repositoryexcept
properti def impl propertydefimpl def applic properti def getapplicablepropertydef parent type multi valu multivalu
virtual properti state virtualpropertyst prop virtual properti state virtualpropertyst parent uuid getuuid
prop set type settyp type
prop set multi valu setmultivalu multi valu multivalu
prop set definit setdefinitionid prop def propdefid def unwrap
prop
virtualitemstateprovid createnodest virtualnodest qname string qname
virtual node state virtualnodest creat node state createnodest virtual node state virtualnodest parent qname
string uuid qname node type nodetypenam
repositori except repositoryexcept
node type impl nodetypeimpl node type nodetyp node type manag getnodetypemanag node type getnodetyp node type nodetypenam
node def impl nodedefimpl def
def applic child node def getapplicablechildnodedef parent node type nodetyp node type nodetyp getqnam
repositori except repositoryexcept
hack unstructur parent
node type registri nodetyperegistri reg ntreg node type manag getnodetypemanag node type registri getnodetyperegistri
effect node type effectivenodetyp ent reg ntreg effect node type geteffectivenodetyp unstructur unstructur
child node def childnodedef cnd ent applic child node def getapplicablechildnodedef node type nodetypenam
def node type manag getnodetypemanag node def getnodedef node def nodedefid cnd
node type nodetyp
default node type
node type nodetyp node type impl nodetypeimpl def default primari type getdefaultprimarytyp
creat node state
virtual node state virtualnodest state
uuid
uuid uuid random uuid randomuuid string tostr uuid uuid randomuuid tostr version uuid
state virtual node state virtualnodest parent uuid getuuid uuid node type nodetypenam qname
state set definit setdefinitionid node def nodedefid def unwrap
node put state getid state
state
intern stuff
return node type manag
return
node type manag impl nodetypemanagerimpl node type manag getnodetypemanag
mgr ntmgr
map frozen node
param state
param node
return
throw repositoryexcept
virtual node state virtualnodest map frozen node mapfrozennod virtual node state virtualnodest state
intern frozen node internalfrozennod node
mimic frozen mimicfrozen
repositori except repositoryexcept
mimic frozen mimicfrozen
node frozen uuid getfrozenuuid
state set properti setpropertyvalu jcr uuid jcr uuid intern internalvalu creat node frozen uuid getfrozenuuid
state set properti valu setpropertyvalu jcr mixintyp jcr mixintyp properti type propertytyp intern internalvalu creat node frozen mixin type getfrozenmixintyp
state set properti setpropertyvalu jcr uuid jcr uuid intern internalvalu creat node getid
node frozen uuid getfrozenuuid
state set properti setpropertyvalu jcr frozenuuid jcr frozenuuid intern internalvalu creat node frozen uuid getfrozenuuid
state set properti setpropertyvalu jcr frozenprimarytyp jcr frozenprimarytyp intern internalvalu creat node frozen primari type getfrozenprimarytyp
state set properti valu setpropertyvalu jcr frozenmixintyp jcr frozenmixintyp properti type propertytyp intern internalvalu creat node frozen mixin type getfrozenmixintyp
map properti
properti state propertyst prop node frozen properti getfrozenproperti
prop length
prop multi valu ismultivalu
state set properti valu setpropertyvalu prop getnam prop type gettyp prop valu getvalu
state set properti setpropertyvalu prop getnam prop valu getvalu
map child node
intern freez internalfreez node node frozen child node getfrozenchildnod
node length
state add child node entri addchildnodeentri node getnam node getid
state
retriev properti definit contraint
param propertynam
param type
param multivalu
return
throw repositoryexcept
properti def impl propertydefimpl applic properti def getapplicablepropertydef node state nodest parent qname properti propertynam
type multi valu multivalu
repositori except repositoryexcept
prop def propdef effect node type geteffectivenodetyp parent applic properti def getapplicablepropertydef properti propertynam type multi valu multivalu
node type manag getnodetypemanag prop def getpropdef prop def propdefid
retriev node definit contraint
param nodenam
param nodetypenam
return
throw repositoryexcept
node def impl nodedefimpl applic child node def getapplicablechildnodedef node state nodest parent qname node nodenam qname node type nodetypenam
repositori except repositoryexcept
child node def childnodedef cnd effect node type geteffectivenodetyp parent applic child node def getapplicablechildnodedef node nodenam node type nodetypenam
node type manag getnodetypemanag node def getnodedef node def nodedefid cnd
return effect merg resolv node type represent
node' primari mixin node type
return effect node type
throw repositoryexcept
effect node type effectivenodetyp effect node type geteffectivenodetyp node state nodest parent repositori except repositoryexcept
build effect node type mixin primari type
node type registri nodetyperegistri reg ntreg node type manag getnodetypemanag node type registri getnodetyperegistri
exist mixin'
hash set hashset set hash set hashset parent mixin type name getmixintypenam
primari type
set add parent node type getnodetypenam
reg ntreg effect node type geteffectivenodetyp qname set arrai toarrai qname set size
node type conflict except nodetypeconflictexcept ntce
string msg intern error fail build effect node type node parent uuid getuuid
repositori except repositoryexcept msg ntce
