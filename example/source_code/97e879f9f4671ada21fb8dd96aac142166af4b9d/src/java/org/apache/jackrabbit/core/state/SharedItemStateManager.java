org apach jackrabbit core state
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core util dumpabl
org apach jackrabbit core nodetyp effect node type effectivenodetyp
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp prop def propdef
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core observ observ manag impl observationmanagerimpl
org apach jackrabbit core intern internalvalu
org apach jackrabbit core virtual virtual item state provid virtualitemstateprovid
org apach jackrabbit qname
org apach log4j logger
javax jcr properti type propertytyp
javax jcr nodetyp constraint violat except constraintviolationexcept
javax jcr nodetyp node type except nosuchnodetypeexcept
java util iter
java print stream printstream
oswego util concurr read write lock readwritelock
oswego util concurr reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
share code itemstatemanag code cach object return
code persistencemanag code object return item state
manag share session
share item state manag shareditemstatemanag
item state manag itemstatemanag item state listen itemstatelisten dumpabl
logger instanc
logger log logger logger getlogg share item state manag shareditemstatemanag
cach weak refer itemst object issu
itemstatemanag
item state refer cach itemstatereferencecach cach
persist manag load store item
persist manag persistencemanag persist mgr persistmgr
hard refer root node state
node state nodest root
virtual item state provid
virtual item state provid virtualitemstateprovid virtual provid virtualprovid
virtual item state provid virtualitemstateprovid
read write lock synchron access item state manag
read write lock readwritelock lock rwlock
reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
creat code shareditemstatemanag code instanc
param persistmgr
param rootnodeuuid
param ntreg
share item state manag shareditemstatemanag persist manag persistencemanag persist mgr persistmgr
string root node uuid rootnodeuuid
node type registri nodetyperegistri reg ntreg
item state except itemstateexcept
cach item state refer cach itemstatereferencecach
persist mgr persistmgr persist mgr persistmgr
root node state nodest virtual item state getnonvirtualitemst node nodeid root node uuid rootnodeuuid
item state except nosuchitemstateexcept
creat root node
root creat root node state createrootnodest root node uuid rootnodeuuid reg ntreg
itemstatemanag
inheritdoc
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
acquir read lock acquirereadlock
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
virtual provid virtualprovid item state getitemst
check intern
virtual item state hasnonvirtualitemst
virtual item state getnonvirtualitemst
check virtual state item
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
virtual provid virtualprovid item state getitemst
lock rwlock read lock readlock releas
item state except nosuchitemstateexcept string tostr
inheritdoc
item state hasitemst item itemid
acquir read lock acquirereadlock
item state except itemstateexcept
cach cach iscach
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
check manag item state
virtual item state hasnonvirtualitemst
check virtual
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
lock rwlock read lock readlock releas
inheritdoc
node refer noderefer node refer getnoderefer node refer nodereferencesid
item state except nosuchitemstateexcept item state except itemstateexcept
acquir read lock acquirereadlock
check persist manag
persist mgr persistmgr load
item state except nosuchitemstateexcept
ignor
check virtual provid
virtual provid virtualprovid length
virtual provid virtualprovid node refer getnoderefer
item state except nosuchitemstateexcept
ignor
lock rwlock read lock readlock releas
throw
item state except nosuchitemstateexcept string tostr
inheritdoc
node refer hasnoderefer node refer nodereferencesid
acquir read lock acquirereadlock
item state except itemstateexcept
check persist manag
persist mgr persistmgr exist
item state except itemstateexcept
ignor
check virtual provid
virtual provid virtualprovid length
virtual provid virtualprovid node refer hasnoderefer
lock rwlock read lock readlock releas
itemstatelisten
inheritdoc
state creat statecr item state itemst creat
cach cach creat
inheritdoc
state modifi statemodifi item state itemst modifi
interest
inheritdoc
state destroi statedestroi item state itemst destroi
destroi remov listen removelisten
cach evict destroi getid
inheritdoc
state discard statediscard item state itemst discard
discard remov listen removelisten
cach evict discard getid
dumpabl
inheritdoc
dump print stream printstream
println shareditemstatemanag
println
print referencecach
cach dump
misc public method
dispos code shareditemstatemanag code free resourc
dispos
clear cach
cach evict evictal
add virtual item state provid
note method synchron call
creation thread concurr issu
occur chang synchron statu
examin
param prov
add virtual item state provid addvirtualitemstateprovid virtual item state provid virtualitemstateprovid prov
virtual item state provid virtualitemstateprovid prov
virtual item state provid virtualitemstateprovid virtual provid virtualprovid length
system arraycopi virtual provid virtualprovid prov virtual provid virtualprovid length
prov virtual provid virtualprovid length prov
virtual provid virtualprovid prov
store modif regist code changelog code item
contain changelog state return
item state manag reconnect item provid
state manag
successfulli store state observ manag inform
observ manag pass method
note method synchron method invok
instanc member link persistencemanag store
consid thread safe chang
synchron statu examin
param local chang log local item
param obsmgr observ manag inform code null code
observ manag inform
throw staleitemstateexcept affect item
state stale
throw itemstateexcept error occur
store chang log changelog local observ manag impl observationmanagerimpl ob mgr obsmgr
stale item state except staleitemstateexcept item state except itemstateexcept
chang log changelog share chang log changelog
event state collect eventstatecollect event
ob mgr obsmgr
event ob mgr obsmgr creat event state collect createeventstatecollect
event prepar delet preparedelet local
acquir write lock acquirewritelock
hold write lock holdingwritelock
valid modifi refer target node refer
delet meantim
iter iter local modifi ref modifiedref
iter hasnext
node refer noderefer ref node refer noderefer iter
node nodeid node nodeid ref uuid getuuid
ref refer hasrefer
local item state hasitemst
string msg target node
refer properti exist
item state except itemstateexcept msg
share modifi ref
succeed
reconnect item contain chang log
respect share item add share item
chang log
iter local modifi state modifiedst
iter hasnext
item state itemst state item state itemst iter
state connect item state getitemst state getid
state stale isstal
string msg state getid modifi extern
log debug msg
stale item state except staleitemstateexcept msg
share modifi state overlai state getoverlayedst
iter local delet state deletedst
iter hasnext
item state itemst state item state itemst iter
state connect item state getitemst state getid
state stale isstal
string msg state getid modifi extern
log debug msg
stale item state except staleitemstateexcept msg
share delet state overlai state getoverlayedst
iter local ad state addedst
iter hasnext
item state itemst state item state itemst iter
state connect creat instanc createinst state
share ad state overlai state getoverlayedst
creat event state
event
event creat event state createeventst root uuid getuuid local
push local item share item
local push
store item underli persist manag
system current time milli currenttimemilli
persist mgr persistmgr store share
succeed
system current time milli currenttimemilli
log info enabl isinfoen
log info persist chang log share
store oper unsuccess reload
state modifi delet item persist
storag
succeed
local disconnect
iter share modifi state modifiedst
iter hasnext
item state itemst state item state itemst iter
state copi load item state loaditemst state getid
item state except itemstateexcept
state discard
iter share delet state deletedst
iter hasnext
item state itemst state item state itemst iter
state copi load item state loaditemst state getid
item state except itemstateexcept
state discard
iter share ad state addedst
iter hasnext
item state itemst state item state itemst iter
state discard
share item listen chang
share persist
downgrad read lock
acquir read lock acquirereadlock
lock rwlock write lock writelock releas
hold write lock holdingwritelock
dispatch event
event
event dispatch
hold write lock holdingwritelock
except occur downgrad lock
lock rwlock write lock writelock releas
lock rwlock read lock readlock releas
implement
creat node state instanc
param uuid uuid
param nodetypenam node type
param parentuuid parent uuid
return node state instanc
node state nodest creat instanc createinst string uuid qname node type nodetypenam
string parent uuid parentuuid
node state nodest state persist mgr persistmgr creat createnew node nodeid uuid
state set node type setnodetypenam node type nodetypenam
state set parent uuid setparentuuid parent uuid parentuuid
state set statu setstatu item state itemst statu statu
state add listen addlisten
state
creat root node state
param rootnodeuuid root node uuid
param ntreg node type registri
return root node state
throw itemstateexcept error occur
node state nodest creat root node state createrootnodest string root node uuid rootnodeuuid
node type registri nodetyperegistri reg ntreg
item state except itemstateexcept
node state nodest root state rootstat creat instanc createinst root node uuid rootnodeuuid qname rep root rep root
fixm manual setup root node creat mandatori jcr primarytyp properti
todo deleg setup root node nodetypeinstancehandl
root node' definit
node def nodedefid node def nodedefid
definit jcr primarytyp properti
prop def propdef prop def propdef
node def nodedefid reg ntreg root node def getrootnodedef getid
effect node type effectivenodetyp ent reg ntreg effect node type geteffectivenodetyp qname rep root rep root
prop def propdef ent applic properti def getapplicablepropertydef qname jcr primarytyp jcr primarytyp
properti type propertytyp
node type except nosuchnodetypeexcept nsnte
string msg intern error fail creat root node
log error msg nsnte
item state except itemstateexcept msg nsnte
constraint violat except constraintviolationexcept cve
string msg intern error fail creat root node
log error msg cve
item state except itemstateexcept msg cve
root state rootstat set definit setdefinitionid node def nodedefid
creat jcr primarytyp properti
root state rootstat add properti addpropertynam prop def propdef getnam
properti state propertyst prop creat instanc createinst prop def propdef getnam root node uuid rootnodeuuid
prop set valu setvalu intern internalvalu intern internalvalu creat qname rep root rep root
prop set type settyp prop def propdef requir type getrequiredtyp
prop set multi valu setmultivalu prop def propdef multipl ismultipl
prop set definit setdefinitionid prop def propdef getid
chang log changelog chang log changelog chang log changelog
chang log changelog ad root state rootstat
chang log changelog ad prop
persist mgr persistmgr store chang log changelog
chang log changelog persist
root state rootstat
return item state virtual
item state provid
item state itemst virtual item state getnonvirtualitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
check cach synchron ensur entri creat
cach
item state itemst state cach retriev
state
found cach load persist storag
state load item state loaditemst
state set statu setstatu item state itemst statu exist statu exist
put cach
cach cach state
regist listen
state add listen addlisten
state
check item state manag item state
virtual item state manag
virtual item state hasnonvirtualitemst item itemid
cach cach iscach
denot node denotesnod
persist mgr persistmgr exist node nodeid
persist mgr persistmgr exist properti propertyid
item state except itemstateexcept is
creat node state instanc
param state instanc
return node state instanc
item state itemst creat instanc createinst item state itemst
node isnod
node state nodest node state nodest
creat instanc createinst uuid getuuid node type getnodetypenam parent uuid getparentuuid
properti state propertyst properti state propertyst
creat instanc createinst getnam parent uuid getparentuuid
creat properti state instanc
param propnam properti
param parentuuid parent uuid
return properti state instanc
properti state propertyst creat instanc createinst qname prop propnam string parent uuid parentuuid
properti state propertyst state persist mgr persistmgr creat createnew properti propertyid parent uuid parentuuid prop propnam
state set statu setstatu item state itemst statu statu
state add listen addlisten
state
load item state persist storag
param item
return item state
item state itemst load item state loaditemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
item state itemst state
denot node denotesnod
state persist mgr persistmgr load node nodeid
state persist mgr persistmgr load properti propertyid
init modif counter
state touch
state
check target modifi node refer exist
param log chang log
throw itemstateexcept target found
check target exist checktargetsexist chang log changelog log item state except itemstateexcept
iter iter log modifi ref modifiedref
iter hasnext
node refer noderefer ref node refer noderefer iter
node nodeid node nodeid ref uuid getuuid
virtual provid virtualprovid length
virtual item state provid virtualitemstateprovid provid virtual provid virtualprovid
provid item state hasitemst
ref
ref ref refer hasrefer
log item state hasitemst
string msg target node
refer properti exist
item state except itemstateexcept msg
acquir read lock item state manag
throw itemstateexcept read lock acquir
acquir read lock acquirereadlock item state except itemstateexcept
lock rwlock read lock readlock acquir
interrupt except interruptedexcept
item state except itemstateexcept interrupt acquir read lock
acquir write lock item state manag
throw itemstateexcept write lock acquir
acquir write lock acquirewritelock item state except itemstateexcept
lock rwlock write lock writelock acquir
interrupt except interruptedexcept
item state except itemstateexcept interrupt acquir write lock
