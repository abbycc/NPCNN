org apach jackrabbit core
java util arrai
java util collect
java util hash map hashmap
java util iter
java util list
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
org apach common collect map refer map referencemap
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core state child node entri childnodeentri
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state node state nodest
org apach jackrabbit core state node state listen nodestatelisten
org apach jackrabbit spi
org apach jackrabbit spi path
org apach jackrabbit spi common convers malform path except malformedpathexcept
org apach jackrabbit spi common path builder pathbuild
org apach jackrabbit spi common path factori impl pathfactoryimpl
org apach jackrabbit spi common path map pathmap
org slf4j logger
org slf4j logger factori loggerfactori
implement code hierarchymanag code cach path
item
cach hierarchi manag cachinghierarchymanag hierarchi manag impl hierarchymanagerimpl
node state listen nodestatelisten
default upper limit cach state
default upper limit default upper limit
logger instanc
logger log logger factori loggerfactori logger getlogg cach hierarchi manag cachinghierarchymanag
map path children path map
path map pathmap lru entri lruentri path cach pathcach path map pathmap lru entri lruentri
map item id code lruentri code path map
refer map referencemap cach idcach refer map referencemap refer map referencemap hard refer map referencemap hard
cach monitor object
object cach monitor cachemonitor object
upper limit
upper limit upperlimit
head lru
lru entri lruentri head
tail lru
lru entri lruentri tail
flag indic consist check enabl
consist check enabl consistencychecken
creat instanc class
param rootnodeid root node
param provid item state manag
cach hierarchi manag cachinghierarchymanag node nodeid root node rootnodeid
item state manag itemstatemanag provid
root node rootnodeid provid
upper limit upperlimit default upper limit default upper limit
enabl disabl consist check instanc
param enabl code true code enabl consist check
code fals code disabl
enabl consist check enableconsistencycheck enabl
consist check enabl consistencychecken enabl
base class overrid
inheritdoc
item itemid resolv path resolvepath path path type allow typesallow
repositori except repositoryexcept
path path node pathtonod path
type allow typesallow return node return node
return node pass parent path
cach node
path node pathtonod path ancestor getancestor
path map pathmap element lru entri lruentri element map path node pathtonod
element
intermedi match call base class
resolv path resolvepath path type allow typesallow
lru entri lruentri entri element
element path haspath path
exact match return answer
cach monitor cachemonitor
entri touch
entri getid
path element element path element getel
resolv path resolvepath element element depth getdepth entri getid type allow typesallow
item state except itemstateexcept
string msg fail retriev state intermediari node
log debug msg
repositori except repositoryexcept msg
inheritdoc
path resolv pathresolv item itemid path builder pathbuild builder
malform path except malformedpathexcept
denot node denotesnod
cach node nodeid builder path getpath
inheritdoc
overridden method find map intermedi item
code state code add path element builder
map found item cach
base implement invok
build path buildpath path builder pathbuild builder item state itemst state
item state except itemstateexcept repositori except repositoryexcept
state node isnod
path map pathmap element lru entri lruentri element state getid
element
path element element element path getpath element getel
element length
builder add addfirst element
malform path except malformedpathexcept mpe
string msg fail build path state getid
log debug msg
repositori except repositoryexcept msg mpe
build path buildpath builder state
state node isnod
cach node state nodest state node getnodeid builder path getpath
malform path except malformedpathexcept mpe
log warn fail build path state getid
hierarchymanag
inheritdoc
overridden method simpli check item match
return path call base implement
path path getpath item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
denot node denotesnod
path map pathmap element lru entri lruentri element
element
element path getpath
malform path except malformedpathexcept mpe
string msg fail build path
log debug msg
repositori except repositoryexcept msg mpe
path getpath
inheritdoc
getnam item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
denot node denotesnod
path map pathmap element lru entri lruentri element
element
element getnam
getnam
inheritdoc
depth getdepth item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
denot node denotesnod
path map pathmap element lru entri lruentri element
element
element depth getdepth
depth getdepth
inheritdoc
ancestor isancestor node nodeid node nodeid item itemid item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
item itemid denot node denotesnod
path map pathmap element lru entri lruentri element node nodeid
element
path map pathmap element lru entri lruentri child item itemid
child
element ancestor isancestorof child
ancestor isancestor node nodeid item itemid
itemstatelisten
inheritdoc
state creat statecr item state itemst creat
inheritdoc
state modifi statemodifi item state itemst modifi
modifi node isnod
node modifi nodemodifi node state nodest modifi
inheritdoc
path inform cach code modifi code iter
child node path map evict
longer exist underli code nodest code
node modifi nodemodifi node state nodest modifi
cach monitor cachemonitor
path map pathmap element lru entri lruentri element
cach path getcachedpath modifi node getnodeid
path map pathmap element lru entri lruentri child element children getchildren
child node entri childnodeentri cne modifi child node entri getchildnodeentri
child getnam child normal index getnormalizedindex
cne
item exist remov
evict child
lru entri lruentri child entri childentri child
child entri childentri
cne getid equal child entri childentri getid
child item remov
evict child
check consist checkconsist
list path map pathmap element lru entri lruentri cach path getcachedpath node nodeid
jcr handl root path special case
root node rootnodeid equal
collect singleton list singletonlist path cach pathcach map
path factori impl pathfactoryimpl instanc getinst root path getrootpath
lru entri lruentri entri lru entri lruentri cach idcach
entri
arrai list aslist entri element getel
collect empti list emptylist
inheritdoc
state destroi statedestroi item state itemst destroi
evict evictal destroi getid
inheritdoc
state discard statediscard item state itemst discard
discard transient istransi discard overlai state hasoverlayedst
discard statu getstatu item state itemst statu statu
node discard remov cach
evict evictal discard getid
provid item state hasitemst discard getid
evict evictal discard getid
evict evictal discard getid
inheritdoc
node ad nodead node state nodest state index node nodeid
optim ignor notif node cach
cach monitor cachemonitor
cach idcach kei containskei state node getnodeid
path path path factori impl pathfactoryimpl instanc getinst creat path getpath state node getnodeid index
node ad nodead state path
check consist checkconsist
path found except pathnotfoundexcept
log warn unabl path node state node getnodeid
event
malform path except malformedpathexcept
log warn unabl creat path
item found except itemnotfoundexcept
log warn unabl find item state node getnodeid
item state except itemstateexcept
log warn unabl find item
repositori except repositoryexcept
log warn unabl path state node getnodeid
inheritdoc
iter cach children state verifi
child' posit
node replac nodesreplac node state nodest state
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach state node getnodeid
entri
path map pathmap element lru entri lruentri parent entri element getel
hash map hashmap path element path map pathmap element lru entri lruentri children order newchildrenord
hash map hashmap path element path map pathmap element lru entri lruentri
order chang orderchang
path map pathmap element lru entri lruentri child parent children getchildren
lru entri lruentri child entri childentri lru entri lruentri child
child entri childentri
child uuid inform
unabl determin child'
posit accur assum
worst remov
evict child
node nodeid child childid child entri childentri getid
child node entri childnodeentri cne state child node entri getchildnodeentri child childid
cne
child longer parent node remov
evict child
put children map children order
posit chang
reorder
path element index newnameindex
path factori impl pathfactoryimpl instanc getinst creat element createel
cne getnam cne index getindex
children order newchildrenord put index newnameindex child
index newnameindex equal child path element getpathel
order chang orderchang
order chang orderchang
child chang posit reorder
parent set children setchildren children order newchildrenord
check consist checkconsist
inheritdoc
node remov noderemov node state nodest state index node nodeid
optim ignor notif node cach
cach monitor cachemonitor
cach idcach kei containskei state node getnodeid
path path path factori impl pathfactoryimpl instanc getinst creat path getpath state node getnodeid index
node remov noderemov state path
check consist checkconsist
path found except pathnotfoundexcept
log warn unabl path node state node getnodeid
event
malform path except malformedpathexcept
log warn unabl creat path
item state except itemstateexcept
log warn unabl find item
item found except itemnotfoundexcept
log warn unabl path state node getnodeid
repositori except repositoryexcept
log warn unabl path state node getnodeid
privat method
return cach path map
param node
return cach element code null code found
path map pathmap element lru entri lruentri item itemid
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach
entri
entri touch
entri element getel
return nearest cach element path map path
return element guarante object
code null code
param path path
return cach element code null code found
path map pathmap element lru entri lruentri map path path
cach monitor cachemonitor
path map pathmap element lru entri lruentri element path cach pathcach map path
element
lru entri lruentri entri element
entri
entri touch
element
element element parent getpar
cach item hierarchi path
param node
param path path item
cach node nodeid path path
cach monitor cachemonitor
cach iscach path
cach idcach size upper limit upperlimit
remov recent item scan lru list
head tail remov item children
lru entri lruentri entri head
entri
path map pathmap element lru entri lruentri element entri element getel
children count childrencount
element length
children count childrencount element children count getchildrencount
children count childrencount
evict evictal entri getid
entri entri getnext
path map pathmap element lru entri lruentri element path cach pathcach put path
element
equal lru entri lruentri element getid
log warn overwrit pathmap element
lru entri lruentri entri lru entri lruentri cach idcach
entri
entri lru entri lruentri element
cach idcach put entri
entri add element addel element
element set entri
check consist checkconsist
return flag indic node path cach
code path code code null code check item
cach code path code code null code
check item cach path
param item
param path path code null code
return code true code item cach
code fals code
cach iscach node nodeid path path
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach
entri
path
path map pathmap element lru entri lruentri element entri element getel
element length
element path haspath path
return flag indic path cach
param path item path
return code true code item cach
code fals code
cach iscach path path
cach monitor cachemonitor
path map pathmap element lru entri lruentri element path cach pathcach map path
element
element
remov path map item remov
code lruentri code code pathmap element code
index sibl element shift
param item
evict evictal item itemid shift
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach
entri
path map pathmap element lru entri lruentri element entri element getel
element length
evict element shift
check consist checkconsist
evict path map element cach travers children
element remov object
index sibl item shift
param element path map element
evict path map pathmap element lru entri lruentri element shift
assert synchron cachemonitor
element travers path map pathmap element visitor elementvisitor lru entri lruentri
element visit elementvisit path map pathmap element lru entri lruentri element
lru entri lruentri entri lru entri lruentri element
entri remov element removeel element
cach idcach remov entri getid
entri remov
element remov shift
invok notif child node addit receiv
param state node state child ad
param path path child node
param child node
throw pathnotfoundexcept path found
throw repositoryexcept path' direct ancestor determin
throw itemstateexcept resolv nodest
node ad nodead node state nodest state path path node nodeid
repositori except repositoryexcept item state except itemstateexcept
assert synchron cachemonitor
path map pathmap element lru entri lruentri element
lru entri lruentri entri lru entri lruentri cach idcach
entri
child node cach
reason
node move cach path outdat
node clone cach path valid
node state nodest child
item state hasitemst
child node state nodest item state getitemst
child child shareabl isshar
path map pathmap element lru entri lruentri element entri element getel
element element
element length
element remov
path map pathmap element lru entri lruentri parent path cach pathcach map path ancestor getancestor
parent
parent insert path element getnameel
element
store rememb element posit
path cach pathcach put path element
invok notif child node remov receiv
param state node state
param path node path
param node
throw pathnotfoundexcept path found
throw repositoryexcept path' direct ancestor determin
throw itemstateexcept resolv nodest
node remov noderemov node state nodest state path path node nodeid
repositori except repositoryexcept item state except itemstateexcept
assert synchron cachemonitor
path map pathmap element lru entri lruentri parent
path cach pathcach map path ancestor getancestor
parent
path map pathmap element lru entri lruentri element
parent descend getdescend path element getlastel
element
sn evict child
code code check item
pass argument
lru entri lruentri entri lru entri lruentri element
entri entri getid equal
item shareabl remov path
path item map
node state nodest child
item state hasitemst
child node state nodest item state getitemst
child child shareabl isshar
evict evictal
evict element
element cach remov sn
index shift
parent remov path element getnameel
dump content path map element includ string
string string tostr
string builder stringbuild builder string builder stringbuild
cach monitor cachemonitor
path cach pathcach travers path map pathmap element visitor elementvisitor lru entri lruentri
element visit elementvisit path map pathmap element lru entri lruentri element
element depth getdepth
builder append
builder append element getnam
index element index getindex
index index
builder append
builder append index
builder append
builder append
builder append element
builder append
builder string tostr
check consist
check consist checkconsist illeg state except illegalstateexcept
assert synchron cachemonitor
consist check enabl consistencychecken
element cach elementsincach
iter iter cach idcach valu iter
iter hasnext
lru entri lruentri entri lru entri lruentri iter
element cach elementsincach entri element getel length
path map element counter pathmapelementcount path map pathmap element visitor elementvisitor lru entri lruentri
count
element visit elementvisit path map pathmap element lru entri lruentri element
lru entri lruentri map entri mappedentri lru entri lruentri element
lru entri lruentri cach entri cachedentri lru entri lruentri cach idcach map entri mappedentri getid
cach entri cachedentri
string msg path element element
cach path map
map entri mappedentri getid
illeg state except illegalstateexcept msg
cach entri cachedentri map entri mappedentri
string msg lruentri element element
path map equal cach lruentri
cach entri cachedentri getid
illeg state except illegalstateexcept msg
path map pathmap element lru entri lruentri element cach entri cachedentri element getel
element length
element element
count
string msg element element
cach path map lruentri
cach entri cachedentri getid
illeg state except illegalstateexcept msg
path map element counter pathmapelementcount counter path map element counter pathmapelementcount
path cach pathcach travers counter
counter count element cach elementsincach
string msg pathmap element cach element count match
counter count element cach elementsincach
illeg state except illegalstateexcept msg
entri lru list
lru entri lruentri
previou entri
lru entri lruentri previou
entri
lru entri lruentri
node
node nodeid
element path map
path map pathmap element lru entri lruentri element
creat instanc class
param node
param element path map element entri
lru entri lruentri node nodeid path map pathmap element lru entri lruentri element
element path map pathmap element element
append
append entri end lru list
append
tail
head
tail
previou tail
tail
tail
remov entri lru list
remov
previou
previou
previou previou
head
head
tail
tail previou
previou
touch entri remov current posit lru list
move end
touch
remov
append
return lru entri
return lru entri
lru entri lruentri getnext
return node
return node
node nodeid getid
return element path map map code code
entri shareabl node descend
reach path
return element path map
path map pathmap element lru entri lruentri element getel
element
add map element
add element addel path map pathmap element lru entri lruentri element
path map pathmap element lru entri lruentri tmp
path map pathmap element element length
system arraycopi element tmp element length
tmp element length element
element tmp
remov map element entri
return number map left
remov element removeel path map pathmap element lru entri lruentri element
found
element length
found
element element
element element
found
found
path map pathmap element lru entri lruentri tmp
path map pathmap element element length
system arraycopi element tmp tmp length
element tmp
element length
inheritdoc
string string tostr
string tostr
