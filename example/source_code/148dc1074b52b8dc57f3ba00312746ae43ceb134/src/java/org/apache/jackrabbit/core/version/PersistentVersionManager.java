org apach jackrabbit core version
org apach jackrabbit core
org apach jackrabbit core util uuid uuid
org apach jackrabbit core nodetyp node type manag impl nodetypemanagerimpl
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state persist node state persistentnodest
org apach jackrabbit core state persist item state provid persistentitemstateprovid
org apach log4j logger
javax jcr node
javax jcr repositori except repositoryexcept
javax jcr
javax jcr workspac
java util iter
java util arrai list arraylist
java util hash map hashmap
class gener version function
persist version manag persistentversionmanag
logger
logger log logger logger getlogg persist version manag persistentversionmanag
root path version storag
qname version histori root version histori root qname namespac registri impl namespaceregistryimpl jcr uri jcr uri persistentversionstorag
'jcr historyid' properti
qname propnam histori propnam histori qname namespac registri impl namespaceregistryimpl jcr uri jcr uri historyid
'jcr versionid' properti
qname propnam version propnam version qname namespac registri impl namespaceregistryimpl jcr uri jcr uri versionid
'jcr versionlabels' node
qname nodenam version label nodenam version label qname namespac registri impl namespaceregistryimpl jcr uri jcr uri versionlabel
'jcr frozen' properti
qname nodenam frozen nodenam frozen qname namespac registri impl namespaceregistryimpl jcr uri jcr uri frozen
'jcr name' properti
qname propnam propnam qname namespac registri impl namespaceregistryimpl jcr uri jcr uri
'jcr version' properti
qname propnam version propnam version qname namespac registri impl namespaceregistryimpl jcr uri jcr uri version
persisten root node
node nodeid persist root persist root node nodeid facefac ab3b 48a9 b31b e7d0a9c1c3b1
persist root node version histori
persist node persistentnod histori root historyroot
state manag version storag
persist item state provid persistentitemstateprovid state mgr statemgr
nodetyp manag version storag
node type manag impl nodetypemanagerimpl mgr ntmgr
represent version manag workspac
hash map hashmap version manag versionmanag hash map hashmap
version histori
hash map hashmap histori hash map hashmap
creat persistentversionmanag
param session
throw repositoryexcept
persist version manag persistentversionmanag session impl sessionimpl session repositori except repositoryexcept
state mgr statemgr workspac impl workspaceimpl session workspac getworkspac persist state manag getpersistentstatemanag
mgr ntmgr session node type manag getnodetypemanag
node impl nodeimpl system root systemroot repositori impl repositoryimpl session repositori getrepositori system root node getsystemrootnod session
enabl make persist storag visibl
check versionhistori root
system root systemroot node hasnod version histori root version histori root
exist creat
system root systemroot add node addnod version histori root version histori root node type registri nodetyperegistri unstructur unstructur
system root systemroot save
persist node state persistentnodest node state nodest persist node state persistentnodest state mgr statemgr item state getitemst node nodeid system root systemroot node getnod version histori root version histori root intern uuid internalgetuuid
histori root historyroot persist node persistentnod state mgr statemgr mgr ntmgr node state nodest
state mgr statemgr item state hasitemst persist root persist root
persist node state persistentnodest node state nodest state mgr statemgr creat node state createnodest persist root persist root uuid getuuid node type registri nodetyperegistri unstructur unstructur
node state nodest set definit setdefinitionid node def nodedefid mgr ntmgr root node definit getrootnodedefinit unwrap
node state nodest store
histori root historyroot persist node persistentnod state mgr statemgr mgr ntmgr node state nodest
persist node state persistentnodest node state nodest persist node state persistentnodest state mgr statemgr item state getitemst persist root persist root
histori root historyroot persist node persistentnod state mgr statemgr mgr ntmgr node state nodest
item state except itemstateexcept
repositori except repositoryexcept unabl initi persistentversionmanag string tostr
creat version histori
param node node version histori initi
return newli creat version histori
throw repositoryexcept
intern version histori internalversionhistori creat version histori createversionhistori node impl nodeimpl node
repositori except repositoryexcept
creat deep path
string uuid uuid random uuid randomuuid string tostr
qname histori node historynodenam qname namespac registri impl namespaceregistryimpl default uri default uri uuid
histori root historyroot node hasnod histori node historynodenam
histori root historyroot remov node removenod histori node historynodenam
histori root historyroot store
creat histori node persist state
intern version histori internalversionhistori hist intern version histori internalversionhistori creat histori root historyroot uuid histori node historynodenam node
histori put hist getid hist
notifi version manag
version histori modifi onversionhistorymodifi hist
hist
return intern version histori
param histid histori
return
throw repositoryexcept
intern version histori internalversionhistori version histori getversionhistori string hist histid
repositori except repositoryexcept
intern version histori internalversionhistori hist intern version histori internalversionhistori histori hist histid
hist
uuid persist state share id
qname histori node historynodenam qname namespac registri impl namespaceregistryimpl default uri default uri hist histid
persist node persistentnod node hnode histori root historyroot node getnod histori node historynodenam
hist intern version histori internalversionhistori node hnode
histori put hist histid hist
hist
return iter exist version histori
return
throw repositoryexcept
iter version histori getversionhistori repositori except repositoryexcept
persist node persistentnod histori root historyroot child node getchildnod
arrai list arraylist list arrai list arraylist length
length
list add version histori getversionhistori getnam local getlocalnam
list iter
return intern version
param versionid
return
throw repositoryexcept
intern version internalvers version getvers string hist histid string version versionid
repositori except repositoryexcept
intern version histori internalversionhistori histori version histori getversionhistori hist histid
histori version getvers version versionid
inform version modifi
param version
version modifi onversionmodifi intern version internalvers version repositori except repositoryexcept
check version manag gener item state
iter iter version manag versionmanag valu iter
iter hasnext
version manag versionmanag iter version modifi onversionmodifi version
inform version modifi
param
version histori modifi onversionhistorymodifi intern version histori internalversionhistori repositori except repositoryexcept
check version manag gener item state
iter iter version manag versionmanag valu iter
iter hasnext
version manag versionmanag iter version histori modifi onversionhistorymodifi
check node
param node
return
throw repositoryexcept
node checkin
intern version internalvers checkin node impl nodeimpl node repositori except repositoryexcept
assum node version checkout check nodeimpl
creat version version node client call checkin
seri event
string hist uuid histuuid node properti getproperti version manag versionmanag propnam version histori propnam version histori string getstr
intern version histori internalversionhistori histori version histori getversionhistori hist uuid histuuid
resolv predecessor
valu node properti getproperti version manag versionmanag propnam predecessor propnam predecessor valu getvalu
intern version internalvers pred intern version internalvers valu length
valu length
pred histori version getvers valu string getstr
search predecessor suitabl gener
string version versionnam
max dot maxdot integ max max
pred length
pred successor
pred successor getsuccessor length
version versionnam pred getnam local getlocalnam versionnam pred getnam getlocalnam assum namespac version name
count dot
po
num dot numdot
version versionnam index indexof po
po version versionnam index indexof po
num dot numdot
num dot numdot max dot maxdot
max dot maxdot num dot numdot
version versionnam po version versionnam substr po integ pars int parseint version versionnam substr po
empti found gener
version versionnam
version versionnam pred getnam local getlocalnam
version versionnam
histori version hasvers qname version versionnam
histori checkin qname version versionnam node
return version manag
return
version manag versionmanag version manag getversionmanag workspac wsp
version manag versionmanag version manag versionmanag version manag versionmanag wsp getnam
version manag versionmanag
version manag versionmanag put wsp getnam
return node type manag version storag
return
node type manag impl nodetypemanagerimpl node type manag getnodetypemanag
mgr ntmgr
