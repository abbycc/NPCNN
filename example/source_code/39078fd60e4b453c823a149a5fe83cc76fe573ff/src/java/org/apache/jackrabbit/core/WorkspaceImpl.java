org apach jackrabbit core
org apach jackrabbit core config workspac config workspaceconfig
org apach jackrabbit core lock lock manag lockmanag
org apach jackrabbit core nodetyp child node def childnodedef
org apach jackrabbit core nodetyp effect node type effectivenodetyp
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core nodetyp node type conflict except nodetypeconflictexcept
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp prop def propdef
org apach jackrabbit core nodetyp prop def propdefid
org apach jackrabbit core observ observ manag impl observationmanagerimpl
org apach jackrabbit core search queri manag impl querymanagerimpl
org apach jackrabbit core secur access manag accessmanag
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core state share item state manag shareditemstatemanag
org apach jackrabbit core state transact item state manag transactionalitemstatemanag
org apach jackrabbit core util uuid uuid
org apach jackrabbit core xml import handler importhandl
org apach jackrabbit core version version selector versionselector
org apach jackrabbit core version version impl versionimpl
org apach jackrabbit core version gener version selector genericversionselector
org apach jackrabbit core version intern version internalvers
org apach log4j logger
org xml sax attribut
org xml sax content handler contenthandl
org xml sax input sourc inputsourc
org xml sax locat
org xml sax sax except saxexcept
org xml sax xml reader xmlreader
org xml sax helper xml reader factori xmlreaderfactori
javax jcr access deni except accessdeniedexcept
javax jcr invalid item state except invaliditemstateexcept
javax jcr invalid serial data except invalidserializeddataexcept
javax jcr item exist except itemexistsexcept
javax jcr item found except itemnotfoundexcept
javax jcr namespac registri namespaceregistri
javax jcr workspac except nosuchworkspaceexcept
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr unsupport repositori oper except unsupportedrepositoryoperationexcept
javax jcr workspac
javax jcr lock lock except lockexcept
javax jcr nodetyp constraint violat except constraintviolationexcept
javax jcr nodetyp node type manag nodetypemanag
javax jcr observ observ manag observationmanag
javax jcr queri queri manag querymanag
javax jcr version version
javax jcr version version except versionexcept
javax jcr version version histori versionhistori
java except ioexcept
java input stream inputstream
java print stream printstream
java util arrai list arraylist
java util hash set hashset
java util iter
java util hash map hashmap
code workspaceimpl code
workspac impl workspaceimpl workspac constant
logger log logger logger getlogg workspac impl workspaceimpl
configur code workspac code
workspac config workspaceconfig wsp config wspconfig
repositori creat workspac instanc
repositori impl repositoryimpl rep
persist state mgr workspac repres
code workspac code instanc
transact item state manag transactionalitemstatemanag state mgr statemgr
hierarchi mgr reflect persist state
isol transient made
session
hierarchi manag impl hierarchymanagerimpl hier mgr hiermgr
code observationmanag code instanc session
observ manag impl observationmanagerimpl ob mgr obsmgr
code querymanag code code workspac code
queri manag impl querymanagerimpl queri manag querymanag
session acquir code workspac code
session impl sessionimpl session
code lockmanag code code workspac code
lock manag lockmanag lock mgr lockmgr
packag privat constructor
param wspconfig
param statemgr
param rep
param session
workspac impl workspaceimpl workspac config workspaceconfig wsp config wspconfig
share item state manag shareditemstatemanag state mgr statemgr
repositori impl repositoryimpl rep
session impl sessionimpl session
wsp config wspconfig wsp config wspconfig
rep rep
state mgr statemgr transact item state manag transactionalitemstatemanag state mgr statemgr
hier mgr hiermgr hierarchi manag impl hierarchymanagerimpl rep root node uuid getrootnodeuuid
state mgr statemgr session namespac resolv getnamespaceresolv
session session
hierarchi manag reflect workspac state
isol transient made
session
return hierarchi manag workspac
hierarchi manag hierarchymanag hierarchi manag gethierarchymanag
hier mgr hiermgr
return item state manag workspac
repres code workspac code instanc
return item state manag workspac
transact item state manag transactionalitemstatemanag item state manag getitemstatemanag
state mgr statemgr
dump state code workspac code instanc
diagnost purpos
param
throw repositoryexcept
dump print stream printstream repositori except repositoryexcept
println workspac wsp config wspconfig getnam
println
persistentstatemgr dump
dispos code workspaceimpl code free resourc
dispos
ob mgr obsmgr
ob mgr obsmgr dispos
ob mgr obsmgr
perform saniti check workspac session
throw repositoryexcept workspac render invalid
reason
saniti check sanitycheck repositori except repositoryexcept
check session statu
session saniti check sanitycheck
creat workspac
param workspacenam workspac
throw accessdeniedexcept current session allow
creat workspac
throw repositoryexcept workspac
exist error occur
getaccessibleworkspacenam
creat workspac createworkspac string workspac workspacenam
access deni except accessdeniedexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
session creat workspac createworkspac workspac workspacenam
param parentid
param nodenam
param nodetypenam
throw constraintviolationexcept
throw accessdeniedexcept
throw itemnotfoundexcept
throw itemexistsexcept
throw repositoryexcept
check add node checkaddnod node nodeid parent parentid qname node nodenam qname node type nodetypenam
constraint violat except constraintviolationexcept access deni except accessdeniedexcept
item found except itemnotfoundexcept item exist except itemexistsexcept repositori except repositoryexcept
node state nodest parent state parentst node state getnodest parent parentid
access right
access manag accessmanag access mgr accessmgr session access manag getaccessmanag
access mgr accessmgr grant isgrant parent parentid access manag accessmanag read
item found except itemnotfoundexcept hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
access mgr accessmgr grant isgrant parent parentid access manag accessmanag write
access deni except accessdeniedexcept hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
allow add child node
check node type constraint
node type registri nodetyperegistri reg ntreg rep node type registri getnodetyperegistri
child node def childnodedef parent def parentdef reg ntreg node def getnodedef parent state parentst definit getdefinitionid
parent def parentdef protect isprotect
constraint violat except constraintviolationexcept hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
add child node protect parent node
effect node type effectivenodetyp ent parent entpar effect node type geteffectivenodetyp parent state parentst
ent parent entpar check add node constraint checkaddnodeconstraint node nodenam node type nodetypenam
child node def childnodedef node def newnodedef
find applic definit findapplicabledefinit node nodenam node type nodetypenam parent state parentst
check collis
parent state parentst properti entri haspropertyentri node nodenam
properti
item exist except itemexistsexcept add child node
node nodenam local getlocalnam
hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
collid name exist properti
parent state parentst child node entri haschildnodeentri node nodenam
node
definit exist conflict node
node state nodest child node entri childnodeentri entri parent state parentst child node entri getchildnodeentri node nodenam
node state nodest conflict state conflictingst
node nodeid conflict conflictingid node nodeid entri uuid getuuid
conflict state conflictingst node state nodest state mgr statemgr item state getitemst conflict conflictingid
item state except itemstateexcept is
string msg intern error fail retriev state
hier mgr hiermgr safe jcr path safegetjcrpath conflict conflictingid
log debug msg
repositori except repositoryexcept msg is
child node def childnodedef conflict target def conflictingtargetdef
reg ntreg node def getnodedef conflict state conflictingst definit getdefinitionid
check sibl set target exist node
conflict target def conflictingtargetdef sib allowsamenamesib
node def newnodedef sib allowsamenamesib
item exist except itemexistsexcept add child node
node nodenam local getlocalnam
hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
collid name exist node
param parentpath
param nodenam
param nodetypenam
throw constraintviolationexcept
throw accessdeniedexcept
throw pathnotfoundexcept
throw itemexistsexcept
throw repositoryexcept
check add node checkaddnod path parent path parentpath qname node nodenam qname node type nodetypenam
constraint violat except constraintviolationexcept access deni except accessdeniedexcept
path found except pathnotfoundexcept item exist except itemexistsexcept repositori except repositoryexcept
node state nodest parent state parentst node state getnodest parent path parentpath
check add node checkaddnod node nodeid parent state parentst getid node nodenam node type nodetypenam
param nodeid
throw constraintviolationexcept
throw accessdeniedexcept
throw itemnotfoundexcept
throw repositoryexcept
check remov node checkremovenod node nodeid node nodeid
constraint violat except constraintviolationexcept access deni except accessdeniedexcept
item found except itemnotfoundexcept repositori except repositoryexcept
node state nodest target state targetst node state getnodest node nodeid
target state targetst parent uuid getparentuuid
root orphan node
constraint violat except constraintviolationexcept remov root node
node nodeid parent parentid node nodeid target state targetst parent uuid getparentuuid
node state nodest parent state parentst node state getnodest parent parentid
access right
access manag accessmanag access mgr accessmgr session access manag getaccessmanag
access mgr accessmgr grant isgrant target state targetst getid access manag accessmanag read
path found except pathnotfoundexcept hier mgr hiermgr safe jcr path safegetjcrpath node nodeid
access mgr accessmgr grant isgrant target state targetst getid access manag accessmanag remov
access deni except accessdeniedexcept hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
allow remov node
item found except itemnotfoundexcept inf
string msg intern error fail check access right
hier mgr hiermgr safe jcr path safegetjcrpath node nodeid
log debug msg
repositori except repositoryexcept msg inf
check node type constraint
node type registri nodetyperegistri reg ntreg rep node type registri getnodetyperegistri
child node def childnodedef parent def parentdef reg ntreg node def getnodedef parent state parentst definit getdefinitionid
parent def parentdef protect isprotect
constraint violat except constraintviolationexcept hier mgr hiermgr safe jcr path safegetjcrpath parent parentid
remov child node protect parent node
child node def childnodedef target def targetdef reg ntreg node def getnodedef target state targetst definit getdefinitionid
target def targetdef mandatori ismandatori
constraint violat except constraintviolationexcept hier mgr hiermgr safe jcr path safegetjcrpath node nodeid
remov mandatori node
target def targetdef protect isprotect
constraint violat except constraintviolationexcept hier mgr hiermgr safe jcr path safegetjcrpath node nodeid
remov protect node
param nodepath
throw constraintviolationexcept
throw accessdeniedexcept
throw pathnotfoundexcept
throw repositoryexcept
check remov node checkremovenod path node path nodepath
constraint violat except constraintviolationexcept access deni except accessdeniedexcept
path found except pathnotfoundexcept repositori except repositoryexcept
node state nodest target state targetst node state getnodest node path nodepath
check remov node checkremovenod node nodeid target state targetst getid
verifi node code nodepath code check throw
code versionexcept code case
node consid check version
check version nearest version ancestor
check version version
ancestor
param nodepath
throw versionexcept
throw repositoryexcept
verifi check verifycheckedout path node path nodepath
version except versionexcept repositori except repositoryexcept
search nearest ancestor version start node nodepath
fixm reli exist jcr ischeckedout properti
verifi node isnodetyp mix version true
neg impact perform
node state nodest node state nodest node state getnodest node path nodepath
node state nodest properti entri haspropertyentri jcr ischeckedout jcr ischeckedout
node path nodepath denot root denotesroot
node path nodepath node path nodepath ancestor getancestor
node state nodest node state getnodest node path nodepath
properti propertyid prop propid
properti propertyid node state nodest uuid getuuid jcr ischeckedout jcr ischeckedout
properti state propertyst prop state propstat
prop state propstat properti state propertyst state mgr statemgr item state getitemst prop propid
item state except itemstateexcept is
string msg intern error fail retriev state
hier mgr hiermgr safe jcr path safegetjcrpath prop propid
log debug msg
repositori except repositoryexcept msg is
check checkedout boolean prop state propstat valu getvalu intern internalvalu boolean booleanvalu
check checkedout
version except versionexcept hier mgr hiermgr safe jcr path safegetjcrpath node path nodepath check
param nodepath
return
throw pathnotfoundexcept
throw repositoryexcept
node state nodest node state getnodest path node path nodepath
path found except pathnotfoundexcept repositori except repositoryexcept
item itemid hier mgr hiermgr resolv path resolvepath node path nodepath
denot node denotesnod
path found except pathnotfoundexcept hier mgr hiermgr safe jcr path safegetjcrpath node path nodepath
node state nodest state mgr statemgr item state getitemst
item state except nosuchitemstateexcept nsise
path found except pathnotfoundexcept hier mgr hiermgr safe jcr path safegetjcrpath node path nodepath
item state except itemstateexcept is
string msg intern error fail retriev state
hier mgr hiermgr safe jcr path safegetjcrpath node path nodepath
log debug msg
repositori except repositoryexcept msg is
param
return
throw itemnotfoundexcept
throw repositoryexcept
node state nodest node state getnodest node nodeid
item found except itemnotfoundexcept repositori except repositoryexcept
node state nodest state mgr statemgr item state getitemst
item state except nosuchitemstateexcept nsise
item found except itemnotfoundexcept hier mgr hiermgr safe jcr path safegetjcrpath
item state except itemstateexcept is
string msg intern error fail retriev state
hier mgr hiermgr safe jcr path safegetjcrpath
log debug msg
repositori except repositoryexcept msg is
helper method build effect merg resolv
node type represent node' primari mixin
node type
param state
return effect node type
throw repositoryexcept
effect node type effectivenodetyp effect node type geteffectivenodetyp node state nodest state
repositori except repositoryexcept
build effect node type mixin primari type
exist mixin'
hash set hashset set hash set hashset state mixin type name getmixintypenam
primari type
set add state node type getnodetypenam
node type registri nodetyperegistri reg ntreg rep node type registri getnodetyperegistri
reg ntreg effect node type geteffectivenodetyp qname set arrai toarrai qname set size
node type conflict except nodetypeconflictexcept ntce
string msg
intern error fail build effect node type node
state uuid getuuid
log debug msg
repositori except repositoryexcept msg ntce
helper method find applic definit
child node node type parent node'
node type mixin type
param
param nodetypenam
param parentst
return code childnodedef code
throw constraintviolationexcept applic child node definit
found
throw repositoryexcept error occur
child node def childnodedef find applic definit findapplicabledefinit qname
qname node type nodetypenam
node state nodest parent state parentst
repositori except repositoryexcept constraint violat except constraintviolationexcept
effect node type effectivenodetyp ent parent entpar effect node type geteffectivenodetyp parent state parentst
ent parent entpar applic child node def getapplicablechildnodedef node type nodetypenam
node state nodest copi node state copynodest node state nodest src state srcstate
string parent uuid parentuuid
item state manag itemstatemanag src state mgr srcstatemgr
clone
repositori except repositoryexcept
node state nodest state newstat
string uuid
clone
uuid src state srcstate uuid getuuid
todo fixm check mix referenc
make copi refer properti
refer uuid
uuid uuid random uuid randomuuid string tostr uuid uuid randomuuid tostr creat version uuid
state newstat state mgr statemgr creat createnew uuid src state srcstate node type getnodetypenam parent uuid parentuuid
copi node state
todo special handl requir node special semant defin mix version
fixm deleg 'node type instanc handler'
state newstat set mixin type name setmixintypenam src state srcstate mixin type name getmixintypenam
state newstat set definit setdefinitionid src state srcstate definit getdefinitionid
copi child node
iter iter src state srcstate child node entri getchildnodeentri iter
iter hasnext
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri iter
node state nodest src child state srcchildstat
node state nodest src state mgr srcstatemgr item state getitemst node nodeid entri uuid getuuid
recurs copi child node
node state nodest child state newchildst copi node state copynodest src child state srcchildstat uuid
src state mgr srcstatemgr clone
persist child node
state mgr statemgr store child state newchildst
add child node entri node
state newstat add child node entri addchildnodeentri entri getnam child state newchildst uuid getuuid
copi properti
iter src state srcstate properti entri getpropertyentri iter
iter hasnext
node state nodest properti entri propertyentri entri node state nodest properti entri propertyentri iter
properti state propertyst src child state srcchildstat
properti state propertyst src state mgr srcstatemgr item state getitemst properti propertyid src state srcstate uuid getuuid entri getnam
properti state propertyst child state newchildst
copi properti state copypropertyst src child state srcchildstat uuid entri getnam
persist properti
state mgr statemgr store child state newchildst
add properti entri node
state newstat add properti entri addpropertyentri entri getnam
state newstat
item state except itemstateexcept is
string msg intern error fail copi state src state srcstate getid
log debug msg
repositori except repositoryexcept msg is
properti state propertyst copi properti state copypropertyst properti state propertyst src state srcstate
string parent uuid parentuuid
qname prop propnam
repositori except repositoryexcept
todo special handl requir properti special semant defin mix version mix lockabl
properti state propertyst state newstat state mgr statemgr creat createnew prop propnam parent uuid parentuuid
prop def propdefid def defid src state srcstate definit getdefinitionid
state newstat set definit setdefinitionid def defid
state newstat set type settyp src state srcstate type gettyp
state newstat set multi valu setmultivalu src state srcstate multi valu ismultivalu
intern internalvalu valu src state srcstate valu getvalu
valu
intern internalvalu valu newvalu intern internalvalu valu length
valu length
valu newvalu valu valu creat copi createcopi
state newstat set valu setvalu valu
fixm deleg 'node type instanc handler'
def defid
prop def propdef def rep node type registri getnodetyperegistri prop def getpropdef def defid
def declar node type getdeclaringnodetyp equal mix referenc mix referenc
prop propnam equal jcr uuid jcr uuid
set correct jcr uuid properti
state newstat set valu setvalu intern internalvalu intern internalvalu creat parent uuid parentuuid
state newstat
intern copi internalcopi string src ab path srcabspath
workspac impl workspaceimpl src wsp srcwsp
string dest ab path destabspath
clone
constraint violat except constraintviolationexcept access deni except accessdeniedexcept
version except versionexcept path found except pathnotfoundexcept item exist except itemexistsexcept
lock except lockexcept repositori except repositoryexcept
check path retriev state
path src path srcpath
node state nodest src state srcstate
src path srcpath path creat src ab path srcabspath session namespac resolv getnamespaceresolv
src state srcstate src wsp srcwsp node state getnodest src path srcpath
malform path except malformedpathexcept mpe
string msg invalid path src ab path srcabspath
log debug msg
repositori except repositoryexcept msg mpe
path dest path destpath
path path element pathel dest destnam
path dest parent path destparentpath
node state nodest dest parent state destparentst
dest path destpath path creat dest ab path destabspath session namespac resolv getnamespaceresolv
dest destnam dest path destpath element getnameel
dest parent path destparentpath dest path destpath ancestor getancestor
dest parent state destparentst node state getnodest dest parent path destparentpath
malform path except malformedpathexcept mpe
string msg invalid path dest ab path destabspath
log debug msg
repositori except repositoryexcept msg mpe
ind dest destnam index getindex
ind
subscript element
string msg dest ab path destabspath
invalid destin path subscript element allow
log debug msg
repositori except repositoryexcept msg
make destin parent node check
verifi check verifycheckedout dest parent path destparentpath
check lock statu
lock manag getlockmanag check lock checklock dest parent path destparentpath session
check access right node type constraint
check read access sourc node
session access manag getaccessmanag grant isgrant src state srcstate getid access manag accessmanag read
path found except pathnotfoundexcept src ab path srcabspath
item found except itemnotfoundexcept inf
string msg intern error fail check access right src ab path srcabspath
log debug msg
repositori except repositoryexcept msg inf
check node type constraint
check add node checkaddnod dest parent path destparentpath dest destnam getnam src state srcstate node type getnodetypenam
copi oper modifi persist affect state
succeed
state mgr statemgr edit
creat deep copi sourc node state
node state nodest state newstat copi node state copynodest src state srcstate dest parent state destparentst uuid getuuid
src wsp srcwsp item state manag getitemstatemanag clone
add parent
dest parent state destparentst add child node entri addchildnodeentri dest destnam getnam state newstat uuid getuuid
chang definit node
child node def childnodedef node def newnodedef
find applic definit findapplicabledefinit dest destnam getnam
src state srcstate node type getnodetypenam dest parent state destparentst
state newstat set definit setdefinitionid node def nodedefid node def newnodedef
store state
state mgr statemgr store state newstat
state mgr statemgr store dest parent state destparentst
finish updat oper
state mgr statemgr updat
succeed
item state except itemstateexcept is
string msg intern error fail persist state dest ab path destabspath
log debug msg
repositori except repositoryexcept msg is
succeed
updat oper fail cancel modif
state mgr statemgr cancel
return lock manag workspac creat
instanc
return lock manag workspac
throw repositoryexcept error occur
lock manag lockmanag lock manag getlockmanag repositori except repositoryexcept
check state instanc
saniti check sanitycheck
lock mgr lockmgr
lock mgr lockmgr rep lock manag getlockmanag wsp config wspconfig getnam
lock mgr lockmgr
workspac
inheritdoc
string getnam
wsp config wspconfig getnam
inheritdoc
session session getsess
session
inheritdoc
namespac registri namespaceregistri namespac registri getnamespaceregistri repositori except repositoryexcept
check state instanc
saniti check sanitycheck
rep namespac registri getnamespaceregistri
inheritdoc
node type manag nodetypemanag node type manag getnodetypemanag repositori except repositoryexcept
check state instanc
saniti check sanitycheck
session node type manag getnodetypemanag
inheritdoc
clone string src workspac srcworkspac string src ab path srcabspath
string dest ab path destabspath remov exist removeexist
workspac except nosuchworkspaceexcept constraint violat except constraintviolationexcept
version except versionexcept access deni except accessdeniedexcept path found except pathnotfoundexcept
item exist except itemexistsexcept lock except lockexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
check workspac
getnam equal src workspac srcworkspac
current workspac
string msg src workspac srcworkspac illeg workspac current
log debug msg
repositori except repositoryexcept msg
todo implement workspac clone respect removeexist flag
check author workspac
session access manag getaccessmanag access canaccess src workspac srcworkspac
access deni except accessdeniedexcept author access src workspac srcworkspac
clone pull subtre srcabspath srcworkspac
'this' workspac destabspath
session impl sessionimpl src session srcsession
creat session workspac current subject
throw nosuchworkspaceexcept accessdeniedexcept
src session srcsession rep creat session createsess session subject getsubject src workspac srcworkspac
workspac impl workspaceimpl src wsp srcwsp workspac impl workspaceimpl src session srcsession workspac getworkspac
cross workspac copi
intern copi internalcopi src ab path srcabspath src wsp srcwsp dest ab path destabspath
src session srcsession
session anymor logout
src session srcsession logout
inheritdoc
copi string src ab path srcabspath string dest ab path destabspath
constraint violat except constraintviolationexcept version except versionexcept
access deni except accessdeniedexcept path found except pathnotfoundexcept item exist except itemexistsexcept
lock except lockexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
intra workspac copi
intern copi internalcopi src ab path srcabspath dest ab path destabspath
inheritdoc
copi string src workspac srcworkspac string src ab path srcabspath string dest ab path destabspath
workspac except nosuchworkspaceexcept constraint violat except constraintviolationexcept
version except versionexcept access deni except accessdeniedexcept path found except pathnotfoundexcept
item exist except itemexistsexcept lock except lockexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
check workspac
getnam equal src workspac srcworkspac
current workspac deleg intra workspac copi method
copi src ab path srcabspath dest ab path destabspath
check author workspac
session access manag getaccessmanag access canaccess src workspac srcworkspac
access deni except accessdeniedexcept author access src workspac srcworkspac
copi pull subtre srcabspath srcworkspac
'this' workspac destabspath
session impl sessionimpl src session srcsession
creat session workspac current subject
throw nosuchworkspaceexcept accessdeniedexcept
src session srcsession rep creat session createsess session subject getsubject src workspac srcworkspac
workspac impl workspaceimpl src wsp srcwsp workspac impl workspaceimpl src session srcsession workspac getworkspac
cross workspac copi
intern copi internalcopi src ab path srcabspath src wsp srcwsp dest ab path destabspath
src session srcsession
session anymor logout
src session srcsession logout
inheritdoc
move string src ab path srcabspath string dest ab path destabspath
constraint violat except constraintviolationexcept version except versionexcept
access deni except accessdeniedexcept path found except pathnotfoundexcept item exist except itemexistsexcept
lock except lockexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
intra workspac move
check path retriev state
path src path srcpath
path path element pathel src srcname
path src parent path srcparentpath
node state nodest target state targetst
node state nodest src parent state srcparentst
src path srcpath path creat src ab path srcabspath session namespac resolv getnamespaceresolv
src srcname src path srcpath element getnameel
src parent path srcparentpath src path srcpath ancestor getancestor
target state targetst node state getnodest src path srcpath
src parent state srcparentst node state getnodest src parent path srcparentpath
malform path except malformedpathexcept mpe
string msg invalid path src ab path srcabspath
log debug msg
repositori except repositoryexcept msg mpe
path dest path destpath
path path element pathel dest destnam
path dest parent path destparentpath
node state nodest dest parent state destparentst
dest path destpath path creat dest ab path destabspath session namespac resolv getnamespaceresolv
src path srcpath ancestor isancestorof dest path destpath
string msg dest ab path destabspath invalid destin path descend sourc path
log debug msg
repositori except repositoryexcept msg
dest destnam dest path destpath element getnameel
dest parent path destparentpath dest path destpath ancestor getancestor
dest parent state destparentst node state getnodest dest parent path destparentpath
malform path except malformedpathexcept mpe
string msg invalid path dest ab path destabspath
log debug msg
repositori except repositoryexcept msg mpe
ind dest destnam index getindex
ind
subscript element
string msg dest ab path destabspath invalid destin path subscript element allow
log debug msg
repositori except repositoryexcept msg
make sourc destin parent node check
verifi check verifycheckedout src parent path srcparentpath
verifi check verifycheckedout dest parent path destparentpath
check lock statu
lock manag getlockmanag check lock checklock dest parent path destparentpath session
check node type constraint access right
check remov node checkremovenod src path srcpath
check add node checkaddnod dest parent path destparentpath dest destnam getnam target state targetst node type getnodetypenam
move oper modifi persist affect state
succeed
state mgr statemgr edit
renam renameonli src parent state srcparentst uuid getuuid equal dest parent state destparentst uuid getuuid
add parent
renam renameonli
target state targetst add parent uuid addparentuuid dest parent state destparentst uuid getuuid
dest parent state destparentst add child node entri addchildnodeentri dest destnam getnam target state targetst uuid getuuid
chang definit target node
child node def childnodedef target def newtargetdef find applic definit findapplicabledefinit dest destnam getnam target state targetst node type getnodetypenam dest parent state destparentst
target state targetst set definit setdefinitionid node def nodedefid target def newtargetdef
remov parent
renam renameonli
target state targetst remov parent uuid removeparentuuid src parent state srcparentst uuid getuuid
src index srcnameindex src srcname index getindex src srcname index getindex
src parent state srcparentst remov child node entri removechildnodeentri src srcname getnam src index srcnameindex
store state
state mgr statemgr store target state targetst
renam renameonli
state mgr statemgr store src parent state srcparentst
state mgr statemgr store dest parent state destparentst
state mgr statemgr store src parent state srcparentst
finish updat
state mgr statemgr updat
succeed
item state except itemstateexcept is
string msg intern error fail persist state dest ab path destabspath
log debug msg
repositori except repositoryexcept msg is
succeed
updat oper fail cancel modif
state mgr statemgr cancel
inheritdoc
observ manag observationmanag observ manag getobservationmanag
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
ob mgr obsmgr
ob mgr obsmgr rep observ manag factori getobservationmanagerfactori wsp config wspconfig getnam creat observ manag createobservationmanag session session item manag getitemmanag
workspac except nosuchworkspaceexcept nswe
string msg intern error fail instanti observ manag
log debug msg
repositori except repositoryexcept msg nswe
ob mgr obsmgr
inheritdoc
queri manag querymanag queri manag getquerymanag repositori except repositoryexcept
check state instanc
saniti check sanitycheck
queri manag querymanag
search manag searchmanag search manag searchmanag
search manag searchmanag rep search manag getsearchmanag wsp config wspconfig getnam
search manag searchmanag
string msg search manag configur workspac
log debug msg
repositori except repositoryexcept msg
workspac except nosuchworkspaceexcept nswe
string msg intern error fail instanti queri manag
log debug msg
repositori except repositoryexcept msg nswe
queri manag querymanag queri manag impl querymanagerimpl session session item manag getitemmanag search manag searchmanag
queri manag querymanag
inheritdoc
restor version version remov exist removeexist
item exist except itemexistsexcept unsupport repositori oper except unsupportedrepositoryoperationexcept
version except versionexcept lock except lockexcept invalid item state except invaliditemstateexcept
repositori except repositoryexcept
todo perform restor oper direct node state
check state instanc
saniti check sanitycheck
add version map version restor
hash map hashmap restor torestor hash map hashmap
version length
version impl versionimpl version impl versionimpl version
version histori versionhistori version histori getcontainingversionhistori
check collis
restor torestor kei containskei uuid getuuid
version except versionexcept unabl restor or version version histori
restor torestor put uuid getuuid
creat version selector set version
version selector versionselector vsel version selector versionselector
version select version histori versionhistori version histori versionhistori repositori except repositoryexcept
select version
version version restor torestor version histori versionhistori uuid getuuid
select latest
gener version selector genericversionselector select date selectbyd version histori versionhistori
check pend
session pend haspendingchang
string msg unabl restor version session pend
log debug msg
invalid item state except invaliditemstateexcept msg
restor version node
num restor numrestor
restor torestor size
intern version internalvers restor
iter iter restor torestor valu iter
iter hasnext
version impl versionimpl version impl versionimpl iter
node impl nodeimpl node node impl nodeimpl session node uuid getnodebyuuid frozen node getfrozennod frozen uuid getfrozenuuid
restor node intern restor internalrestor intern version getinternalvers vsel remov exist removeexist
remov restor version set
restor length
restor torestor remov restor version histori getversionhistori getid
num restor numrestor restor length
item found except itemnotfoundexcept
ignor
restor
num restor numrestor
version except versionexcept unabl restor version exist version node workspac
version except versionexcept unabl restor version exist version node parent
repositori except repositoryexcept
revert session
log error revert appli restor
session refresh
repositori except repositoryexcept
ignor
session save
inheritdoc
string access workspac name getaccessibleworkspacenam repositori except repositoryexcept
check state instanc
saniti check sanitycheck
filter workspac access right
arrai list arraylist list arrai list arraylist
string name session workspac name getworkspacenam
name length
session access manag getaccessmanag access canaccess name
list add name
string list arrai toarrai string list size
inheritdoc
content handler contenthandl import content handler getimportcontenthandl string parent ab path parentabspath
uuid behavior uuidbehavior
path found except pathnotfoundexcept constraint violat except constraintviolationexcept
version except versionexcept lock except lockexcept repositori except repositoryexcept
code import temporari session
work special workspaceimport pass
transient layer
todo replac special workspaceimport fulli implement
creat temporari session order prevent state
current session
session impl sessionimpl tmp session tmpsession rep creat session createsess session subject getsubject getnam
content handler contenthandl handler
tmp session tmpsession import content handler getimportcontenthandl parent ab path parentabspath
content handler contenthandl
end document enddocu sax except saxexcept
handler end document enddocu
save logout
tmp session tmpsession save
repositori except repositoryexcept
sax except saxexcept
tmp session tmpsession logout
start document startdocu sax except saxexcept
handler start document startdocu
charact start length sax except saxexcept
handler charact start length
ignor whitespac ignorablewhitespac start length sax except saxexcept
handler ignor whitespac ignorablewhitespac start length
end prefix map endprefixmap string prefix sax except saxexcept
handler end prefix map endprefixmap prefix
skip entiti skippedent string sax except saxexcept
handler end prefix map endprefixmap
set document locat setdocumentloc locat locat
handler set document locat setdocumentloc locat
process instruct processinginstruct string target string data sax except saxexcept
handler process instruct processinginstruct target data
start prefix map startprefixmap string prefix string uri sax except saxexcept
handler start prefix map startprefixmap prefix uri
end element endel string namespac uri namespaceuri string local localnam string qname sax except saxexcept
handler end element endel namespac uri namespaceuri local localnam qname
start element startel string namespac uri namespaceuri string local localnam string qname attribut att sax except saxexcept
handler start element startel namespac uri namespaceuri local localnam qname att
check state instanc
sanitycheck
check path retriev state
path parentpath
nodest parentst
parentpath path creat parentabspath session getnamespaceresolv true
parentst getnodest parentpath
catch malformedpathexcept mpe
string msg invalid path parentabspath
log debug msg
throw repositoryexcept msg mpe
make import target node check
verifycheckedout parentpath
check lock statu
getlockmanag checklock parentpath session
import import workspaceimport parentst uuidbehavior
return importhandl import session getnamespaceresolv
rep getnamespaceregistri
inheritdoc
import xml importxml string parent ab path parentabspath input stream inputstream
uuid behavior uuidbehavior
except ioexcept path found except pathnotfoundexcept item exist except itemexistsexcept
constraint violat except constraintviolationexcept invalid serial data except invalidserializeddataexcept
lock except lockexcept repositori except repositoryexcept
import handler importhandl handler
import handler importhandl import content handler getimportcontenthandl parent ab path parentabspath uuid behavior uuidbehavior
xml reader xmlreader parser
xml reader factori xmlreaderfactori creat xml reader createxmlread org apach xerc parser saxpars
parser set content handler setcontenthandl handler
parser set error handler seterrorhandl handler
parser pars input sourc inputsourc
sax except saxexcept
check wrap repositori except
except except getexcept
repositori except repositoryexcept
repositori except repositoryexcept
string msg fail pars xml stream
log debug msg
invalid serial data except invalidserializeddataexcept msg
