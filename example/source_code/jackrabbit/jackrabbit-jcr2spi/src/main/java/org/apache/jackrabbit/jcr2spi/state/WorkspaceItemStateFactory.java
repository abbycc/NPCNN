org apach jackrabbit jcr2spi state
java util arrai list arraylist
java util collect
java util iter
java util list
java util set
javax jcr item exist except itemexistsexcept
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
org apach jackrabbit jcr2spi hierarchi hierarchi entri hierarchyentri
org apach jackrabbit jcr2spi hierarchi node entri nodeentri
org apach jackrabbit jcr2spi hierarchi properti entri propertyentri
org apach jackrabbit jcr2spi nodetyp item definit provid itemdefinitionprovid
org apach jackrabbit spi child info childinfo
org apach jackrabbit spi factori idfactori
org apach jackrabbit spi item info iteminfo
org apach jackrabbit spi item info cach iteminfocach
org apach jackrabbit spi
org apach jackrabbit spi node nodeid
org apach jackrabbit spi node info nodeinfo
org apach jackrabbit spi path
org apach jackrabbit spi path factori pathfactori
org apach jackrabbit spi properti propertyid
org apach jackrabbit spi properti info propertyinfo
org apach jackrabbit spi repositori servic repositoryservic
org apach jackrabbit spi session info sessioninfo
org apach jackrabbit spi item info cach iteminfocach entri
org apach jackrabbit spi common constant nameconst
org slf4j logger
org slf4j logger factori loggerfactori
code workspaceitemstatefactori code
workspac item state factori workspaceitemstatefactori abstract item state factori abstractitemstatefactori
logger log logger factori loggerfactori logger getlogg workspac item state factori workspaceitemstatefactori
repositori servic repositoryservic servic
session info sessioninfo session info sessioninfo
item definit provid itemdefinitionprovid definit provid definitionprovid
item info cach iteminfocach cach
workspac item state factori workspaceitemstatefactori repositori servic repositoryservic servic session info sessioninfo session info sessioninfo
item definit provid itemdefinitionprovid definit provid definitionprovid item info cach iteminfocach cach
servic servic
session info sessioninfo session info sessioninfo
definit provid definitionprovid definit provid definitionprovid
cach cach
node state nodest creat root state createrootst node entri nodeentri entri item found except itemnotfoundexcept repositori except repositoryexcept
factori idfactori factori idfactori servic factori getidfactori
path factori pathfactori servic path factori getpathfactori
creat node state createnodest factori idfactori creat node createnodeid string root path getrootpath entri
creat node inform retriev code repositoryservic code
node state nodest creat node state createnodest node nodeid node nodeid node entri nodeentri entri item found except itemnotfoundexcept
repositori except repositoryexcept
entri node info nodeinfo cach cach node info getnodeinfo node nodeid
item info iteminfo info
date isuptod cach entri
info cach info
retriev item info servic cach batch
iter item info iteminfo info servic item info getiteminfo session info sessioninfo node nodeid
info info cach entri gener getgener
info info denot node denotesnod
item found except itemnotfoundexcept nodeid node nodeid
assert match path assertmatchingpath info entri
creat node state createnodest node info nodeinfo info entri
path found except pathnotfoundexcept
item found except itemnotfoundexcept
creat node inform retriev code repositoryservic code
intermedi entri creat need
node state nodest creat deep node state createdeepnodest node nodeid node nodeid node entri nodeentri parent anypar item found except itemnotfoundexcept
repositori except repositoryexcept
item info cach
iter item info iteminfo info
entri node info nodeinfo cach cach node info getnodeinfo node nodeid
item info iteminfo info
cach
servic cach
info servic item info getiteminfo session info sessioninfo node nodeid
info info
info info denot node denotesnod
item found except itemnotfoundexcept nodeid node nodeid
info cach info
build hierarchi entri item info
hierarchi entri hierarchyentri entri creat hierarchi entri createhierarchyentri info parent anypar
entri entri denot node denotesnod
item found except itemnotfoundexcept
hierarchyentri belong exist iteminfo itemst creat
check item info cach date
gener entri gener getgener
outdat isoutd cach entri
retriev item info servic put batch cach
info servic item info getiteminfo session info sessioninfo node nodeid
info info cach gener
info
put batch retriev servic earlier cach
cach put info gener
info cach gener
assert match path assertmatchingpath info entri
creat node state createnodest node info nodeinfo info node entri nodeentri entri
path found except pathnotfoundexcept
item found except itemnotfoundexcept
creat propertyst inform retriev code repositoryservic code
properti state propertyst creat properti state createpropertyst properti propertyid properti propertyid properti entri propertyentri entri
item found except itemnotfoundexcept repositori except repositoryexcept
item info cach date
entri properti info propertyinfo cach cach properti info getpropertyinfo properti propertyid
item info iteminfo info
date isuptod cach entri
info cach info
retriev item info servic cach batch
iter item info iteminfo info servic item info getiteminfo session info sessioninfo properti propertyid
info info cach entri gener getgener
info info denot node denotesnod
item found except itemnotfoundexcept propertyid properti propertyid
assert match path assertmatchingpath info entri
creat properti state createpropertyst properti info propertyinfo info entri
path found except pathnotfoundexcept
item found except itemnotfoundexcept
creat propertyst inform retriev code repositoryservic code
intermedi entri creat need
properti state propertyst creat deep properti state createdeeppropertyst properti propertyid properti propertyid node entri nodeentri parent anypar
repositori except repositoryexcept
item info cach
iter item info iteminfo info
entri properti info propertyinfo cach cach properti info getpropertyinfo properti propertyid
item info iteminfo info
cach
servic cach
info servic item info getiteminfo session info sessioninfo properti propertyid
info info
info info denot node denotesnod
item found except itemnotfoundexcept propertyid properti propertyid
info cach info
build hierarchi entri item info
hierarchi entri hierarchyentri entri creat hierarchi entri createhierarchyentri info parent anypar
entri entri denot node denotesnod
item found except itemnotfoundexcept
hierarchyentri belong exist iteminfo itemst creat
gener entri gener getgener
outdat isoutd cach entri
retriev item info servic put batch cach
info servic item info getiteminfo session info sessioninfo properti propertyid
info info cach gener
info
put batch retriev servic earlier cach
cach put info gener
info cach gener
assert match path assertmatchingpath info entri
creat properti state createpropertyst properti info propertyinfo info properti entri propertyentri entri
path found except pathnotfoundexcept
item found except itemnotfoundexcept
iter child info childinfo child node info getchildnodeinfo node nodeid node nodeid item found except itemnotfoundexcept
repositori except repositoryexcept
servic child info getchildinfo session info sessioninfo node nodeid
iter properti propertyid node refer getnoderefer node state nodest node state nodest properti propertynam weak
node entri nodeentri entri node state nodest node entri getnodeentri
shortcut
entri uniqu getuniqueid entri properti entri haspropertyentri constant nameconst jcr uuid jcr uuid
referenc
set properti propertyid collect empti set emptyset
iter
uniqu potenti mix referenc retriev refer
servic refer getrefer session info sessioninfo entri workspac getworkspaceid properti propertynam weak
repositori except repositoryexcept
log debug unabl determin refer node state nodest
set properti propertyid collect empti set emptyset
iter
privat
return item iter exist return code null code
code cach code code null code cach item
code gener code
item info iteminfo iter item info iteminfo info item info cach iteminfocach cach gener
item info iteminfo
info hasnext
info
cach
cach put gener
cach
info hasnext
cach put info gener
creat node state inform code info code
param info code nodeinfo code creat code nodest code
param entri hierarchi entri state
return code nodest code
throw itemnotfoundexcept
throw repositoryexcept
node state nodest creat node state createnodest node info nodeinfo info node entri nodeentri entri item found except itemnotfoundexcept
repositori except repositoryexcept
make entri correct itemid
case hierarchi complet
resolv uniqueid present set entri
parent entri
string uniqu uniqueid info getid uniqu getuniqueid
path path info getid path getpath
path
entri set uniqu setuniqueid uniqu uniqueid
uniqu uniqueid
uniqueid appli parent nodeentri parententri
node entri nodeentri parent ancestor getancestor entri path length getlength
parent set uniqu setuniqueid uniqu uniqueid
previou statu previousstatu entri statu getstatu
statu transient istransi previou statu previousstatu statu stale isstal previou statu previousstatu
log debug node pend omit reset state
entri node state getnodest
updat nodeentri inform present nodeinfo prop entri
list prop name propnam arrai list arraylist
iter properti propertyid info properti id getpropertyid hasnext
properti propertyid pid
properti propertynam pid getnam
prop name propnam add properti propertynam
entri set properti entri setpropertyentri prop name propnam
item exist except itemexistsexcept
log error intern error
child info omit spi impl make
child entri node entri initi updat
iter child info childinfo child info childinfo info child info getchildinfo
child info childinfo
entri set node entri setnodeentri child info childinfo
build updat nodest
node state nodest tmp node state nodest entri info definit provid definitionprovid
entri set item state setitemst tmp
node state nodest state nstate entri node state getnodest
previou statu previousstatu statu undefin undefin
tmp state resolut entri
entri state
merg hierarchyentryimpl setitemst
notifi creat notifycr state nstate
notifi updat notifyupd state nstate previou statu previousstatu
state nstate
creat properti state inform code info code
param info code propertyinfo code creat code propertyst code
param entri hierarchi entri state
return code propertyst code
throw repositoryexcept
properti state propertyst creat properti state createpropertyst properti info propertyinfo info properti entri propertyentri entri
repositori except repositoryexcept
make uuid part correct
string uniqu uniqueid info getid uniqu getuniqueid
uniqu uniqueid
uniqueid appli parent nodeentri parententri
node entri nodeentri parent ancestor getancestor entri info getid path getpath length getlength
parent set uniqu setuniqueid uniqu uniqueid
previou statu previousstatu entri statu getstatu
statu transient istransi previou statu previousstatu statu stale isstal previou statu previousstatu
log debug properti pend omit reset state
entri properti state getpropertyst
build updat nodest
properti state propertyst tmp properti state propertyst entri info definit provid definitionprovid
entri set item state setitemst tmp
properti state propertyst state pstate entri properti state getpropertyst
previou statu previousstatu statu undefin undefin
tmp state resolut entri
entri state
merg hierarchyentryimpl setitemst
notifi creat notifycr state pstate
notifi updat notifyupd state pstate previou statu previousstatu
state pstate
creat miss hierarchi entri path code anypar code path
code iteminfo code
param info
param anypar
return hierarchi entri code info code
throw repositoryexcept
hierarchi entri hierarchyentri creat hierarchi entri createhierarchyentri item info iteminfo info node entri nodeentri parent anypar
repositori except repositoryexcept
calcul rel path miss entri
path parent path anyparentpath parent anypar workspac path getworkspacepath
path rel path relpath parent path anyparentpath comput rel path computerelativepath info path getpath
path element miss elem missingelem rel path relpath element getel
node entri nodeentri entri parent anypar
miss elem missingelem length
miss elem missingelem denot parent denotespar
walk hierarchi 'negative' path
smallest common root found
entri entri parent getpar
miss elem missingelem denot denotesnam
add miss element start smallest common root
miss elem missingelem getnam
index miss elem missingelem normal index getnormalizedindex
info denot node denotesnod
entri add properti entri getoraddpropertyentri
entri creat node entri createnodeentri entri index
entri
node entri nodeentri creat node entri createnodeentri node entri nodeentri parent entri parententri index repositori except repositoryexcept
entri node info nodeinfo cach cach node info getnodeinfo parent entri parententri workspac getworkspaceid
date isuptod cach parent entri parententri
iter child info childinfo child info childinfo cach info child info getchildinfo
child info childinfo
parent entri parententri set node entri setnodeentri child info childinfo
parent entri parententri add node entri getoraddnodeentri index
return true code cach code code null code
cach entri date
param cacheentri
param entri
return
throw repositoryexcept
date isuptod entri cach entri cacheentri hierarchi entri hierarchyentri entri repositori except repositoryexcept
cach entri cacheentri
cach entri cacheentri gener entri gener getgener
match path ismatchingpath cach entri cacheentri info entri
return true code cach code code null code
cach entri date
param cacheentri
param entri
return
throw repositoryexcept
outdat isoutd entri cach entri cacheentri hierarchi entri hierarchyentri entri repositori except repositoryexcept
cach entri cacheentri
cach entri cacheentri gener entri gener getgener
match path ismatchingpath cach entri cacheentri info entri
match path ismatchingpath item info iteminfo info hierarchi entri hierarchyentri entri repositori except repositoryexcept
path info path infopath info path getpath
path wsp path wsppath entri workspac path getworkspacepath
info path infopath equal wsp path wsppath
valid check path iteminfo match path
hierarchyentri requir item identifi
uniqueid move hierarchi restor clone
param info
param entri
throw repositoryexcept
assert match path assertmatchingpath item info iteminfo info hierarchi entri hierarchyentri entri repositori except repositoryexcept
match path ismatchingpath info entri
todo handl extern move node parent identifi uniqueid
item found except itemnotfoundexcept hierarchyentri entri workspac path getworkspacepath match iteminfo info path getpath
param entri
param degre
return ancestor entri degre
node entri nodeentri ancestor getancestor hierarchi entri hierarchyentri entri degre
node entri nodeentri parent entri parent getpar
degre
parent degre
parent parent parent getpar
degre
degre
log error parent degre exist degre
illeg argument except illegalargumentexcept
parent
