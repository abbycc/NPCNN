org apach jackrabbit core state
org apach jackrabbit core constant
org apach jackrabbit core intern internalvalu
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core qname
org apach jackrabbit core nodetyp node def nodedefid
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp prop def propdefid
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core observ observ manag impl observationmanagerimpl
org apach jackrabbit core virtual virtual item state provid virtualitemstateprovid
org apach log4j logger
javax jcr properti type propertytyp
javax jcr nodetyp node type except nosuchnodetypeexcept
java print stream printstream
java util iter
share code itemstatemanag code cach object return
code persistencemanag code object return item state
manag share session
share item state manag shareditemstatemanag item state cach itemstatecach
item state manag itemstatemanag item state listen itemstatelisten
logger instanc
logger log logger logger getlogg share item state manag shareditemstatemanag
persist manag load store item
persist manag persistencemanag persist mgr persistmgr
hard refer root node state
node state nodest root
virtual item state provid
virtual item state provid virtualitemstateprovid virtual provid virtualprovid virtual item state provid virtualitemstateprovid
creat code shareditemstatemanag code instanc
param persistmgr
param rootnodeuuid
param ntreg
share item state manag shareditemstatemanag persist manag persistencemanag persist mgr persistmgr
string root node uuid rootnodeuuid
node type registri nodetyperegistri reg ntreg
item state except itemstateexcept
persist mgr persistmgr persist mgr persistmgr
root node state getnodest node nodeid root node uuid rootnodeuuid
item state except nosuchitemstateexcept
creat root node
root creat root node state createrootnodest root node uuid rootnodeuuid reg ntreg
dispos code shareditemstatemanag code free resourc
dispos
clear cach
evict evictal
add virtual item state provid
param prov
add virtual item state provid addvirtualitemstateprovid virtual item state provid virtualitemstateprovid prov
virtual item state provid virtualitemstateprovid prov virtual item state provid virtualitemstateprovid virtual provid virtualprovid length
system arraycopi virtual provid virtualprovid prov virtual provid virtualprovid length
prov virtual provid virtualprovid length prov
virtual provid virtualprovid prov
node state nodest creat root node state createrootnodest string root node uuid rootnodeuuid
node type registri nodetyperegistri reg ntreg
item state except itemstateexcept
node state nodest root state rootstat creat instanc createinst root node uuid rootnodeuuid constant rep root rep root
todo fixm manual setup root node creat mandatori jcr primarytyp properti
node def nodedefid node def nodedefid
prop def propdefid prop def propdefid
node def nodedefid node def nodedefid reg ntreg root node def getrootnodedef
fixm reli definit base
properti definit base jcr primarytyp
prop def propdefid prop def propdefid reg ntreg node type def getnodetypedef constant base base properti def getpropertydef
node type except nosuchnodetypeexcept nsnte
string msg fail creat root node
log debug msg
item state except itemstateexcept msg nsnte
root state rootstat set definit setdefinitionid node def nodedefid
qname prop propnam constant jcr primarytyp jcr primarytyp
root state rootstat add properti entri addpropertyentri prop propnam
properti state propertyst prop creat instanc createinst prop propnam root node uuid rootnodeuuid
prop set valu setvalu intern internalvalu intern internalvalu creat constant rep root rep root
prop set type settyp properti type propertytyp
prop set multi valu setmultivalu
prop set definit setdefinitionid prop def propdefid
chang log changelog chang log changelog chang log changelog
chang log changelog ad root state rootstat
chang log changelog ad prop
persist mgr persistmgr store chang log changelog
chang log changelog persist
root state rootstat
dump state code shareditemstatemanag code instanc
diagnost purpos
param
dump print stream printstream
println shareditemstatemanag
println
dump
param
return
throw nosuchitemstateexcept
throw itemstateexcept
node state nodest node state getnodest node nodeid
item state except nosuchitemstateexcept item state except itemstateexcept
check cach
cach iscach
node state nodest retriev
load persist state
node state nodest state persist mgr persistmgr load
state set statu setstatu item state itemst statu exist statu exist
put cach
cach state
regist listen
state add listen addlisten
state
param
return
throw nosuchitemstateexcept
throw itemstateexcept
properti state propertyst properti state getpropertyst properti propertyid
item state except nosuchitemstateexcept item state except itemstateexcept
check cach
cach iscach
properti state propertyst retriev
load persist state
properti state propertyst state persist mgr persistmgr load
state set statu setstatu item state itemst statu exist statu exist
put cach
cach state
regist listen
state add listen addlisten
state
itemstatemanag
itemstatemanag getitemst itemid
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
virtual provid virtualprovid item state getitemst
check intern
virtual item state hasnonvirtualitemst
virtual item state getnonvirtualitemst
check virtual state item
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
virtual provid virtualprovid item state getitemst
item state except nosuchitemstateexcept string tostr
return item state virtual
item state provid
item state itemst virtual item state getnonvirtualitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
denot node denotesnod
node state getnodest node nodeid
properti state getpropertyst properti propertyid
itemstatemanag hasitemst itemid
item state hasitemst item itemid
cach iscach
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
check manag item state
virtual item state hasnonvirtualitemst
check virtual
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
check item state manag item state
virtual item state manag
virtual item state hasnonvirtualitemst item itemid
cach iscach
denot node denotesnod
persist mgr persistmgr exist node nodeid
persist mgr persistmgr exist properti propertyid
item state except itemstateexcept is
itemstatemanag getnoderefer
node refer noderefer node refer getnoderefer node refer nodereferencesid
item state except nosuchitemstateexcept item state except itemstateexcept
todo add cach
check persist manag
persist mgr persistmgr load
item state except nosuchitemstateexcept
ignor
check virtual provid
virtual provid virtualprovid length
virtual provid virtualprovid node refer getnoderefer
item state except nosuchitemstateexcept
ignor
creat
node refer noderefer
oper
creat node state instanc
param uuid uuid
param nodetypenam node type
param parentuuid parent uuid
return node state instanc
node state nodest creat instanc createinst string uuid qname node type nodetypenam
string parent uuid parentuuid
node state nodest state persist mgr persistmgr creat createnew node nodeid uuid
state set node type setnodetypenam node type nodetypenam
state set parent uuid setparentuuid parent uuid parentuuid
state set statu setstatu item state itemst statu statu
state add listen addlisten
state
creat node state instanc
param state instanc
return node state instanc
item state itemst creat instanc createinst item state itemst
node isnod
node state nodest node state nodest
creat instanc createinst uuid getuuid node type getnodetypenam parent uuid getparentuuid
properti state propertyst properti state propertyst
creat instanc createinst getnam parent uuid getparentuuid
creat properti state instanc
param propnam properti
param parentuuid parent uuid
return properti state instanc
properti state propertyst creat instanc createinst qname prop propnam string parent uuid parentuuid
properti state propertyst state persist mgr persistmgr creat createnew properti propertyid parent uuid parentuuid prop propnam
state set statu setstatu item state itemst statu statu
state add listen addlisten
state
store modif regist code changelog code item
contain changelog state return
item state manag reconnect item provid
state manag
successfulli store state observ manag inform
observ manag pass method
param local chang log local item
param obsmgr observ manag inform code null code
observ manag inform
throw itemstateexcept error occur
store chang log changelog local observ manag impl observationmanagerimpl ob mgr obsmgr item state except itemstateexcept
chang log changelog share chang log changelog
valid modifi refer target node refer
delet meantim
iter iter local modifi ref modifiedref
iter hasnext
node refer noderefer ref node refer noderefer iter
node nodeid node nodeid ref uuid getuuid
ref refer hasrefer
local item state hasitemst
item state except nosuchitemstateexcept
item state except nosuchitemstateexcept
string msg target node refer properti exist
item state except itemstateexcept msg
share modifi ref
reconnect item contain chang log
respect share item add share item
chang log
iter local ad state addedst
iter hasnext
item state itemst state item state itemst iter
state connect creat instanc createinst state
share ad state overlai state getoverlayedst
iter local modifi state modifiedst
iter hasnext
item state itemst state item state itemst iter
state connect item state getitemst state getid
share modifi state overlai state getoverlayedst
iter local delet state deletedst
iter hasnext
item state itemst state item state itemst iter
state connect item state getitemst state getid
share delet state overlai state getoverlayedst
prepar event
event state collect eventstatecollect event
ob mgr obsmgr
event ob mgr obsmgr creat event state collect createeventstatecollect
event creat event state createeventst root uuid getuuid local
event prepar
push local item share item
local push
store item underli persist manag
persist mgr persistmgr store share
share item listen chang
share persist
dispatch event
event
event dispatch
itemstatelisten
itemstatelisten statecr
state creat statecr item state itemst creat
cach creat
itemstatelisten statemodifi
state modifi statemodifi item state itemst modifi
interest
itemstatelisten statedestroi
state destroi statedestroi item state itemst destroi
destroi remov listen removelisten
evict destroi getid
itemstatelisten statediscard
state discard statediscard item state itemst discard
discard remov listen removelisten
evict discard getid
