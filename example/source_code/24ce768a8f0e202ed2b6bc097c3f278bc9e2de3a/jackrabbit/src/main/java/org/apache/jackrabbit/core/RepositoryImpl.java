org apach jackrabbit core
org apach common collect map refer map referencemap
org apach jackrabbit api jackrabbit repositori jackrabbitrepositori
org apach jackrabbit core config login modul config loginmoduleconfig
org apach jackrabbit core config persist manag config persistencemanagerconfig
org apach jackrabbit core config repositori config repositoryconfig
org apach jackrabbit core config version config versioningconfig
org apach jackrabbit core config workspac config workspaceconfig
org apach jackrabbit core config file system config filesystemconfig
org apach jackrabbit core base file system basedfilesystem
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system except filesystemexcept
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core lock lock manag lockmanag
org apach jackrabbit core lock lock manag impl lockmanagerimpl
org apach jackrabbit core nodetyp node type impl nodetypeimpl
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp virtual virtual node type state manag virtualnodetypestatemanag
org apach jackrabbit core observ deleg observ dispatch delegatingobservationdispatch
org apach jackrabbit core observ observ manag factori observationmanagerfactori
org apach jackrabbit core secur auth context authcontext
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state context pmcontext
org apach jackrabbit core state persist manag persistencemanag
org apach jackrabbit core state share item state manag shareditemstatemanag
org apach jackrabbit core version version manag versionmanag
org apach jackrabbit core version version manag impl versionmanagerimpl
org apach jackrabbit qname
org apach jackrabbit prefix declar except noprefixdeclaredexcept
org slf4j logger
org slf4j logger factori loggerfactori
org xml sax input sourc inputsourc
javax jcr access deni except accessdeniedexcept
javax jcr credenti
javax jcr login except loginexcept
javax jcr namespac registri namespaceregistri
javax jcr workspac except nosuchworkspaceexcept
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr observ event
javax jcr observ event iter eventiter
javax jcr observ event listen eventlisten
javax jcr observ observ manag observationmanag
javax secur auth subject
java file
java except ioexcept
java input stream inputstream
java input stream reader inputstreamread
java output stream outputstream
java output stream writer outputstreamwrit
java random access file randomaccessfil
java secur access control context accesscontrolcontext
java secur access control accesscontrol
java util arrai
java util hash map hashmap
java util iter
java util properti
java util set
java util hash set hashset
java nio channel file lock filelock
java nio channel file channel filechannel
code repositoryimpl code
repositori impl repositoryimpl jackrabbit repositori jackrabbitrepositori session listen sessionlisten
event listen eventlisten
logger log logger factori loggerfactori logger getlogg repositori impl repositoryimpl
repositori home lock
string repositori lock repositori lock lock
hardcod repositori root node
node nodeid root node root node node nodeid valueof cafebab cafe babe cafe babecafebab
hardcod jcr system node
node nodeid system root node system root node node nodeid valueof deadbeef cafe babe cafe babecafebab
hardcod jcr system jcr versionstorag node
node nodeid version storag node version storag node node nodeid valueof deadbeef face babe cafe babecafebab
hardcod jcr system jcr nodetyp node
node nodeid nodetyp node nodetyp node node nodeid valueof deadbeef cafe cafe cafe babecafebab
file system resourc properti
repositori
string properti resourc properti resourc rep properti
repositori properti
properti rep prop repprop
name repositori properti
string stat node count properti stat node count properti jcr repositori stat node count
string stat prop count properti stat prop count properti jcr repositori stat properti count
node nodeid root node rootnodeid
namespac registri impl namespaceregistryimpl reg nsreg
node type registri nodetyperegistri reg ntreg
version manag versionmanag mgr vmgr
virtual node type state manag virtualnodetypestatemanag virt mgr virtntmgr
search manag jcr system tree code null code
configur
search manag searchmanag system search mgr systemsearchmgr
configur repositori
repositori config repositoryconfig rep config repconfig
virtual repositori file system
file system filesystem rep store repstor
file system repositori store meta data uuid root node
file system filesystem meta data store metadatastor
deleg observ dispatch workspac
deleg observ dispatch delegatingobservationdispatch deleg dispatch delegatingdispatch
deleg observ dispatch delegatingobservationdispatch
map workspac name code workspaceinfo code
hash map hashmap wsp info wspinfo hash map hashmap
activ session weak refer
refer map referencemap activ session activesess
refer map referencemap refer map referencemap weak refer map referencemap weak
workspac janitor thread respons temporarili
shut workspac idl specif
amount time
thread wsp janitor wspjanitor
misc statist
node count nodescount
prop count propscount
flag indic respositori shut
dispos
lock guard instanti multipl repositori
file lock filelock rep lock replock
privat constructor
param repconfig
repositori impl repositoryimpl repositori config repositoryconfig rep config repconfig repositori except repositoryexcept
log info start repositori
rep config repconfig rep config repconfig
acquir repositori lock acquirerepositorylock
setup file system
rep store repstor rep config repconfig file system config getfilesystemconfig creat file system createfilesystem
string root path fsrootpath meta
rep store repstor exist root path fsrootpath rep store repstor folder isfold root path fsrootpath
rep store repstor creat folder createfold root path fsrootpath
file system except filesystemexcept fse
string msg fail creat folder repositori meta data
log error msg fse
repositori except repositoryexcept msg fse
meta data store metadatastor base file system basedfilesystem rep store repstor root path fsrootpath
init root node uuid
root node rootnodeid load root node loadrootnodeid meta data store metadatastor
load repositori properti
rep prop repprop load rep prop loadrepprop
node count nodescount long pars long parselong rep prop repprop properti getproperti stat node count properti stat node count properti
prop count propscount long pars long parselong rep prop repprop properti getproperti stat prop count properti stat prop count properti
creat registri
reg nsreg creat namespac registri createnamespaceregistri base file system basedfilesystem rep store repstor namespac
reg ntreg creat node type registri createnodetyperegistri reg nsreg base file system basedfilesystem rep store repstor nodetyp
init workspac config
iter iter rep config repconfig workspac config getworkspaceconfig iter
iter hasnext
workspac config workspaceconfig config workspac config workspaceconfig iter
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put config getnam info
init version manag
mgr vmgr creat version manag createversionmanag rep config repconfig version config getversioningconfig
deleg dispatch delegatingdispatch
init virtual node type manag
virt mgr virtntmgr virtual node type state manag virtualnodetypestatemanag node type registri getnodetyperegistri
deleg dispatch delegatingdispatch nodetyp node nodetyp node system root node system root node
initi default workspac
string wsp wspname rep config repconfig default workspac getdefaultworkspacenam
init workspac initworkspac workspac info workspaceinfo wsp info wspinfo wsp wspname
repositori except repositoryexcept
default workspac fail initi shutdown
log error fail initi workspac wsp wspname
log error unabl start repositori forc shutdown
shutdown
initi system search manag
system search manag getsystemsearchmanag wsp wspname
amount time second idl workspac automat
shut
max idl time maxidletim rep config repconfig workspac max idl time getworkspacemaxidletim
max idl time maxidletim
start workspac janitor thread
wsp janitor wspjanitor workspac janitor workspacejanitor max idl time maxidletim
wsp janitor wspjanitor start
workspac initi pass system session
virtual node type manag
todo fixm odd global virtual node type manag
session bound singl specif workspac
virt mgr virtntmgr set session setsess system session getsystemsess rep config repconfig default workspac getdefaultworkspacenam
log info repositori start
creat version manag
param vconfig version config
return newli creat version manag
throw repositoryexcept error occurr
version manag versionmanag creat version manag createversionmanag version config versioningconfig config vconfig
deleg observ dispatch delegatingobservationdispatch deleg dispatch delegatingdispatch
repositori except repositoryexcept
file system filesystem config vconfig file system config getfilesystemconfig creat file system createfilesystem
persist manag persistencemanag creat persist manag createpersistencemanag config vconfig home dir gethomedir
config vconfig persist manag config getpersistencemanagerconfig
root node rootnodeid
reg nsreg
reg ntreg
version manag impl versionmanagerimpl reg ntreg deleg dispatch delegatingdispatch
version storag node version storag node system root node system root node
lock repositori home
throw repositoryexcept repositori lock acquir
acquir repositori lock acquirerepositorylock repositori except repositoryexcept
file home file rep config repconfig home dir gethomedir
file lock file home repositori lock repositori lock
lock exist
log warn exist lock file lock absolut path getabsolutepath
detetec repositori shut properli
lock creat file createnewfil
except ioexcept
repositori except repositoryexcept
unabl creat lock file lock absolut path getabsolutepath
rep lock replock random access file randomaccessfil lock channel getchannel lock trylock
except ioexcept
repositori except repositoryexcept
unabl lock file lock absolut path getabsolutepath
rep lock replock
repositori except repositoryexcept
repositori home home absolut path getabsolutepath
appear file
lock absolut path getabsolutepath lock process
releas repositori lock
releas repositori lock releaserepositorylock
rep lock replock
file channel filechannel channel rep lock replock channel
rep lock replock releas
channel close
except ioexcept
ignor
rep lock replock
file home file rep config repconfig home dir gethomedir
file lock file home repositori lock repositori lock
lock delet
log error unabl releas repositori lock
return root node uuid
param
return
throw repositoryexcept
node nodeid load root node loadrootnodeid file system filesystem repositori except repositoryexcept
file system resourc filesystemresourc uuid file uuidfil file system resourc filesystemresourc rootuuid
uuid file uuidfil exist
load uuid repository' root node
input stream inputstream uuid file uuidfil input stream getinputstream
uuid store binari format byte
byte byte byte
read byte
final
close
catch ioexcept ioe
ignor
rootnodeuuid uuid byte tostr uuid store binari format byte
uuid store text format charact readabl
char
input stream reader inputstreamread reader input stream reader inputstreamread
reader read char
reader close
except ioexcept ioe
ignor
node nodeid valueof string char
except
string msg fail load persist repositori state
log debug msg
repositori except repositoryexcept msg
creat uuid
uuid rootuuid uuid randomuuid version uuid
rootnodeuuid rootuuid tostr
hard code uuid root node gener
uuid repositori instanc
hard code uuid make easier copi move entir
workspac repositori instanc
persist uuid repository' root node
output stream outputstream uuid file uuidfil output stream getoutputstream
store uuid binari format
write rootuuid getbyt
final
close
catch ioexcept ioe
ignor
store uuid text format readabl
output stream writer outputstreamwrit writer output stream writer outputstreamwrit
writer write root node root node string tostr
writer close
except ioexcept ioe
ignor
root node root node
except
string msg fail persist repositori state
log debug msg
repositori except repositoryexcept msg
file system except filesystemexcept fse
string msg fail access repositori state
log debug msg
repositori except repositoryexcept msg fse
creat code namespaceregistri code instanc
param
return
throw repositoryexcept
namespac registri impl namespaceregistryimpl creat namespac registri createnamespaceregistri file system filesystem
repositori except repositoryexcept
namespac registri impl namespaceregistryimpl
creat code nodetyperegistri code instanc
param
return
throw repositoryexcept
node type registri nodetyperegistri creat node type registri createnodetyperegistri namespac registri namespaceregistri reg nsreg
file system filesystem
repositori except repositoryexcept
node type registri nodetyperegistri creat reg nsreg
creat code repositoryimpl code instanc
param config configur repositori
return code repositoryimpl code instanc
throw repositoryexcept error occur
repositori impl repositoryimpl creat repositori config repositoryconfig config
repositori except repositoryexcept
repositori impl repositoryimpl config
perform saniti check repositori instanc
throw illegalstateexcept repositori render
invalid reason
shut
saniti check sanitycheck illeg state except illegalstateexcept
check repositori statu
dispos
illeg state except illegalstateexcept repositori instanc shut
init workspac initworkspac workspac info workspaceinfo wsp info wspinfo repositori except repositoryexcept
initi workspac info
wsp info wspinfo initi
system session workspac instanc
session impl sessionimpl sy session syssess wsp info wspinfo system session getsystemsess
workspac impl workspaceimpl wsp workspac impl workspaceimpl sy session syssess workspac getworkspac
todo implement 'system' workspac
fixm
'system' workspac repositori
'system' workspac jcr system node
version version histori node type reflect
system workspac content jcr system
workspac dynam workspac base
'read only' system workspac
creat jcr system node workspac
node impl nodeimpl root node rootnod node impl nodeimpl sy session syssess root node getrootnod
root node rootnod node hasnod qname jcr system jcr system
node type impl nodetypeimpl sy session syssess node type manag getnodetypemanag node type getnodetyp qname rep system rep system
node impl nodeimpl sy root sysroot root node rootnod intern add child node internaladdchildnod qname jcr system jcr system system root node system root node
add version storag
sy session syssess node type manag getnodetypemanag node type getnodetyp qname rep versionstorag rep versionstorag
sy root sysroot intern add child node internaladdchildnod qname jcr versionstorag jcr versionstorag version storag node version storag node
add node type
sy session syssess node type manag getnodetypemanag node type getnodetyp qname rep nodetyp rep nodetyp
sy root sysroot intern add child node internaladdchildnod qname jcr nodetyp jcr nodetyp nodetyp node nodetyp node
root node rootnod save
regist repositori event listen keep repositori statist
wsp observ manag getobservationmanag add event listen addeventlisten
event node ad node ad event node remov node remov
event properti ad properti ad event properti remov properti remov
regist searchmanag event listen
search manag searchmanag search mgr searchmgr wsp info wspinfo search manag getsearchmanag
search mgr searchmgr
wsp observ manag getobservationmanag add event listen addeventlisten search mgr searchmgr
event node ad node ad event node remov node remov
event properti ad properti ad event properti remov properti remov
event properti chang properti chang
regist observ factori workspac
deleg dispatch delegatingdispatch add dispatch adddispatch wsp info wspinfo observ manag factori getobservationmanagerfactori
return system search manag code null code
configur
search manag searchmanag system search manag getsystemsearchmanag string wsp wspname
repositori except repositoryexcept
system search mgr systemsearchmgr
rep config repconfig search config getsearchconfig
system session systemsess def sy session defsyssess system session getsystemsess wsp wspname
system search mgr systemsearchmgr search manag searchmanag rep config repconfig search config getsearchconfig
reg nsreg reg ntreg def sy session defsyssess item state manag getitemstatemanag
system root node system root node
observ manag observationmanag ob mgr obsmgr def sy session defsyssess workspac getworkspac observ manag getobservationmanag
ob mgr obsmgr add event listen addeventlisten system search mgr systemsearchmgr event node ad node ad
event node remov node remov event properti ad properti ad
event properti chang properti chang event properti remov properti remov
qname jcr system jcr system jcr tojcrnam def sy session defsyssess namespac resolv getnamespaceresolv
system search mgr systemsearchmgr
prefix declar except noprefixdeclaredexcept
repositori except repositoryexcept
system search mgr systemsearchmgr
namespac registri impl namespaceregistryimpl namespac registri getnamespaceregistri
check saniti instanc
saniti check sanitycheck
reg nsreg
node type registri nodetyperegistri node type registri getnodetyperegistri
check saniti instanc
saniti check sanitycheck
reg ntreg
version manag versionmanag version manag getversionmanag
check saniti instanc
saniti check sanitycheck
mgr vmgr
node nodeid root node getrootnodeid
check saniti instanc
saniti check sanitycheck
root node rootnodeid
return name workspac repositori
return name workspac repositori
javax jcr workspac getaccessibleworkspacenam
string workspac name getworkspacenam
string wsp info wspinfo kei set keyset arrai toarrai string wsp info wspinfo kei set keyset size
return link workspaceinfo name workspac
param workspacenam workspac link workspaceinfo
return code null code
return link workspaceinfo name workspac
code null code
throw illegalstateexcept repositori
shut
throw nosuchworkspaceexcept name workspac exist
workspac info workspaceinfo workspac info getworkspaceinfo string workspac workspacenam
illeg state except illegalstateexcept workspac except nosuchworkspaceexcept
check saniti instanc
saniti check sanitycheck
workspac info workspaceinfo wsp info wspinfo workspac info workspaceinfo wsp info wspinfo workspac workspacenam
wsp info wspinfo
workspac except nosuchworkspaceexcept workspac workspacenam
wsp info wspinfo
wsp info wspinfo initi isiniti
init workspac initworkspac wsp info wspinfo
repositori except repositoryexcept
log error unabl initi workspac workspac workspacenam
workspac except nosuchworkspaceexcept workspac workspacenam
wsp info wspinfo
creat workspac
param workspacenam workspac
throw repositoryexcept workspac
exist error occur
sessionimpl createworkspac string
creat workspac createworkspac string workspac workspacenam
repositori except repositoryexcept
wsp info wspinfo kei containskei workspac workspacenam
repositori except repositoryexcept workspac
workspac workspacenam exist
creat workspac configur
workspac config workspaceconfig config rep config repconfig creat workspac config createworkspaceconfig workspac workspacenam
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put workspac workspacenam info
creat workspac workspac configur
templat
param workspacenam workspac
param configtempl workspac configur templat
workspac
throw repositoryexcept workspac
exist error occur
sessionimpl createworkspac string inputsourc
creat workspac createworkspac string workspac workspacenam
input sourc inputsourc config templat configtempl
repositori except repositoryexcept
wsp info wspinfo kei containskei workspac workspacenam
repositori except repositoryexcept workspac
workspac workspacenam exist
creat workspac configur
workspac config workspaceconfig config rep config repconfig creat workspac config createworkspaceconfig workspac workspacenam config templat configtempl
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put workspac workspacenam info
share item state manag shareditemstatemanag workspac state manag getworkspacestatemanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam item state provid getitemstateprovid
observ manag factori observationmanagerfactori observ manag factori getobservationmanagerfactori string workspac workspacenam
workspac except nosuchworkspaceexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam observ manag factori getobservationmanagerfactori
return link searchmanag workspac
code workspacenam code
param workspacenam workspac
return code searchmanag code workspac
code null code workspac
code searchmanag code configur
throw nosuchworkspaceexcept workspac
code workspacenam code
throw repositoryexcept error occur open
search index
search manag searchmanag search manag getsearchmanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam search manag getsearchmanag
return link lockmanag workspac
code workspacenam code
param workspacenam workspac
return code lockmanag code workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
lock manag lockmanag lock manag getlockmanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam lock manag getlockmanag
return link systemsess workspac
code workspacenam code
param workspacenam workspac
return system session workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
system session systemsess system session getsystemsess string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam system session getsystemsess
creat repositori session workspac
authent subject login context
add activ session
call link createsessioninst authcontext workspaceconfig
creat actual code sessionimpl code instanc
param logincontext login context authent subject
param workspacenam workspac
return session
throw nosuchworkspaceexcept workspac exist
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur
session impl sessionimpl creat session createsess auth context authcontext login context logincontext
string workspac workspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo workspac workspacenam
session impl sessionimpl se creat session instanc createsessioninst login context logincontext wsp info wspinfo config getconfig
se add listen addlisten
activ session activesess put se se
reset idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp
se
creat repositori session workspac
authent subject add activ
session
call link createsessioninst subject workspaceconfig
creat actual code sessionimpl code instanc
param subject authent subject
param workspacenam workspac
return session
throw nosuchworkspaceexcept workspac exist
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur
session impl sessionimpl creat session createsess subject subject
string workspac workspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo workspac workspacenam
session impl sessionimpl se creat session instanc createsessioninst subject wsp info wspinfo config getconfig
se add listen addlisten
activ session activesess put se se
reset idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp
se
jackrabbitrepositori
shut repositori
shutdown
check statu instanc
dispos
repositori shut
log info shut repositori
close activ user session
activ session activesess empti isempti
session activ session activesess valu iter logout
shut workspac
iter wsp info wspinfo valu iter hasnext
workspac info workspaceinfo wsp info wspinfo workspac info workspaceinfo
wsp info wspinfo
wsp info wspinfo initi isiniti
wsp info wspinfo dispos
shutdown system search manag
system search mgr systemsearchmgr
system search mgr systemsearchmgr close
mgr vmgr close
except
log error error close version manag
persist repositori properti
store rep prop storerepprop rep prop repprop
repositori except repositoryexcept
log error fail persist repositori properti
close repositori file system
rep store repstor close
file system except filesystemexcept
log error error close repositori file system
make instanc anymor
dispos
wsp janitor wspjanitor
wsp janitor wspjanitor interrupt
wsp janitor wspjanitor
final releas repositori lock
releas repositori lock releaserepositorylock
log info repositori shutdown
return configur repositori
return repositori configur
repositori config repositoryconfig config getconfig
rep config repconfig
return repositori file system
return repositori file system
file system filesystem file system getfilesystem
rep store repstor
set default properti repositori
method load code properti code
code org apach jackrabbit core repositori properti code resourc
found class path set statist properti
present
param prop properti object load
throw repositoryexcept properti load
set default repositori properti setdefaultrepositoryproperti properti prop
repositori except repositoryexcept
input stream inputstream repositori impl repositoryimpl resourc stream getresourceasstream repositori properti
prop load
close
set count
prop kei containskei stat node count properti stat node count properti
prop set properti setproperti stat node count properti stat node count properti long string tostr node count nodescount
prop kei containskei stat prop count properti stat prop count properti
prop set properti setproperti stat prop count properti stat prop count properti long string tostr prop count propscount
except ioexcept
string msg fail load repositori properti string tostr
log error msg
repositori except repositoryexcept msg
load repositori properti execut step
link properti resourc exist meta data store
properti load resourc
link setdefaultrepositoryproperti properti call
order initi updat repositori properti
default properti chang updat
final link storerepprop properti call order
persist newli gener properti
return newli load initi repositori properti
throw repositoryexcept
properti load rep prop loadrepprop repositori except repositoryexcept
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc meta data store metadatastor properti resourc properti resourc
properti prop properti
prop file propfil exist
input stream inputstream prop file propfil input stream getinputstream
prop load
close
set default prop
set default repositori properti setdefaultrepositoryproperti prop
store
store rep prop storerepprop prop
prop
except
string msg fail load repositori properti
log debug msg
repositori except repositoryexcept msg
store properti persist resourc meta filesytem
throw repositoryexcept
store rep prop storerepprop properti prop repositori except repositoryexcept
file system resourc filesystemresourc prop file propfil file system resourc filesystemresourc meta data store metadatastor properti resourc properti resourc
prop file propfil make parent dir makeparentdir
output stream outputstream prop file propfil output stream getoutputstream
prop store
make stream close
close
except
string msg fail persist repositori properti
log debug msg
repositori except repositoryexcept msg
creat workspac persist manag base
configur persist manag instanti
inform persist manag configur
initi persist manag context
argument
return creat workspac persist manag
throw repositoryexcept persist manag
instanti initi
persist manag persistencemanag creat persist manag createpersistencemanag file home dir homedir
file system filesystem
persist manag config persistencemanagerconfig config pmconfig
node nodeid root node rootnodeid
namespac registri namespaceregistri reg nsreg
node type registri nodetyperegistri reg ntreg
repositori except repositoryexcept
persist manag persistencemanag persist manag persistencemanag config pmconfig instanc newinst
init context pmcontext home dir homedir root node rootnodeid reg nsreg reg ntreg
except
string msg instanti persist manag config pmconfig class getclassnam
repositori except repositoryexcept msg
repositori
inheritdoc
session login credenti credenti string workspac workspacenam
login except loginexcept workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac workspacenam
workspac workspacenam rep config repconfig default workspac getdefaultworkspacenam
check workspac exist throw nosuchworkspaceexcept
workspac info getworkspaceinfo workspac workspacenam
credenti
null credenti obtain ident authent
subject access control context
access control context accesscontrolcontext acc access control accesscontrol context getcontext
subject subject subject subject getsubject acc
subject
creat session createsess subject workspac workspacenam
secur except securityexcept
login except loginexcept
unabl access authent inform
access deni except accessdeniedexcept ad
authent subject author workspac
login except loginexcept workspac access deni ad
login jaa loginmodul
auth context authcontext auth ctx authctx
login modul config loginmoduleconfig lmc rep config repconfig login modul config getloginmoduleconfig
lmc
auth ctx authctx auth context authcontext jaa rep config repconfig app getappnam credenti
auth ctx authctx auth context authcontext local
lmc login modul getloginmodul lmc paramet getparamet credenti
auth ctx authctx login
javax secur auth login login except loginexcept
login except loginexcept messag getmessag
creat session
creat session createsess auth ctx authctx workspac workspacenam
access deni except accessdeniedexcept ad
authent subject author workspac
login except loginexcept ad messag getmessag
inheritdoc
session login string workspac workspacenam
login except loginexcept workspac except nosuchworkspaceexcept repositori except repositoryexcept
login workspac workspacenam
inheritdoc
session login login except loginexcept repositori except repositoryexcept
login
inheritdoc
session login credenti credenti
login except loginexcept repositori except repositoryexcept
login credenti
inheritdoc
string descriptor getdescriptor string kei
rep prop repprop properti getproperti kei
inheritdoc
string descriptor kei getdescriptorkei
string kei string rep prop repprop kei set keyset arrai toarrai string rep prop repprop kei set keyset size
arrai sort kei
kei
sessionlisten
inheritdoc
log loggingout session impl sessionimpl session
inheritdoc
log loggedout session impl sessionimpl session
remov session activ session
activ session activesess remov session
eventlisten
inheritdoc
event onev event iter eventiter event
check statu instanc
dispos
ignor repositori instanc shut
rep prop repprop
event hasnext
event event event event nextev
type event type gettyp
type event node ad node ad event node ad node ad
node count nodescount
rep prop repprop set properti setproperti stat node count properti stat node count properti long string tostr node count nodescount
type event node remov node remov event node remov node remov
node count nodescount
rep prop repprop set properti setproperti stat node count properti stat node count properti long string tostr node count nodescount
type event properti ad properti ad event properti ad properti ad
prop count propscount
rep prop repprop set properti setproperti stat prop count properti stat prop count properti long string tostr prop count propscount
type event properti remov properti remov event properti remov properti remov
prop count propscount
rep prop repprop set properti setproperti stat prop count properti stat prop count properti long string tostr prop count propscount
overrid factori method
creat instanc link sessionimpl class repres
user authent code logincontext code instanc attach
workspac configur code wspconfig code
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occurr creat
session
session impl sessionimpl creat session instanc createsessioninst auth context authcontext login context logincontext
workspac config workspaceconfig wsp config wspconfig
access deni except accessdeniedexcept repositori except repositoryexcept
session impl xasessionimpl login context logincontext wsp config wspconfig
creat instanc link sessionimpl class repres
user repres code subject code instanc attach
workspac configur code wspconfig code
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occurr creat
session
session impl sessionimpl creat session instanc createsessioninst subject subject
workspac config workspaceconfig wsp config wspconfig
access deni except accessdeniedexcept repositori except repositoryexcept
session impl xasessionimpl subject wsp config wspconfig
creat link repositoryimpl workspaceinfo instanc
code wspconfig code
param wspconfig workspac configur
return code workspaceinfo code instanc
workspac info workspaceinfo creat workspac info createworkspaceinfo workspac config workspaceconfig wsp config wspconfig
workspac info workspaceinfo wsp config wspconfig
class
code workspaceinfo code hold object share
multipl session code workspaceimpl code instanc
repres name workspac physic
storag
workspac info workspaceinfo
workspac configur pass constructor
workspac config workspaceconfig config
file system instanti init
file system filesystem
persist manag instanti init
persist manag persistencemanag persist mgr persistmgr
item state provid instanti init
share item state manag shareditemstatemanag item state mgr itemstatemgr
observ manag factori instanti init
observ manag factori observationmanagerfactori ob mgr factori obsmgrfactori
system session lazili instanti
system session systemsess system session systemsess
search manag lazili instanti
search manag searchmanag search mgr searchmgr
lock manag lazili instanti
lock manag impl lockmanagerimpl lock mgr lockmgr
flag indic instanc initi
initi
timestamp workspac determin idl
idl timestamp idletimestamp
creat code workspaceinfo code base
code config code
param config workspac configur
workspac info workspaceinfo workspac config workspaceconfig config
config config
idl timestamp idletimestamp
initi
return workspac
return workspac
string getnam
config getnam
return workspac configur
return workspac configur
workspac config workspaceconfig config getconfig
config
return timestamp workspac idl
workspac idl
return timestamp workspac idl
workspac idl
idl timestamp getidletimestamp
idl timestamp idletimestamp
set timestamp workspac idl
code code workspac mark
activ
param timestamp workspac idl
set idl timestamp setidletimestamp
idl timestamp idletimestamp
return code true code workspac info initi
return code fals code
return code true code workspac info initi
initi isiniti
initi
return workspac file system
return workspac file system
file system filesystem file system getfilesystem
initi
illeg state except illegalstateexcept initi
return workspac persist manag
return workspac persist manag
throw repositoryexcept persist manag instanti initi
persist manag persistencemanag persist manag getpersistencemanag
repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
persist mgr persistmgr
return workspac item state provid
return workspac item state provid
throw repositoryexcept workspac item state provid
creat
share item state manag shareditemstatemanag item state provid getitemstateprovid
repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
item state mgr itemstatemgr
return observ manag factori workspac
return observ manag factori workspac
observ manag factori observationmanagerfactori observ manag factori getobservationmanagerfactori
initi
illeg state except illegalstateexcept initi
ob mgr factori obsmgrfactori
return search manag workspac
return search manag workspac code null code
code searchmanag code
throw repositoryexcept search manag creat
search manag searchmanag search manag getsearchmanag repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
search mgr searchmgr
config search config getsearchconfig
search index configur
search manag lazili instanti order avoid
'chicken egg' bootstrap problem
search mgr searchmgr search manag searchmanag config search config getsearchconfig
reg nsreg
reg ntreg
item state mgr itemstatemgr
root node rootnodeid
system search manag getsystemsearchmanag getnam
system root node system root node
search mgr searchmgr
return lock manag workspac
return lock manag workspac
throw repositoryexcept lock manag creat
lock manag lockmanag lock manag getlockmanag repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
lock manag lazili instanti order avoid
'chicken egg' bootstrap problem
lock mgr lockmgr
lock mgr lockmgr lock manag impl lockmanagerimpl system session getsystemsess
lock mgr lockmgr
return system session workspac
return system session workspac
throw repositoryexcept system session creat
system session systemsess system session getsystemsess repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
system session lazili instanti order avoid
'chicken egg' bootstrap problem
system session systemsess
system session systemsess system session systemsess creat repositori impl repositoryimpl config
system session systemsess
initi workspac info compon
initi immedi
file system
persist manag
share item state manag
observ manag factori
compon initi lazili demand
order save resourc avoid 'chicken egg' bootstrap
problem
system session
lock manag
search manag
initi repositori except repositoryexcept
initi
illeg state except illegalstateexcept initi
log info initi workspac getnam
file system config filesystemconfig config fsconfig config file system config getfilesystemconfig
config fsconfig creat file system createfilesystem
persist mgr persistmgr creat persist manag createpersistencemanag file config home dir gethomedir
config persist manag config getpersistencemanagerconfig
root node rootnodeid
reg nsreg
reg ntreg
creat item state manag
item state mgr itemstatemgr
share item state manag shareditemstatemanag persist mgr persistmgr root node rootnodeid reg ntreg
item state mgr itemstatemgr add virtual item state provid addvirtualitemstateprovid
mgr vmgr virtual item state provid getvirtualitemstateprovid
item state mgr itemstatemgr add virtual item state provid addvirtualitemstateprovid
virt mgr virtntmgr virtual item state provid getvirtualitemstateprovid
except
log error unabl add vmgr string tostr
item state except itemstateexcept is
string msg fail instanti share item state manag
log debug msg
repositori except repositoryexcept msg is
ob mgr factori obsmgrfactori observ manag factori observationmanagerfactori
initi
log info workspac getnam initi
dispos object code workspaceinfo code hold
dispos
initi
illeg state except illegalstateexcept initi
log info shut workspac getnam
dispos observ manag factori
ob mgr factori obsmgrfactori dispos
ob mgr factori obsmgrfactori
shutdown search manag
search mgr searchmgr
search mgr searchmgr close
search mgr searchmgr
close system session
system session systemsess
system session systemsess remov listen removelisten repositori impl repositoryimpl
system session systemsess logout
system session systemsess
dispos share item state manag
item state mgr itemstatemgr dispos
item state mgr itemstatemgr
close persist manag
persist mgr persistmgr close
except
log error error close persist manag workspac
config getnam
persist mgr persistmgr
close lock manag
lock mgr lockmgr
lock mgr lockmgr close
lock mgr lockmgr
close workspac file system
close
file system except filesystemexcept fse
log error error close file system workspac
config getnam fse
reset idl timestamp
idl timestamp idletimestamp
initi
log info workspac getnam shutdown
workspac janitor thread shutdown workspac
idl amount time
workspac janitor workspacejanitor thread
amount time mmillisecond idl workspac
automat shutdown
max idl time maxidletim
interv mmillisecond check idl workspac
check interv checkinterv
creat code workspacejanitor code instanc respons
shut idl workspac
param maxidletim amount time mmillisecond idl
workspac automat shutdown
workspac janitor workspacejanitor max idl time maxidletim
workspacejanitor
set prioriti setprior thread min prioriti min prioriti
set daemon setdaemon
max idl time maxidletim max idl time maxidletim
comput check interv maxidletim
check interv checkinterv max idl time maxidletim
inheritdoc
perform task code true code loop
wait code checkinterv code millisecond
build list initi inact workspac
exclud default workspac
shutdown workspac idl
code maxidletim code millisecond
run
dispos
thread sleep check interv checkinterv
interrupt except interruptedexcept
ignor
repositori impl repositoryimpl
dispos
name workspac
set wsp name wspname hash set hashset wsp info wspinfo kei set keyset
remov default workspac shutdown idl
wsp name wspname remov rep config repconfig default workspac getdefaultworkspacenam
remov workspac activ session
iter activ session activesess valu iter hasnext
session impl sessionimpl se session impl sessionimpl
wsp name wspname remov se workspac getworkspac getnam
remov uniniti workspac
iter wsp info wspinfo valu iter hasnext
workspac info workspaceinfo wsp info wspinfo workspac info workspaceinfo
wsp info wspinfo initi isiniti
wsp name wspname remov wsp info wspinfo getnam
remain name denot workspac idl
iter wsp name wspname iter hasnext
workspac info workspaceinfo wsp info wspinfo workspac info workspaceinfo wsp info wspinfo
current currentt system current time milli currenttimemilli
idl idlet wsp info wspinfo idl timestamp getidletimestamp
idl idlet
set idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp current currentt
current currentt idl idlet max idl time maxidletim
temporarili shutdown workspac
wsp info wspinfo dispos
