org apach jackrabbit core cluster
org slf4j logger
org slf4j logger factori loggerfactori
org apach common file util fileutil
org apach jackrabbit core config cluster config clusterconfig
org apach jackrabbit core config configur except configurationexcept
org apach jackrabbit core config journal config journalconfig
org apach jackrabbit core node nodeid
org apach jackrabbit core journal abstract journal abstractjourn
org apach jackrabbit core journal journal
org apach jackrabbit core journal record consum recordconsum
org apach jackrabbit core journal record
org apach jackrabbit core journal journal except journalexcept
org apach jackrabbit core journal instanc revis instancerevis
org apach jackrabbit core journal record produc recordproduc
org apach jackrabbit core nodetyp invalid node type def except invalidnodetypedefexcept
org apach jackrabbit core nodetyp node type def nodetypedef
org apach jackrabbit core state chang log changelog
org apach jackrabbit uuid uuid
oswego util concurr mutex
javax jcr repositori except repositoryexcept
java file
java except ioexcept
java util hash map hashmap
java util list
java util map
java util collect
default cluster node implement
cluster node clusternod runnabl
namespac event channel namespaceeventchannel node type event channel nodetypeeventchannel record consum recordconsum
cluster record processor clusterrecordprocessor
system properti node
string system properti node system properti node org apach jackrabbit core cluster node
cluster node file
string cluster node file cluster node file cluster node
produc identifi
string produc produc
statu constant
statu constant
start
statu constant
stop
logger
logger log logger factori loggerfactori logger getlogg cluster node clusternod
cluster context
cluster context clustercontext cluster context clustercontext
cluster node
string cluster node clusternodeid
synchron delai millisecond
sync delai syncdelai
journal
journal journal
mutex sync
mutex sync lock synclock mutex
statu flag link link start link stop
statu
map lock listen index workspac
map wsp lock listen wsplocklisten hash map hashmap
map updat listen index workspac
map wsp updat listen wspupdatelisten hash map hashmap
version updat listen
updat event listen updateeventlisten version updat listen versionupdatelisten
namespac listen
namespac event listen namespaceeventlisten namespac listen namespacelisten
node type listen
node type event listen nodetypeeventlisten node type listen nodetypelisten
instanc revis manag
instanc revis instancerevis instanc revis instancerevis
record produc
record produc recordproduc produc
record deseri
cluster record deseri clusterrecorddeseri deseri cluster record deseri clusterrecorddeseri
initi cluster node
throw clusterexcept error occur
init cluster context clustercontext cluster context clustercontext cluster except clusterexcept
cluster context clustercontext cluster context clustercontext
init
initi cluster node overrid
throw clusterexcept error occur
init cluster except clusterexcept
cluster config clusterconfig cluster context clustercontext cluster config getclusterconfig
cluster node clusternodeid cluster node getclusternodeid getid
sync delai syncdelai sync delai getsyncdelai
journal config journalconfig journal config getjournalconfig
journal journal instanc newinst
set repositori home setrepositoryhom journal cluster context clustercontext repositori home getrepositoryhom
journal init cluster node clusternodeid cluster context clustercontext namespac resolv getnamespaceresolv
instanc revis instancerevis journal instanc revis getinstancerevis
journal regist
produc journal produc getproduc produc produc
configur except configurationexcept
cluster except clusterexcept messag getmessag getcaus
journal except journalexcept
cluster except clusterexcept messag getmessag getcaus
set journal' repositori home
code abstractjourn code
param journal journal instanc
param rephom repositori home
set repositori home setrepositoryhom journal journal file rep home rephom
journal abstract journal abstractjourn
abstract journal abstractjourn abstract journal abstractjourn journal
set repositori home setrepositoryhom rep home rephom
start cluster node
throw clusterexcept error occur
start cluster except clusterexcept
statu
sync
thread thread clusternod cluster node clusternodeid
set daemon setdaemon
start
statu start
run loop sync node delai
run
wait sync delai syncdelai
interrupt except interruptedexcept
statu stop
sync
cluster except clusterexcept
string msg period sync journal fail messag getmessag
log error msg
except
string msg unexpect error sync journal messag getmessag
log error msg
error
string msg unexpect error sync journal messag getmessag
log error msg
synchron content journal
throw clusterexcept error occur
sync cluster except clusterexcept
sync lock synclock acquir
interrupt except interruptedexcept
string msg interrupt wait mutex
cluster except clusterexcept msg
journal sync
journal except journalexcept
cluster except clusterexcept messag getmessag getcaus
sync lock synclock releas
stop cluster node
stop
statu stop
statu stop
journal
journal close
instanc revis instancerevis
instanc revis instancerevis close
notifi notifyal
creat link updateeventchannel workspac
param workspac workspac
return lock event channel
updat event channel updateeventchannel creat updat channel createupdatechannel string workspac
workspac updat channel workspaceupdatechannel workspac
creat link lockeventchannel workspac
param workspac workspac
return lock event channel
lock event channel lockeventchannel creat lock channel createlockchannel string workspac
workspac lock channel workspacelockchannel workspac
return journal creat cluster node
return journal
journal journal getjourn
journal
return instanc node cluster
param configur code null code gener uniqu
string cluster node getclusternodeid string cluster except clusterexcept
system properti getproperti system properti node system properti node
cluster node file getclusternodeidfromfil
except ioexcept
cluster except clusterexcept messag getmessag getcaus
return cluster node file creat
return store gener cluster
throw ioexcept error occur
string cluster node file getclusternodeidfromfil except ioexcept
string filenam cluster context clustercontext repositori home getrepositoryhom file separ cluster node file cluster node file
file file filenam
exist read canread
file util fileutil read file string readfiletostr
string uuid random uuid randomuuid string tostr
file util fileutil write string file writestringtofil
namespaceeventlisten
inheritdoc
remap string prefix oldprefix string prefix newprefix string uri
statu start
log info start namespac oper
cluster record clusterrecord record
succeed
record namespac record namespacerecord prefix oldprefix prefix newprefix uri produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
set listen setlisten namespac event listen namespaceeventlisten listen
namespac listen namespacelisten listen
nodetypeeventlisten
inheritdoc
regist collect def ntdef
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record node type record nodetyperecord def ntdef produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
reregist node type def nodetypedef def ntdef
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record node type record nodetyperecord def ntdef produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
unregist collect qname
statu start
log info start nodetyp oper
cluster record clusterrecord record
succeed
record node type record nodetyperecord qname produc append
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed record
record cancel updat cancelupd
inheritdoc
set listen setlisten node type event listen nodetypeeventlisten listen
node type listen nodetypelisten listen
workspac updat channel
workspac updat channel workspaceupdatechannel updat event channel updateeventchannel
attribut store record
string attribut record attribut record record
workspac
string workspac
creat instanc class
param workspac workspac
workspac updat channel workspaceupdatechannel string workspac
workspac workspac
inheritdoc
updat creat updatecr updat updat
statu start
log info start updat creat
record record produc append
updat set attribut setattribut attribut record attribut record record
journal except journalexcept
string msg unabl creat log entri
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
updat prepar updateprepar updat updat
statu start
log info start updat prepar
record record record updat attribut getattribut attribut record attribut record
record
string msg record creat
log warn msg
list event updat event getev
chang log changelog updat getchang
succeed
chang log record changelogrecord clr chang log record changelogrecord event
record workspac
clr write
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error prepar log entri
log error msg
succeed record
record cancel updat cancelupd
updat set attribut setattribut attribut record attribut record
inheritdoc
updat commit updatecommit updat updat
statu start
log info start updat commit
record record record updat attribut getattribut attribut record attribut record
record
string msg record prepar
log warn msg
record updat
set revis setrevis record revis getrevis
log debug append revis long record revis getrevis
journal except journalexcept
string msg unabl commit log entri
log error msg
throwabl
string msg unexpect error commit log entri
log error msg
updat set attribut setattribut attribut record attribut record
inheritdoc
updat cancel updatecancel updat updat
statu start
log info start updat cancel
record record record updat attribut getattribut attribut record attribut record
record
record cancel updat cancelupd
updat set attribut setattribut attribut record attribut record
inheritdoc
set listen setlisten updat event listen updateeventlisten listen
workspac
version updat listen versionupdatelisten listen
wsp updat listen wspupdatelisten remov workspac
listen
wsp updat listen wspupdatelisten put workspac listen
workspac lock channel
workspac lock channel workspacelockchannel lock event channel lockeventchannel
workspac
string workspac
creat instanc class
param workspac workspac
workspac lock channel workspacelockchannel string workspac
workspac workspac
inheritdoc
cluster oper clusteroper creat node nodeid node nodeid deep string owner
statu start
log info start lock oper
cluster record clusterrecord record lock record lockrecord node nodeid deep owner
produc append workspac
default cluster oper defaultclusteroper cluster node clusternod record
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
cluster oper clusteroper creat node nodeid node nodeid
statu start
log info start unlock oper
cluster record clusterrecord record lock record lockrecord node nodeid produc append
workspac
default cluster oper defaultclusteroper cluster node clusternod record
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
inheritdoc
set listen setlisten lock event listen lockeventlisten listen
wsp lock listen wsplocklisten remov workspac
listen
wsp lock listen wsplocklisten put workspac listen
recordconsum
inheritdoc
string getid
produc produc
inheritdoc
revis getrevis
instanc revis instancerevis
journal except journalexcept
log warn unabl return current revis
long max max
inheritdoc
consum record record
log info process revis record revis getrevis
deseri deseri record process
journal except journalexcept
string msg unabl read revis record revis getrevis
log error msg
inheritdoc
set revis setrevis revis
instanc revis instancerevis set revis
journal except journalexcept
log warn unabl set current revis revis
clusterrecordprocessor
inheritdoc
process chang log record changelogrecord record
string workspac record workspac getworkspac
updat event listen updateeventlisten listen
workspac
listen updat event listen updateeventlisten wsp updat listen wspupdatelisten workspac
listen
cluster context clustercontext updat event readi updateeventsreadi workspac
repositori except repositoryexcept
string msg error make updat listen workspac
workspac onlin messag getmessag
log warn msg
listen updat event listen updateeventlisten wsp updat listen wspupdatelisten workspac
listen
string msg updat listen unavail workspac workspac
log error msg
version updat listen versionupdatelisten
listen version updat listen versionupdatelisten
string msg version updat listen unavail
log error msg
listen extern updat externalupd record getchang record event getev
repositori except repositoryexcept
string msg unabl deliv updat event messag getmessag
log error msg
inheritdoc
process lock record lockrecord record
string workspac record workspac getworkspac
lock event listen lockeventlisten listen lock event listen lockeventlisten wsp lock listen wsplocklisten workspac
listen
cluster context clustercontext lock event readi lockeventsreadi workspac
repositori except repositoryexcept
string msg unabl make lock listen workspac
workspac onlin messag getmessag
log warn msg
listen lock event listen lockeventlisten wsp lock listen wsplocklisten workspac
listen
string msg lock channel unavail workspac workspac
log error msg
record lock islock
listen extern lock externallock record node getnodeid record deep isdeep
record user getuserid
listen extern unlock externalunlock record node getnodeid
repositori except repositoryexcept
string msg unabl deliv lock event messag getmessag
log error msg
inheritdoc
process namespac record namespacerecord record
namespac listen namespacelisten
string msg namespac listen unavail
log error msg
namespac listen namespacelisten extern remap externalremap record prefix getoldprefix
record prefix getnewprefix record uri geturi
repositori except repositoryexcept
string msg unabl deliv namespac oper messag getmessag
log error msg
inheritdoc
process node type record nodetyperecord record
node type listen nodetypelisten
string msg nodetyp listen unavail
log error msg
collect coll record collect getcollect
record oper getoper
node type record nodetyperecord regist
node type listen nodetypelisten extern regist externalregist coll
node type record nodetyperecord unregist
node type listen nodetypelisten extern unregist externalunregist coll
node type record nodetyperecord reregist
node type def nodetypedef ntd node type def nodetypedef coll iter
node type listen nodetypelisten extern reregist externalreregist ntd
invalid node type def except invalidnodetypedefexcept
string msg unabl deliv node type oper messag getmessag
log error msg
repositori except repositoryexcept
string msg unabl deliv node type oper messag getmessag
log error msg
invok cluster oper end code success code
attempt fill journal record updat cancel
updat
param oper cluster oper
param success code true code oper success
journal record updat
code fals code revok
end default cluster oper defaultclusteroper oper success
cluster record clusterrecord record oper record getrecord
succeed
success
record write
record updat
set revis setrevis record revis getrevis
succeed
journal except journalexcept
string msg unabl creat log entri messag getmessag
log error msg
throwabl
string msg unexpect error creat log entri
log error msg
succeed
record cancel updat cancelupd
