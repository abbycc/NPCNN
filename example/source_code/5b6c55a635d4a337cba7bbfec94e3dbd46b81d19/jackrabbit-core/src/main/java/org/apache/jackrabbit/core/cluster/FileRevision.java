org apach jackrabbit core cluster
org slf4j logger factori loggerfactori
org slf4j logger
java file
java except ioexcept
java random access file randomaccessfil
java nio channel file lock filelock
maintain file base revis counter lock assur uniqu
file revis filerevis
logger
logger log logger factori loggerfactori logger getlogg file revis filerevis
underli file
file file
underli random access file
random access file randomaccessfil raf
file lock
file lock filelock lock
current lock count
lock
creat file base revis counter
param file hold global counter
file revis filerevis file file
file file
file exist
file creat file createnewfil
except ioexcept
string msg error attempt creat file file messag getmessag
log warn msg
lock underli file
param share reader
lock share journal except journalexcept
lock
raf random access file randomaccessfil file share
lock raf channel getchannel lock long max max share
except ioexcept
string msg error occur messag getmessag
journal except journalexcept msg
lock raf
raf close
except ioexcept
string msg error close file file path getpath messag getmessag
log warn msg
raf
lock
unlock underli file
unlock
lock lock
lock releas
except ioexcept
string msg error releas lock messag getmessag
log warn msg
lock
raf close
except ioexcept
string msg error close file messag getmessag
log warn msg
raf
return current counter
return counter
throw journalexcept error occur
journal except journalexcept
lock
raf length
raf seek
raf read long readlong
except ioexcept
journal except journalexcept error occur
unlock
set current counter
param counter
throw journalexcept error occur
set journal except journalexcept
lock
raf seek
raf write long writelong
except ioexcept
journal except journalexcept error occur
unlock
