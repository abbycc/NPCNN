org apach jackrabbit core version
org apach jackrabbit core node impl nodeimpl
org apach jackrabbit core node nodeid
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit core state node state nodest child node entri childnodeentri
org apach jackrabbit core intern internalvalu
org apach jackrabbit spi
org apach jackrabbit uuid uuid
org apach jackrabbit spi common constant nameconst
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr properti type propertytyp
javax jcr referenti integr except referentialintegrityexcept
javax jcr repositori except repositoryexcept
javax jcr
javax jcr version version except versionexcept
java util calendar
java util hash map hashmap
java util iter
java util list
java util set
implement code internalversionhistori code
intern version histori impl internalversionhistoryimpl intern version item impl internalversionitemimpl
intern version histori internalversionhistori
default logger
logger log logger factori loggerfactori logger getlogg intern version histori internalversionhistori
cach version label
kei version label string
version
hash map hashmap label cach labelcach hash map hashmap
root version histori
intern version internalvers root version rootvers
hashmap version name
kei version
version nodeid
hash map hashmap cach namecach hash map hashmap
hashmap version
kei version nodeid
version
hash map hashmap version cach versioncach hash map hashmap
temporari version cach refresh
hash map hashmap temp version cach tempversioncach hash map hashmap
node hold label node
node state nodestateex label node labelnod
histori
node nodeid histori historyid
version node
node nodeid version versionableid
creat versionhistori object node state
intern version histori impl internalversionhistoryimpl abstract version manag abstractversionmanag mgr vmgr node state nodestateex node
repositori except repositoryexcept
mgr vmgr node
init
initiali histori load intern cach
throw repositoryexcept
init repositori except repositoryexcept
cach namecach clear
version cach versioncach clear
label cach labelcach clear
histori historyid node node getnodeid
version
version versionableid node nodeid valueof node properti getpropertyvalu constant nameconst jcr versionableuuid jcr versionableuuid string tostr
label node
label node labelnod node node getnod constant nameconst jcr versionlabel jcr versionlabel
init label cach
properti state propertyst label label node labelnod properti getproperti
label length
properti state propertyst state pstate label
state pstate type gettyp properti type propertytyp refer
label labelnam state pstate getnam
uuid ref state pstate valu getvalu uuid getuuid
node nodeid node nodeid ref
node state getstat child node entri haschildnodeentri
label cach labelcach put label labelnam node state getstat child node entri getchildnodeentri getnam
log warn error resolv label refer version miss ref
item state except itemstateexcept
repositori except repositoryexcept
root version
root version rootvers creat version instanc createversioninst constant nameconst jcr rootvers jcr rootvers
version entri
child node entri childnodeentri children child node entri childnodeentri
node state getstat child node entri getchildnodeentri arrai toarrai
children length
child node entri childnodeentri child children
child getnam equal constant nameconst jcr versionlabel jcr versionlabel
cach namecach put child getnam child getid
fix legaci
root version rootvers successor getsuccessor length
iter iter cach namecach kei set keyset iter
iter hasnext
version versionnam iter
intern version impl internalversionimpl intern version impl internalversionimpl creat version instanc createversioninst version versionnam
legaci resolv successor legacyresolvesuccessor
reload object depend version object
reload repositori except repositoryexcept
temp version cach tempversioncach put putal version cach versioncach
init
invalid version referenc
iter iter temp version cach tempversioncach valu iter
iter hasnext
intern version impl internalversionimpl intern version impl internalversionimpl iter
invalid
temp version cach tempversioncach clear
creat version instanc
intern version impl internalversionimpl creat version instanc createversioninst
node state nodestateex node state nodestateex node node getnod
intern version impl internalversionimpl creat version instanc createversioninst node state nodestateex
version cach versioncach put getid
mgr vmgr version creat versioncr
add label
iter iter label cach labelcach kei set keyset iter
iter hasnext
label labelnam iter
version versionnam label cach labelcach label labelnam
getnam equal version versionnam
intern add label internaladdlabel label labelnam
repositori except repositoryexcept
illeg argument except illegalargumentexcept fail creat version
creat version instanc resurrect version temporarili swap
refresh histori
intern version impl internalversionimpl creat version instanc createversioninst node state nodestateex child
intern version impl internalversionimpl intern version impl internalversionimpl temp version cach tempversioncach remov child node getnodeid
clear
intern version impl internalversionimpl child child getnam
inheritdoc
node nodeid getid
histori historyid
inheritdoc
intern version item internalversionitem parent getpar
inheritdoc
intern version internalvers root version getrootvers
root version rootvers
inheritdoc
intern version internalvers version getvers version versionnam version except versionexcept
node nodeid version versionid node nodeid cach namecach version versionnam
version versionid
version except versionexcept version version versionnam exist
intern version internalvers intern version internalvers version cach versioncach version versionid
creat version instanc createversioninst version versionnam
inheritdoc
version hasvers version versionnam
cach namecach kei containskei version versionnam
inheritdoc
version hasvers node nodeid
cach namecach containsvalu
inheritdoc
intern version internalvers version getvers node nodeid
intern version internalvers intern version internalvers version cach versioncach
iter iter cach namecach kei set keyset iter
iter hasnext
version versionnam iter
cach namecach version versionnam equal
creat version instanc createversioninst version versionnam
inheritdoc
intern version internalvers version label getversionbylabel label
version versionnam label cach labelcach label
version versionnam
node nodeid node nodeid cach namecach version versionnam
intern version internalvers intern version internalvers version cach versioncach
creat version instanc createversioninst version versionnam
inheritdoc
num version getnumvers
cach namecach size
inheritdoc
uuid version uuid getversionableuuid
version versionableid uuid getuuid
inheritdoc
version label getversionlabel
label cach labelcach kei set keyset arrai toarrai label cach labelcach size
inheritdoc
node nodeid version label getversionlabelsid
label node labelnod node getnodeid
remov version versionhistori
vesion exist specifi root version
referenc node base version versionexcept thrown
successor remov version successor
predecessor remov version vice versa entir
version node subnod remov
param versionnam
throw versionexcept
remov version removevers version versionnam repositori except repositoryexcept
intern version impl internalversionimpl intern version impl internalversionimpl version getvers version versionnam
equal root version rootvers
string msg remov version versionnam allow
log debug msg
version except versionexcept msg
check refer version storag exist version
list ref mgr vmgr item refer getitemrefer
ref empti isempti
referenti integr except referentialintegrityexcept unabl remov version referenc
unregist label
label intern label internalgetlabel
label length
intern remov label internalremovelabel label
label node labelnod remov properti removeproperti label
detach version graph
intern detach internaldetach
remov persist state
node remov node removenod getnam
remov histori
version cach versioncach remov getid
cach namecach remov version versionnam
mgr vmgr version destroi versiondestroi
store
node store
set version code label code code version code
label assign version versionexcept
thrown code move code code true code code version code
code null code label remov respect version
case version label previous assign return
code null code label move
param versionnam version
param label label assgign
param move flag collis
return version previous assign label code null code
throw versionexcept
intern version internalvers set version label setversionlabel version versionnam label move
version except versionexcept
intern version internalvers version
version versionnam version getvers version versionnam
version versionnam version
version except versionexcept version version versionnam exist version histori
prev prevnam label cach labelcach label
intern version impl internalversionimpl prev
prev prevnam
version
prev intern version impl internalversionimpl version getvers prev prevnam
prev equal version
version
move
defin throw
version except versionexcept version label label defin version prev getnam
updat persist
version
label node labelnod remov properti removeproperti label
label node labelnod set properti setpropertyvalu label intern internalvalu creat version getid uuid getuuid
label node labelnod store
repositori except repositoryexcept
version except versionexcept
updat intern structur
prev
prev intern remov label internalremovelabel label
label cach labelcach remov label
version
label cach labelcach put label version getnam
intern version impl internalversionimpl version intern add label internaladdlabel label
prev
check node creat version freez
state node
param
param src
return
throw repositoryexcept
intern version impl internalversionimpl checkin node impl nodeimpl src
repositori except repositoryexcept
copi predecessor src node
pred src properti getproperti constant nameconst jcr predecessor jcr predecessor valu getvalu
intern internalvalu predecessor intern internalvalu pred length
pred length
uuid pred predid uuid string fromstr pred string getstr
check version exist
cach namecach containsvalu node nodeid pred predid
repositori except repositoryexcept invalid predecessor sourc node
predecessor intern internalvalu creat pred predid
node nodeid version versionid node nodeid uuid random uuid randomuuid
node state nodestateex node vnode node add node addnod constant nameconst version version version versionid
initi 'created' 'predecessors' 'successors'
node vnode set properti setpropertyvalu constant nameconst jcr creat jcr creat intern internalvalu creat calendar instanc getinst
node vnode set properti valu setpropertyvalu constant nameconst jcr predecessor jcr predecessor properti type propertytyp refer predecessor
node vnode set properti valu setpropertyvalu constant nameconst jcr successor jcr successor properti type propertytyp refer intern internalvalu empti arrai empti arrai
checkin sourc node
intern frozen node impl internalfrozennodeimpl checkin node vnode constant nameconst jcr frozennod jcr frozennod src
updat version graph
intern version impl internalversionimpl version intern version impl internalversionimpl node vnode
version intern attach internalattach
store
node store
mgr vmgr version creat versioncr version
updat cach
version cach versioncach put version getid version
cach namecach put version getnam version getid
version
creat code internalversionhistori code parent
node
param parent
param
return
throw repositoryexcept
intern version histori impl internalversionhistoryimpl creat abstract version manag abstractversionmanag mgr vmgr
node state nodestateex parent
node nodeid histori historyid
node state nodest node state nodest
repositori except repositoryexcept
creat histori node
node state nodestateex node pnode parent add node addnod constant nameconst versionhistori versionhistori histori historyid
set version uuid
string version uuid versionableuuid node state nodest node getnodeid uuid getuuid string tostr
node pnode set properti setpropertyvalu constant nameconst jcr versionableuuid jcr versionableuuid intern internalvalu creat version uuid versionableuuid
creat label node
node pnode add node addnod constant nameconst jcr versionlabel jcr versionlabel constant nameconst versionlabel versionlabel
creat root version
node nodeid version versionid node nodeid uuid random uuid randomuuid
node state nodestateex node vnode node pnode add node addnod constant nameconst jcr rootvers jcr rootvers constant nameconst version version version versionid
initi 'created' 'predecessors'
node vnode set properti setpropertyvalu constant nameconst jcr creat jcr creat intern internalvalu creat calendar instanc getinst
node vnode set properti valu setpropertyvalu constant nameconst jcr predecessor jcr predecessor properti type propertytyp refer intern internalvalu empti arrai empti arrai
node vnode set properti valu setpropertyvalu constant nameconst jcr successor jcr successor properti type propertytyp refer intern internalvalu empti arrai empti arrai
add empti frozen node root version
node state nodestateex node node vnode add node addnod constant nameconst jcr frozennod jcr frozennod constant nameconst frozennod frozennod
initi intern properti
node set properti setpropertyvalu constant nameconst jcr frozenuuid jcr frozenuuid intern internalvalu creat version uuid versionableuuid
node set properti setpropertyvalu constant nameconst jcr frozenprimarytyp jcr frozenprimarytyp
intern internalvalu creat node state nodest node type getnodetypenam
set mixin node state nodest mixin type name getmixintypenam
mixin size
intern internalvalu ivalu intern internalvalu mixin size
iter iter mixin iter
mixin size
ivalu intern internalvalu creat iter
node set properti valu setpropertyvalu constant nameconst jcr frozenmixintyp jcr frozenmixintyp properti type propertytyp ivalu
parent store
intern version histori impl internalversionhistoryimpl mgr vmgr node pnode
