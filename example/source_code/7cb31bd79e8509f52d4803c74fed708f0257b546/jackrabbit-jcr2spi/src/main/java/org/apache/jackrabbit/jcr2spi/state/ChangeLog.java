org apach jackrabbit jcr2spi state
org apach jackrabbit jcr2spi oper oper
org apach jackrabbit jcr2spi oper add node addnod
org apach jackrabbit jcr2spi oper add properti addproperti
org apach jackrabbit jcr2spi oper set mixin setmixin
org apach jackrabbit jcr2spi hierarchi node entri nodeentri
org apach jackrabbit spi common constant nameconst
org apach common collect iter iter chain iteratorchain
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr nodetyp constraint violat except constraintviolationexcept
javax jcr repositori except repositoryexcept
java util iter
java util set
java util link hash set linkedhashset
java util hash set hashset
java util collect
regist made state refer consolid
empti
chang log changelog
logger instanc class
logger log logger factori loggerfactori logger getlogg chang log changelog
changelog target root item tree contain
changelog
item state itemst target
ad state
set ad state addedst link hash set linkedhashset
modifi state
set modifi state modifiedst link hash set linkedhashset
delet state
set delet state deletedst link hash set linkedhashset
set oper
set oper link hash set linkedhashset
param target
chang log changelog item state itemst target
target target
inform changelog
add oper list oper record
current updat cycl changelog
param oper
add oper addoper oper oper
oper add oper
state ad
param state state ad
ad item state itemst state
ad state addedst add state
state modifi state state
collect ad add
modifi state collect
param state state modifi
modifi item state itemst state
ad state addedst state
modifi state modifiedst add state
state delet state state
collect ad remov
modifi state collect add
delet state collect
param state state delet
delet item state itemst state
ad state addedst remov state
modifi state modifiedst remov state
delet state deletedst add state
call method chang log sucessfulli persist
implement call link itemst persist changelog
itemst refresh target item chang log
persist
target persist
revert list changelog
undo repositori except repositoryexcept
todo check state revert correct order
iter iter ad state addedst delet state deletedst modifi state modifiedst
iter chain iteratorchain chain iter chain iteratorchain
chain hasnext
item state itemst state item state itemst chain
state hierarchi entri gethierarchyentri revert
retriev inform present changelog
return target state
item state itemst target gettarget
target
return code true code changelog empti
empti isempti
oper empti isempti
return iter oper
iter oper getoper
oper iter
return iter ad state
return iter ad state
iter ad state addedst
ad state addedst iter
return iter modifi state
return iter modifi state
iter modifi state modifiedst
modifi state modifiedst iter
return iter delet state
return iter delet state
iter delet state deletedst
delet state deletedst iter
return true chang log code itemst code
set transient remov state
param state
return
delet state containsdeletedst item state itemst state
delet state deletedst state
remov subset changelog repres
code changelog code changelog
param subchangelog remov entri state oper present
changelog changelog
remov removeal chang log changelog chang log subchangelog
ad state addedst remov removeal chang log subchangelog ad state addedst
modifi state modifiedst remov removeal chang log subchangelog modifi state modifiedst
delet state deletedst remov removeal chang log subchangelog delet state deletedst
oper remov removeal chang log subchangelog oper
adjust changelog statu chang
itemst
remov entri oper relat itemst
respect statu chang
param state
statu chang statuschang item state itemst state previou statu previousstatu
state statu getstatu
statu exist
previou statu previousstatu
statu exist modifi exist modifi
modifi refresh
modifi state modifiedst remov state
statu exist remov exist remov
remov refresh
delet state deletedst remov state
statu stale modifi stale modifi
modifi state refresh
modifi state modifiedst remov state
statu
save
ad state addedst remov state
todo check correct changelog clear remov oper
statu exist modifi exist modifi
modifi state
statu exist remov exist remov
delet state
removeaffectedoper state
statu remov
previou statu previousstatu
statu exist remov exist remov
remov save
delet state deletedst remov state
remov affect oper removeaffectedoper state
statu
state remov newstateremov state
state remov newstateremov item state itemst state
node entri nodeentri parent entri parententri state hierarchi entri gethierarchyentri parent getpar
parent entri parententri isavail statu termin istermin parent entri parententri statu getstatu
return todo check correct
remov
ad state addedst remov state
remov oper perform remov state
remov affect oper removeaffectedoper state
remov add oper
affect state 'add' oper parent
ad state set oper search
parent state proper oper type
set mixin consid special case ad properti
node state nodest parent
parent parent entri parententri node state getnodest
repositori except repositoryexcept
occur
log error intern error
iter oper iter hasnext
oper oper
add node addnod
add node addnod oper add node addnod
oper parent state getparentst parent
oper node getnodenam equal state getnam
todo work sibl
remov
add properti addproperti
add properti addproperti oper add properti addproperti
oper parent state getparentst parent
oper properti getpropertynam equal state getnam
remov
set mixin setmixin
constant nameconst jcr mixintyp jcr mixintyp equal state getnam
set mixin setmixin node state getnodest parent
remov
remov affect oper removeaffectedoper item state itemst state
iter oper iter hasnext
oper oper
affect item state getaffecteditemst state
remov
make changelog total 'self contained'
independ item scope updat oper
'external' depend
move node requir target node includ
parent save
check contain checkisselfcontain constraint violat except constraintviolationexcept
set affect state affectedst hash set hashset
affect state affectedst add addal modifi state modifiedst
affect state affectedst add addal delet state deletedst
affect state affectedst add addal ad state addedst
check affect state list oper
list modifi delet ad state collect
changelog
iter oper getoper
hasnext
oper oper
collect state opstat affect item state getaffecteditemst
affect state affectedst containsal state opstat
save parent
string msg changelog contain
constraint violat except constraintviolationexcept msg
popul code changelog code oper
scope chang set
param oper iter code oper code
candid includ code changelog code
collect oper collectoper iter oper
set affect state affectedst hash set hashset
affect state affectedst add addal ad state addedst
affect state affectedst add addal delet state deletedst
affect state affectedst add addal modifi state modifiedst
oper hasnext
oper oper oper
iter state affect item state getaffecteditemst iter
state hasnext
item state itemst state item state itemst state
affect state affectedst state
add oper addoper
reset chang log remov member insid
map built
reset
ad state addedst clear
modifi state modifiedst clear
delet state deletedst clear
clear oper
oper clear
object
return string represent chang log diagnost
purpos
return string represent chang log
string string tostr
string buffer stringbuff buf string buffer stringbuff
buf append
buf append addedst append ad state addedst size
buf append modifiedst append modifi state modifiedst size
buf append deletedst append delet state deletedst size
buf append
buf string tostr
