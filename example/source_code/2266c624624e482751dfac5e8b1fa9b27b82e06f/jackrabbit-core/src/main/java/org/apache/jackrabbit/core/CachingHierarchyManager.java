org apach jackrabbit core
org apach common collect map refer map referencemap
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state node state nodest
org apach jackrabbit core state node state listen nodestatelisten
org apach jackrabbit core util dumpabl
org apach jackrabbit malform path except malformedpathexcept
org apach jackrabbit path
org apach jackrabbit path resolv pathresolv
org apach jackrabbit qname
org apach jackrabbit util path map pathmap
org slf4j logger
org slf4j logger factori loggerfactori
java util hash set hashset
java util iter
java util set
java print stream printstream
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
implement code hierarchymanag code cach path
item
cach hierarchi manag cachinghierarchymanag hierarchi manag impl hierarchymanagerimpl
node state listen nodestatelisten dumpabl
default upper limit cach state
default upper limit default upper limit
logger instanc
logger log logger factori loggerfactori logger getlogg cach hierarchi manag cachinghierarchymanag
map path children path map
path map pathmap path cach pathcach path map pathmap
map item id code lruentri code path map
refer map referencemap cach idcach refer map referencemap refer map referencemap hard refer map referencemap hard
set item move
set move id movedid hash set hashset
cach monitor object
object cach monitor cachemonitor object
upper limit
upper limit upperlimit
head lru
lru entri lruentri head
tail lru
lru entri lruentri tail
creat instanc class
param rootnodeid root node
param provid item state manag
param resolv namespac resolv
cach hierarchi manag cachinghierarchymanag node nodeid root node rootnodeid
item state manag itemstatemanag provid
path resolv pathresolv resolv
root node rootnodeid provid resolv
upper limit upperlimit default upper limit default upper limit
base class overrid
inheritdoc
cach intermedi item insid cach
item itemid resolv path resolvepath path path item state itemst state
item state except itemstateexcept
state node isnod cach iscach state getid
path path builder pathbuild builder path path builder pathbuild
path path element pathel element path element getel
builder add addlast element
path parent path parentpath builder path getpath
cach node state nodest state parent path parentpath
malform path except malformedpathexcept mpe
log warn fail build path state getid mpe
resolv path resolvepath path state
inheritdoc
overridden method find map intermedi item
code state code add path element builder
map found item cach
base implement invok
build path buildpath path path builder pathbuild builder item state itemst state
item state except itemstateexcept repositori except repositoryexcept
state node isnod
path map pathmap element element state getid
element
path path element pathel element element path getpath element getel
element length
builder add addfirst element
malform path except malformedpathexcept mpe
string msg fail build path state getid
log debug msg
repositori except repositoryexcept msg mpe
build path buildpath builder state
state node isnod
cach node state nodest state builder path getpath
malform path except malformedpathexcept mpe
log warn fail build path state getid
hierarchymanag
inheritdoc
check path insid cach
item itemid resolv path resolvepath path path repositori except repositoryexcept
run base class shortcut saniti check
path denot root denotesroot
root node rootnodeid
path canon iscanon
string msg path canon
log debug msg
repositori except repositoryexcept msg
path map pathmap element element map path
element
resolv path resolvepath path
lru entri lruentri entri lru entri lruentri element
element path haspath path
entri touch
entri getid
resolv path resolvepath path entri getid element depth getdepth
inheritdoc
overridden method simpli check item match
return path call base implement
path path getpath item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
denot node denotesnod
path map pathmap element element
element
element path getpath
malform path except malformedpathexcept mpe
string msg fail build path
log debug msg
repositori except repositoryexcept msg mpe
path getpath
inheritdoc
qname getnam item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
denot node denotesnod
path map pathmap element element
element
element getnam
getnam
inheritdoc
depth getdepth item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
denot node denotesnod
path map pathmap element element
element
element depth getdepth
depth getdepth
inheritdoc
ancestor isancestor node nodeid node nodeid item itemid item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
item itemid denot node denotesnod
path map pathmap element element node nodeid
element
path map pathmap element child item itemid
child
element ancestor isancestorof child
ancestor isancestor node nodeid item itemid
itemstatelisten
inheritdoc
state creat statecr item state itemst creat
inheritdoc
state modifi statemodifi item state itemst modifi
modifi node isnod
node modifi nodemodifi node state nodest modifi
inheritdoc
evict move renam item cach
node modifi nodemodifi node state nodest modifi
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach modifi node getnodeid
entri
item cach ignor
path map pathmap element element entri element getel
iter iter element children getchildren
iter hasnext
path map pathmap element child path map pathmap element iter
node state nodest child node entri childnodeentri cne modifi child node entri getchildnodeentri
child getnam child normal index getnormalizedindex
cne
item exist remov
child remov
remov child
lru entri lruentri child entri childentri lru entri lruentri child
child entri childentri cne getid equal child entri childentri getid
child item remov
child remov
remov child
inheritdoc
state destroi statedestroi item state itemst destroi
remov destroi getid
inheritdoc
state discard statediscard item state itemst discard
discard transient istransi discard overlai state hasoverlayedst
discard statu getstatu item state itemst statu statu
node discard remov cach
remov discard getid
provid item state hasitemst discard getid
evict discard getid
remov discard getid
inheritdoc
node ad nodead node state nodest state qname index node nodeid
optim ignor notif node cach
cach monitor cachemonitor
cach idcach kei containskei state node getnodeid
path path path creat path getpath state node getnodeid index
insert path
path found except pathnotfoundexcept
log warn unabl path node state node getnodeid
event
malform path except malformedpathexcept
log warn unabl creat path
item found except itemnotfoundexcept
log warn unabl find item state node getnodeid
repositori except repositoryexcept
log warn unabl path state node getnodeid
inheritdoc
iter cach children state verifi
child' posit
node replac nodesreplac node state nodest state
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach state node getnodeid
entri
path map pathmap element element entri element getel
iter iter element children getchildren
iter hasnext
path map pathmap element child path map pathmap element iter
lru entri lruentri child entri childentri lru entri lruentri child
child entri childentri
child uuid inform
unabl determin child'
posit accur assum
worst remov
child remov
remov child
node nodeid child childid child entri childentri getid
node state nodest child node entri childnodeentri cne state child node entri getchildnodeentri child childid
cne
child longer parent node state remov
child remov
remov child
cne getnam equal child getnam
cne index getindex child normal index getnormalizedindex
child exist posit
element move child path element getpathel
path path element pathel creat cne getnam cne index getindex
point child' posit valid
inheritdoc
node remov noderemov node state nodest state qname index node nodeid
optim ignor notif node cach
cach monitor cachemonitor
cach idcach kei containskei state node getnodeid
path path path creat path getpath state node getnodeid index
remov path
path found except pathnotfoundexcept
log warn unabl path node state node getnodeid
event
malform path except malformedpathexcept
log warn unabl creat path
item found except itemnotfoundexcept
log warn unabl path state node getnodeid
repositori except repositoryexcept
log warn unabl path state node getnodeid
privat method
return cach element path map
param node
return cach element code null code found
path map pathmap element item itemid
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach
entri
entri touch
entri element getel
return nearest cach element path map path
return element guarante object
code null code
param path path
return cach element code null code found
path map pathmap element map path path
cach monitor cachemonitor
path map pathmap element element path cach pathcach map path
element
lru entri lruentri entri lru entri lruentri element
entri
entri touch
element
element element parent getpar
cach item hierarchi path add listen
item state notifi
param state node state
param path path item
cach node state nodest state path path
node nodeid state node getnodeid
cach monitor cachemonitor
cach idcach
cach idcach size upper limit upperlimit
remov recent item scan lru list head tail
remov item children
lru entri lruentri entri head
entri
path map pathmap element element entri element getel
element children count getchildrencount
evict entri
entri entri getnext
path map pathmap element element path cach pathcach put path
element
equal lru entri lruentri element getid
log warn overwrit pathmap element
lru entri lruentri entri lru entri lruentri element
element set entri
cach idcach put entri
return flag indic element cach
param item
return code true code item cach
code fals code
cach iscach item itemid
cach monitor cachemonitor
cach idcach
remov item cach remov code lruentri code
code pathmap element code index
sibl element shift
param item
remov item itemid
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach
entri
remov entri
remov item cach index sibl item shift
param entri lru entri
param removefrompathcach remov path cach
remov lru entri lruentri entri remov path cach removefrompathcach
assert synchron cachemonitor
remov path cach removefrompathcach
path map pathmap element element entri element getel
remov element
element remov
cach idcach remov entri getid
entri remov
evict item cach index sibl item
shift
param entri lru entri
param removefrompathcach remov path cach
evict lru entri lruentri entri remov path cach removefrompathcach
assert synchron cachemonitor
remov path cach removefrompathcach
path map pathmap element element entri element getel
element travers path map pathmap element visitor elementvisitor
element visit elementvisit path map pathmap element element
evict lru entri lruentri element
element remov
cach idcach remov entri getid
entri remov
evict item cach evict code lruentri code
code pathmap element code index
sibl element shift
param item
evict item itemid
cach monitor cachemonitor
lru entri lruentri entri lru entri lruentri cach idcach
entri
evict entri
remov path map element cach travers children
element remov object
index sibl item shift
param element path map element
remov path map pathmap element element
assert synchron cachemonitor
element travers path map pathmap element visitor elementvisitor
element visit elementvisit path map pathmap element element
remov lru entri lruentri element
insert node cach automat shift
index sibl node index greater equal
param path child path
param node
throw pathnotfoundexcept path found
insert path path item itemid path found except pathnotfoundexcept
cach monitor cachemonitor
path map pathmap element element
lru entri lruentri entri lru entri lruentri cach idcach
entri
element entri element getel
element remov
path map pathmap element parent path cach pathcach map path ancestor getancestor
parent
parent insert path element getnameel
element
path cach pathcach put path element
rememb move
move id movedid add
remov item cach order shift index
item item
param path child path
param node
throw pathnotfoundexcept path found
remov path path item itemid path found except pathnotfoundexcept
cach monitor cachemonitor
rememb move ignor event
move id movedid remov
path map pathmap element parent path cach pathcach map path ancestor getancestor
parent
path map pathmap element element parent remov path element getnameel
element
remov element
dump content path map element includ code printstream code
param print stream dump
dump print stream printstream
path cach pathcach travers path map pathmap element visitor elementvisitor
element visit elementvisit path map pathmap element element
string buffer stringbuff line string buffer stringbuff
element depth getdepth
line append
line append element getnam
index element index getindex
index index
line append
line append index
line append
line append
line append element
println line string tostr
entri lru list
lru entri lruentri
previou entri
lru entri lruentri previou
entri
lru entri lruentri
node
node nodeid
element path map
path map pathmap element element
creat instanc class
param node
param element path map element entri
lru entri lruentri node nodeid path map pathmap element element
element element
append
append entri end lru list
append
tail
head
tail
previou tail
tail
tail
remov entri lru list
remov
previou
previou
previou previou
head
head
tail
tail previou
previou
touch entri remov current posit lru list
move end
touch
remov
append
return previou lru entri
return previou lru entri
lru entri lruentri previou getprevi
previou
return lru entri
return lru entri
lru entri lruentri getnext
return node
return node
node nodeid getid
return element path map
return element path map
path map pathmap element element getel
element
inheritdoc
string string tostr
string tostr
