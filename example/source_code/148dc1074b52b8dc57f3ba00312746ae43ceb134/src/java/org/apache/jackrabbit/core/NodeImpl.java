org apach jackrabbit core
org apach jackrabbit core nodetyp
org apach jackrabbit core state
org apach jackrabbit core util children collector filter childrencollectorfilt
org apach jackrabbit core util iter helper iteratorhelp
org apach jackrabbit core util uuid uuid
org apach jackrabbit core version
org apach log4j logger
javax jcr
javax jcr lock lock
javax jcr lock lock except lockexcept
javax jcr nodetyp
javax jcr version parent version action onparentversionact
javax jcr version version
javax jcr version version except versionexcept
javax jcr version version histori versionhistori
java input stream inputstream
java util
code nodeimpl code implement code node code interfac
node impl nodeimpl item impl itemimpl node
logger log logger logger getlogg node impl nodeimpl
node type impl nodetypeimpl node type nodetyp
node def nodedef definit
packag privat constructor
param itemmgr code itemmanag code creat code node code instanc
param session code session code code node code acquir
param code node code
param state state code node code
param definit definit code node code
param listen listen life cylc code nodeimpl code
throw repositoryexcept
node impl nodeimpl item manag itemmanag item mgr itemmgr session impl sessionimpl session node nodeid
node state nodest state node def nodedef definit
item life cycl listen itemlifecyclelisten listen
repositori except repositoryexcept
item mgr itemmgr session state listen
node type nodetyp session node type manag getnodetypemanag node type getnodetyp state node type getnodetypenam
definit definit
item state itemst creat transient item state getorcreatetransientitemst
repositori except repositoryexcept
transient istransi
make transient copi write
node state nodest transient state transientst
item state mgr itemstatemgr creat transient node state createtransientnodest node state nodest state item state itemst statu exist modifi statu exist modifi
remov listen persist state
state remov listen removelisten
add listen transient state
transient state transientst add listen addlisten
replac persist transient state
state transient state transientst
item state except itemstateexcept is
string msg fail creat transient state
log error msg is
repositori except repositoryexcept msg is
state
intern internalvalu comput system gener properti valu computesystemgeneratedpropertyvalu qname
properti def impl propertydefimpl def
repositori except repositoryexcept
intern internalvalu gen valu genvalu
todo callback mechan appli system gener valu
nodetypeinstancehandl interfac
node state nodest state thisstat node state nodest state
comput appli system gener valu
node type impl nodetypeimpl node type impl nodetypeimpl def declar node type getdeclaringnodetyp
getqnam equal node type registri nodetyperegistri mix referenc mix referenc
mix referenc node type
equal propnam uuid propnam uuid
jcr uuid properti
gen valu genvalu intern internalvalu intern internalvalu creat node state nodest state uuid getuuid
todo consolid version histori creation code nodeimpl addmixin itemimpl initversionhistori
getqnam equal nodetyperegistri mix version
mix version node type
versionhistori hist rep getversionmanag getorcreateversionhistori
equal internalvers propnam version histori
jcr versionhistori properti
genvalu internalvalu internalvalu creat uuid hist getuuid
equal internalvers propnam base version
jcr basevers properti
genvalu internalvalu internalvalu creat uuid hist getrootvers getuuid
equal internalvers propnam check
jcr ischeckedout properti
genvalu internalvalu internalvalu creat true
equal internalvers propnam predecessor
jcr predecessor properti
genvalu internalvalu internalvalu creat uuid hist getrootvers getuuid
getqnam equal node type registri nodetyperegistri hierarchynod hierarchynod
hierarchynod node type
equal propnam creat propnam creat
jcr creat properti
gen valu genvalu intern internalvalu intern internalvalu creat calendar instanc getinst
getqnam equal node type registri nodetyperegistri mime resourc mime resourc
mimeresourc node type
equal propnam modifi propnam modifi
jcr lastmodifi properti
gen valu genvalu intern internalvalu intern internalvalu creat calendar instanc getinst
getqnam equal node type registri nodetyperegistri version version
hierarchynod node type
equal propnam creat propnam creat
jcr creat properti
gen valu genvalu intern internalvalu intern internalvalu creat calendar instanc getinst
getqnam equal node type registri nodetyperegistri base base
base node type
equal propnam primarytyp propnam primarytyp
jcr primarytyp properti
gen valu genvalu intern internalvalu intern internalvalu creat node type nodetyp getqnam
equal propnam mixintyp propnam mixintyp
jcr mixintyp properti
set mixin state thisstat mixin type name getmixintypenam
arrai list arraylist valu arrai list arraylist mixin size
iter iter mixin iter
iter hasnext
valu add intern internalvalu creat qname iter
gen valu genvalu intern internalvalu valu arrai toarrai intern internalvalu valu size
gen valu genvalu
properti impl propertyimpl creat properti getorcreateproperti string type multi valu multivalu
repositori except repositoryexcept
properti impl propertyimpl properti getproperti
path found except pathnotfoundexcept pnfe
fall
properti exist
qname qname
qname qname jcr fromjcrnam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
repositori except repositoryexcept invalid properti in
unknown prefix except unknownprefixexcept up
repositori except repositoryexcept invalid properti up
find definit properti creat properti
properti def impl propertydefimpl def applic properti def getapplicablepropertydef qname type multi valu multivalu
creat child properti createchildproperti qname type def
properti impl propertyimpl creat properti getorcreateproperti qname type multi valu multivalu
repositori except repositoryexcept
properti impl propertyimpl properti getproperti
item found except itemnotfoundexcept
exist
find definit properti creat properti
properti def impl propertydefimpl def applic properti def getapplicablepropertydef type multi valu multivalu
creat child properti createchildproperti type def
properti impl propertyimpl creat child properti createchildproperti qname type properti def impl propertydefimpl def
repositori except repositoryexcept
check collis exist child node
node state nodest state child node entri haschildnodeentri
string msg child node
log error msg
repositori except repositoryexcept msg
check version write
safe check safeischeckedout
string msg set properti check node safe jcr path safegetjcrpath string tostr
log error msg
version except versionexcept msg
string parent uuid parentuuid node state nodest state uuid getuuid
creat properti state
properti state propertyst prop state propstat
prop state propstat item state mgr itemstatemgr creat transient properti state createtransientpropertyst parent uuid parentuuid item state itemst statu statu
prop state propstat set type settyp type
prop state propstat set definit setdefinitionid prop def propdefid def unwrap
comput system gener valu
intern internalvalu gen valu genvalu comput system gener properti valu computesystemgeneratedpropertyvalu def
gen valu genvalu
prop state propstat set valu setvalu gen valu genvalu
def default valu getdefaultvalu
val def default valu getdefaultvalu
val length
length def multipl ismultipl val length
intern internalvalu def val defval intern internalvalu length
length
def val defval intern internalvalu creat val session namespac resolv getnamespaceresolv
prop state propstat set valu setvalu def val defval
item state except itemstateexcept is
string msg fail add properti safe jcr path safegetjcrpath
log error msg is
repositori except repositoryexcept msg is
creat properti instanc wrap properti state
properti impl propertyimpl prop item mgr itemmgr creat properti instanc createpropertyinst prop state propstat def
modifi state 'this' parent node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
add properti entri
state thisstat add properti entri addpropertyentri
prop
node impl nodeimpl creat child node createchildnod qname node def impl nodedefimpl def
node type impl nodetypeimpl node type nodetyp string uuid
repositori except repositoryexcept
string parent uuid parentuuid node state nodest state uuid getuuid
creat node state
node state nodest node state nodest
uuid
uuid uuid random uuid randomuuid string tostr uuid uuid randomuuid tostr version uuid
node state nodest item state mgr itemstatemgr creat transient node state createtransientnodest uuid node type nodetyp getqnam parent uuid parentuuid item state itemst statu statu
node state nodest set definit setdefinitionid node def nodedefid def unwrap
item state except itemstateexcept is
string msg fail add child node safe jcr path safegetjcrpath
log error msg is
repositori except repositoryexcept msg is
creat node instanc wrap node state
node impl nodeimpl node
node item mgr itemmgr creat node instanc createnodeinst node state nodest def
repositori except repositoryexcept
wrong
item state mgr itemstatemgr dispos transient item state disposetransientitemst node state nodest
throw
modifi state 'this' parent node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
add child node entri
state thisstat add child node entri addchildnodeentri node state nodest uuid getuuid
add 'auto create' properti defin node type
properti def propertydef pda node type nodetyp auto creat properti def getautocreatepropertydef
pda length
properti def impl propertydefimpl properti def impl propertydefimpl pda
node creat child properti createchildproperti getqnam requir type getrequiredtyp
recurs add 'auto create' child node defin node type
node def nodedef nda node type nodetyp auto creat node def getautocreatenodedef
nda length
node def impl nodedefimpl node def impl nodedefimpl nda
node creat child node createchildnod getqnam node type impl nodetypeimpl default primari type getdefaultprimarytyp
node
node impl nodeimpl creat child node link createchildnodelink qname node nodenam string target uuid targetuuid
repositori except repositoryexcept
modifi state 'this' parent node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
node nodeid target targetid node nodeid target uuid targetuuid
node impl nodeimpl target node targetnod node impl nodeimpl item mgr itemmgr item getitem target targetid
notifi target link
target node targetnod link onlink state thisstat
state thisstat add child node entri addchildnodeentri node nodenam target uuid targetuuid
node impl nodeimpl item mgr itemmgr item getitem target targetid
remov child properti removechildproperti qname prop propnam repositori except repositoryexcept
modifi state 'this' parent node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
remov properti
properti propertyid prop propid properti propertyid state thisstat uuid getuuid prop propnam
item mgr itemmgr remov item removeitem prop propid
remov properti entri
state thisstat remov properti entri removepropertyentri prop propnam
string msg fail remov properti prop propnam safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
remov child node removechildnod qname node nodenam index repositori except repositoryexcept
modifi state 'this' parent node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
index index index
node state nodest child node entri childnodeentri entri state thisstat child node entri getchildnodeentri node nodenam index
entri
string msg fail remov child node nodenam safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
node nodeid child childid node nodeid entri uuid getuuid
node impl nodeimpl child node childnod node impl nodeimpl item mgr itemmgr item getitem child childid
notifi target remov unlink
child node childnod unlink onunlink state thisstat
remov child entri
state thisstat remov child node entri removechildnodeentri node nodenam index
string msg fail remov child node nodenam safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
redefin onredefin node def nodedefid def defid repositori except repositoryexcept
node def impl nodedefimpl def newdef session node type manag getnodetypemanag node def getnodedef def defid
modifi state 'this' target node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
set definit
state thisstat set definit setdefinitionid def defid
definit def newdef
link onlink node state nodest parent state parentst repositori except repositoryexcept
modifi state 'this' target node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
add uuid node target' parent list
state thisstat add parent uuid addparentuuid parent state parentst uuid getuuid
unlink onunlink node state nodest parent state parentst repositori except repositoryexcept
modifi state 'this' target node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
check node orphan unlink parent
arrai list arraylist parent uui parentuuid arrai list arraylist state thisstat parent uui getparentuuid
parent uui parentuuid remov parent state parentst uuid getuuid
orphan parent uui parentuuid empti isempti
orphan
remov child node recurs
temp arrai avoid concurrentmodificationexcept
arrai list arraylist tmp arrai list arraylist state thisstat child node entri getchildnodeentri
remov tail avoid problem sibl
tmp size
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri tmp
remov child node removechildnod entri getnam entri index getindex
remov properti
temp arrai avoid concurrentmodificationexcept
tmp arrai list arraylist state thisstat properti entri getpropertyentri
remov tail avoid problem sibl
tmp size
node state nodest properti entri propertyentri entri node state nodest properti entri propertyentri tmp
remov child properti removechildproperti entri getnam
unlink node parent node
remov uuid parent node node' parent list
state thisstat remov parent uuid removeparentuuid parent state parentst uuid getuuid
orphan
remov node
item mgr itemmgr remov item removeitem
node impl nodeimpl intern add node internaladdnod string rel path relpath node type impl nodetypeimpl node type nodetyp
item exist except itemexistsexcept path found except pathnotfoundexcept
constraint violat except constraintviolationexcept repositori except repositoryexcept
intern add node internaladdnod rel path relpath node type nodetyp
node impl nodeimpl intern add node internaladdnod string rel path relpath node type impl nodetypeimpl node type nodetyp
string uuid
item exist except itemexistsexcept path found except pathnotfoundexcept
constraint violat except constraintviolationexcept repositori except repositoryexcept
path node path nodepath
qname node nodenam
path parent path parentpath
node path nodepath path creat primari path getprimarypath rel path relpath session namespac resolv getnamespaceresolv
node path nodepath element getnameel index getindex
string msg illeg subscript node path nodepath
log error msg
repositori except repositoryexcept msg
node nodenam node path nodepath element getnameel getnam
parent path parentpath node path nodepath ancestor getancestor
malform path except malformedpathexcept
string msg fail resolv path rel path relpath rel safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
node impl nodeimpl parent node parentnod
item parent item mgr itemmgr item getitem parent path parentpath
parent node isnod
string msg add node properti parent path parentpath
log error msg
constraint violat except constraintviolationexcept msg
parent node parentnod node impl nodeimpl parent
access deni except accessdeniedexcept ad
path found except pathnotfoundexcept rel path relpath
deleg creation child node parent node
parent node parentnod intern add child node internaladdchildnod node nodenam node type nodetyp uuid
node impl nodeimpl intern add child node internaladdchildnod qname node nodenam node type impl nodetypeimpl node type nodetyp
item exist except itemexistsexcept constraint violat except constraintviolationexcept repositori except repositoryexcept
intern add child node internaladdchildnod node nodenam node type nodetyp
node impl nodeimpl intern add child node internaladdchildnod qname node nodenam node type impl nodetypeimpl node type nodetyp string uuid
item exist except itemexistsexcept constraint violat except constraintviolationexcept repositori except repositoryexcept
path node path nodepath
node path nodepath path creat primari path getprimarypath node nodenam
malform path except malformedpathexcept
happen
string msg intern error invalid path safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
node def impl nodedefimpl def
def applic child node def getapplicablechildnodedef node nodenam node type nodetyp node type nodetyp getqnam
repositori except repositoryexcept
string msg definit found parent node' node type node
log error msg
constraint violat except constraintviolationexcept msg
node type nodetyp
default node type
node type nodetyp node type impl nodetypeimpl def default primari type getdefaultprimarytyp
check collis
item item item mgr itemmgr item getitem node path nodepath
item node isnod
properti
item exist except itemexistsexcept item mgr itemmgr safe jcr path safegetjcrpath node path nodepath
node
check sibl set exist node
def sib allowsamenamesib
node impl nodeimpl item definit getdefinit sib allowsamenamesib
item exist except itemexistsexcept item mgr itemmgr safe jcr path safegetjcrpath node path nodepath
path found except pathnotfoundexcept pnfe
collis
check version write
safe check safeischeckedout
string msg safe jcr path safegetjcrpath add child check node
log error msg
version except versionexcept msg
check protect flag parent node
definit getdefinit protect isprotect
string msg safe jcr path safegetjcrpath add child protect node
log error msg
constraint violat except constraintviolationexcept msg
creat child node
creat child node createchildnod node nodenam def node type nodetyp uuid
set mixin type properti setmixintypesproperti set mixin name mixinnam repositori except repositoryexcept
node state nodest state thisstat node state nodest state
creat jcr mixintyp properti
properti impl propertyimpl prop
state thisstat properti entri haspropertyentri propnam mixintyp propnam mixintyp
prop properti impl propertyimpl item mgr itemmgr item getitem properti propertyid state thisstat uuid getuuid propnam mixintyp propnam mixintyp
find definit jcr mixintyp properti creat properti
properti def impl propertydefimpl def applic properti def getapplicablepropertydef propnam mixintyp propnam mixintyp properti type propertytyp
prop creat child properti createchildproperti propnam mixintyp propnam mixintyp properti type propertytyp def
mixin name mixinnam empti isempti
purg empti jcr mixintyp properti
remov child properti removechildproperti propnam mixintyp propnam mixintyp
call internalsetvalu set jcr mixintyp properti
avoid check 'protected' flag
intern internalvalu val intern internalvalu mixin name mixinnam size
iter iter mixin name mixinnam iter
cnt
iter hasnext
val cnt intern internalvalu creat qname iter
prop intern set internalsetvalu val properti type propertytyp
return effect merg resolv node type represent
node' primari mixin node type
return effect node type
throw repositoryexcept
effect node type effectivenodetyp effect node type geteffectivenodetyp repositori except repositoryexcept
build effect node type mixin primari type
node type registri nodetyperegistri reg ntreg session node type manag getnodetypemanag node type registri getnodetyperegistri
exist mixin'
hash set hashset set hash set hashset node state nodest state mixin type name getmixintypenam
primari type
set add node type nodetyp getqnam
reg ntreg build effect node type buildeffectivenodetyp qname set arrai toarrai qname set size
node type conflict except nodetypeconflictexcept ntce
string msg intern error fail build effect node type node safe jcr path safegetjcrpath
log error msg ntce
repositori except repositoryexcept msg ntce
return applic child node definit child node
node type
param nodenam
param nodetypenam
return
throw repositoryexcept applic child node definit
found
node def impl nodedefimpl applic child node def getapplicablechildnodedef qname node nodenam qname node type nodetypenam
repositori except repositoryexcept
child node def childnodedef cnd effect node type geteffectivenodetyp applic child node def getapplicablechildnodedef node nodenam node type nodetypenam
session node type manag getnodetypemanag node def getnodedef node def nodedefid cnd
return applic properti definit properti
type
param propertynam
param type
param multivalu
return
throw repositoryexcept applic properti definit
found
properti def impl propertydefimpl applic properti def getapplicablepropertydef qname properti propertynam
type multi valu multivalu
repositori except repositoryexcept
prop def propdef effect node type geteffectivenodetyp applic properti def getapplicablepropertydef properti propertynam type multi valu multivalu
session node type manag getnodetypemanag prop def getpropdef prop def propdefid
make persist makepersist repositori except repositoryexcept
transient istransi
log debug safe jcr path safegetjcrpath transient state persist
node state nodest transient state transientst node state nodest state
persist node state persistentnodest persist state persistentst persist node state persistentnodest transient state transientst overlai state getoverlayedst
persist state persistentst
node 'new'
persist state persistentst item state mgr itemstatemgr creat persist node state createpersistentnodest transient state transientst uuid getuuid transient state transientst node type getnodetypenam transient state transientst parent uuid getparentuuid
copi state transient state
parent uuid'
persist state persistentst set parent uuid setparentuuid transient state transientst parent uuid getparentuuid
persist state persistentst set parent uui setparentuuid transient state transientst parent uui getparentuuid
mixin type
persist state persistentst set mixin type name setmixintypenam transient state transientst mixin type name getmixintypenam
definit
persist state persistentst set definit setdefinitionid transient state transientst definit getdefinitionid
child node entri
persist state persistentst set child node entri setchildnodeentri transient state transientst child node entri getchildnodeentri
properti entri
persist state persistentst set properti entri setpropertyentri transient state transientst properti entri getpropertyentri
make state persist
persist state persistentst store
remov listen transient state
transient state transientst remov listen removelisten
add listen persist state
persist state persistentst add listen addlisten
swap transient state persist state
state persist state persistentst
reset statu
statu statu normal statu normal
item state except itemstateexcept is
string msg fail persist transient state safe jcr path safegetjcrpath
log error msg is
repositori except repositoryexcept msg is
check node root node
todo root node workspac
return
repositori root isrepositoryroot
node state nodest state uuid getuuid equal rep root node uuid getrootnodeuuid
set intern properti check constraint
note type convers perform caller'
respons make type compat
property' definit
param
param
return
throw valueformatexcept
throw repositoryexcept
properti intern set properti internalsetproperti qname intern internalvalu
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
type
type properti type propertytyp string
type type gettyp
properti impl propertyimpl prop creat properti getorcreateproperti type
prop intern set internalsetvalu intern internalvalu type
prop intern set internalsetvalu intern internalvalu type
prop
set intern properti check constraint
note type convers perform caller'
respons make type valu compat
property' definit
param
param valu
return
throw valueformatexcept
throw repositoryexcept
properti intern set properti internalsetproperti qname intern internalvalu valu
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
type
valu valu length
type properti type propertytyp string
type valu type gettyp
properti impl propertyimpl prop creat properti getorcreateproperti type
prop intern set internalsetvalu valu type
prop
return child node code code node
code code
param qualifi child node retriev
return child node code code
throw itemnotfoundexcept child node exist
throw repositoryexcept error occur
node impl nodeimpl node getnod qname item found except itemnotfoundexcept repositori except repositoryexcept
node getnod
return child node code code node
code code
param qualifi child node retriev
param index index child node retriev case sibl
return child node code code
throw itemnotfoundexcept child node exist
throw repositoryexcept error occur
node impl nodeimpl node getnod qname index item found except itemnotfoundexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
path node path nodepath
node path nodepath path creat primari path getprimarypath index
malform path except malformedpathexcept
happen
string msg intern error invalid path safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
item item item mgr itemmgr item getitem node path nodepath
item node isnod
node impl nodeimpl item
properti child node
item found except itemnotfoundexcept
path found except pathnotfoundexcept pnfe
item found except itemnotfoundexcept
access deni except accessdeniedexcept ad
item found except itemnotfoundexcept
child node code code exist
return code true code child node exist code fals code
param qualifi child node
return code true code child node exist code fals code
throw repositoryexcept unspecifi error occur
node hasnod qname repositori except repositoryexcept
node getnod
item found except itemnotfoundexcept pnfe
child node code code exist
return code true code child node exist code fals code
param qualifi child node
param index index child node case sibl
return code true code child node exist code fals code
throw repositoryexcept unspecifi error occur
node hasnod qname index repositori except repositoryexcept
node getnod index
item found except itemnotfoundexcept pnfe
return properti code code node
code code
param qualifi properti retriev
return properti code code
throw itemnotfoundexcept properti exist
throw repositoryexcept error occur
properti impl propertyimpl properti getproperti qname
item found except itemnotfoundexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti propertyid prop propid properti propertyid node state nodest state uuid getuuid
properti impl propertyimpl item mgr itemmgr item getitem prop propid
access deni except accessdeniedexcept ad
item found except itemnotfoundexcept string tostr
properti code code exist
return code true code properti exist code fals code
param qualifi properti
return code true code properti exist code fals code
throw repositoryexcept unspecifi error occur
properti hasproperti qname repositori except repositoryexcept
properti getproperti
item found except itemnotfoundexcept pnfe
node addnod string
node impl nodeimpl add node addnod qname node nodenam
item exist except itemexistsexcept constraint violat except constraintviolationexcept
repositori except repositoryexcept
check state instanc
saniti check sanitycheck
intern add child node internaladdchildnod node nodenam
node addnod string string
node impl nodeimpl add node addnod qname node nodenam qname node type nodetypenam
item exist except itemexistsexcept node type except nosuchnodetypeexcept
constraint violat except constraintviolationexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
node type impl nodetypeimpl session node type manag getnodetypemanag node type getnodetyp node type nodetypenam
intern add child node internaladdchildnod node nodenam
code link node setproperti string string code
method take code qname code code string code
param
param
return
throw valueformatexcept
throw repositoryexcept
properti impl propertyimpl set properti setproperti string qname format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp
prop set setvalu
prop
code link node setproperti string string code
method take arrai code qname code
code string code valu
param
param valu
return
throw valueformatexcept
throw repositoryexcept
properti impl propertyimpl set properti setproperti string qname valu format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp
prop set setvalu valu
prop
code link node setproperti string code
method take code qname code argument
code string code
param
param valu
return
throw valueformatexcept
throw repositoryexcept
properti impl propertyimpl set properti setproperti qname valu
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
type
valu valu length
type properti type propertytyp string
type valu type gettyp
properti impl propertyimpl prop creat properti getorcreateproperti type
prop set setvalu valu
prop
code link node setproperti string code
method take code qname code argument
code string code
param
param
return
throw valueformatexcept
throw repositoryexcept
properti impl propertyimpl set properti setproperti qname
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
type properti type propertytyp string type gettyp
properti impl propertyimpl prop creat properti getorcreateproperti type
prop set setvalu
prop
itemimpl getqnam
qname getqnam repositori except repositoryexcept
session hierarchi manag gethierarchymanag getnam
item
item isnod
node isnod
item getnam
string getnam repositori except repositoryexcept
state parent uuid getparentuuid
root node
qname getprimarypath getnameel getnam
qname session hierarchi manag gethierarchymanag getnam
jcr tojcrnam session namespac resolv getnamespaceresolv
prefix declar except noprefixdeclaredexcept npde
string msg intern error encount unregist namespac namespac uri getnamespaceuri
log error msg npde
repositori except repositoryexcept msg npde
item accept itemvisitor
accept item visitor itemvisitor visitor repositori except repositoryexcept
check state instanc
saniti check sanitycheck
visitor visit
item getpar
node parent getpar
item found except itemnotfoundexcept access deni except accessdeniedexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
check root node
node state nodest state thisstat node state nodest state
state thisstat parent uuid getparentuuid
string msg root node parent
log error msg
item found except itemnotfoundexcept msg
path path primari path getprimarypath
node ancestor getancestor path ancestor count getancestorcount
node
node addnod string
node add node addnod string rel path relpath
item exist except itemexistsexcept path found except pathnotfoundexcept
constraint violat except constraintviolationexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
intern add node internaladdnod rel path relpath
node addnod string string
node add node addnod string rel path relpath string node type nodetypenam
item exist except itemexistsexcept path found except pathnotfoundexcept
node type except nosuchnodetypeexcept constraint violat except constraintviolationexcept
repositori except repositoryexcept
check state instanc
saniti check sanitycheck
node type impl nodetypeimpl node type impl nodetypeimpl session node type manag getnodetypemanag node type getnodetyp node type nodetypenam
intern add node internaladdnod rel path relpath
node orderbefor string string
order orderbefor string src srcname string dest destnam
unsupport repositori oper except unsupportedrepositoryoperationexcept constraint violat except constraintviolationexcept
item found except itemnotfoundexcept repositori except repositoryexcept
node type nodetyp order child node hasorderablechildnod
unsupport repositori oper except unsupportedrepositoryoperationexcept child node order support node safe jcr path safegetjcrpath
check argument
src srcname equal dest destnam
constraint violat except constraintviolationexcept sourc destin
path path element pathel insert insertnam
path path creat src srcname session namespac resolv getnamespaceresolv
ancestor count getancestorcount
repositori except repositoryexcept invalid src srcname
insert insertnam element getnameel
malform path except malformedpathexcept
string msg invalid src srcname
log error msg
repositori except repositoryexcept msg
path path element pathel beforenam
dest destnam
path path creat dest destnam session namespac resolv getnamespaceresolv
ancestor count getancestorcount
repositori except repositoryexcept invalid dest destnam
beforenam element getnameel
malform path except malformedpathexcept
string msg invalid dest destnam
log error msg
repositori except repositoryexcept msg
beforenam
check exist
node hasnod src srcname
item found except itemnotfoundexcept safe jcr path safegetjcrpath child node src srcname
dest destnam node hasnod dest destnam
item found except itemnotfoundexcept safe jcr path safegetjcrpath child node dest destnam
check version write
safe check safeischeckedout
string msg safe jcr path safegetjcrpath chang child node order check node
log error msg
version except versionexcept msg
check protect flag
definit getdefinit protect isprotect
string msg safe jcr path safegetjcrpath chang child node order protect node
log error msg
constraint violat except constraintviolationexcept msg
arrai list arraylist list arrai list arraylist node state nodest state child node entri getchildnodeentri
src ind srcind dest ind destind
list size
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri list
src ind srcind
entri getnam equal insert insertnam getnam
entri index getindex insert insertnam index getindex
insert insertnam index getindex entri index getindex
src ind srcind
dest ind destind beforenam
entri getnam equal beforenam getnam
entri index getindex beforenam index getindex
beforenam index getindex entri index getindex
dest ind destind
src ind srcind
src ind srcind
check result order current order
dest ind destind
src ind srcind list size
chang
dest ind destind src ind srcind
chang
reorder list
dest ind destind
list add list remov src ind srcind
src ind srcind dest ind destind
list add dest ind destind list src ind srcind
list remov src ind srcind
list add dest ind destind list remov src ind srcind
modifi state 'this' parent node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
state thisstat set child node entri setchildnodeentri list
node setproperti string
properti set properti setproperti string valu
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
type
valu valu length
type properti type propertytyp string
type valu type gettyp
properti impl propertyimpl prop creat properti getorcreateproperti type
prop set setvalu valu
prop
node setproperti string string
properti set properti setproperti string string valu
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp string
prop set setvalu valu
prop
node setproperti string string
properti set properti setproperti string string format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp string
prop set setvalu
prop
node setproperti string
properti set properti setproperti string
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
type properti type propertytyp string type gettyp
properti impl propertyimpl prop creat properti getorcreateproperti type
prop set setvalu
prop
node setproperti string inputstream
properti set properti setproperti string input stream inputstream
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp binari
prop set setvalu
prop
node setproperti string boolean
properti set properti setproperti string
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp boolean
prop set setvalu
prop
node setproperti string doubl
properti set properti setproperti string
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp doubl
prop set setvalu
prop
node setproperti string long
properti set properti setproperti string
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp long
prop set setvalu
prop
node setproperti string calendar
properti set properti setproperti string calendar
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp date
prop set setvalu
prop
node setproperti string node
properti set properti setproperti string node
format except valueformatexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti impl propertyimpl prop creat properti getorcreateproperti properti type propertytyp refer
prop set setvalu
prop
node getnod string
node node getnod string rel path relpath
path found except pathnotfoundexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
path node path nodepath
node path nodepath path creat primari path getprimarypath rel path relpath session namespac resolv getnamespaceresolv
malform path except malformedpathexcept
string msg fail resolv path rel path relpath rel safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
item item item mgr itemmgr item getitem node path nodepath
item node isnod
node item
properti child node
path found except pathnotfoundexcept rel path relpath
access deni except accessdeniedexcept ad
path found except pathnotfoundexcept rel path relpath
node getnod
node iter nodeiter node getnod repositori except repositoryexcept
check state instanc
saniti check sanitycheck
import
implement node getnod
class deriv traversingelementvisitor
travers hierarchi lead infinit
recurs
item mgr itemmgr child node getchildnod node nodeid
item found except itemnotfoundexcept inf
string msg fail list child node safe jcr path safegetjcrpath
log error msg inf
repositori except repositoryexcept msg inf
access deni except accessdeniedexcept ad
string msg fail list child node safe jcr path safegetjcrpath
log error msg ad
repositori except repositoryexcept msg ad
node getproperti
properti iter propertyiter properti getproperti repositori except repositoryexcept
check state instanc
saniti check sanitycheck
import
implement node getproperti
class deriv traversingelementvisitor
travers hierarchi lead infinit
recurs
item mgr itemmgr child properti getchildproperti node nodeid
item found except itemnotfoundexcept inf
string msg fail list child properti safe jcr path safegetjcrpath
log error msg inf
repositori except repositoryexcept msg inf
access deni except accessdeniedexcept ad
string msg fail list child properti safe jcr path safegetjcrpath
log error msg ad
repositori except repositoryexcept msg ad
node getproperti string
properti properti getproperti string rel path relpath
path found except pathnotfoundexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
path prop path proppath
prop path proppath path creat primari path getprimarypath rel path relpath session namespac resolv getnamespaceresolv
malform path except malformedpathexcept
string msg fail resolv path rel path relpath rel safe jcr path safegetjcrpath
log error msg
repositori except repositoryexcept msg
item item item mgr itemmgr item getitem prop path proppath
item node isnod
properti item
child node properti
path found except pathnotfoundexcept rel path relpath
access deni except accessdeniedexcept ad
path found except pathnotfoundexcept rel path relpath
node hasnod string
node hasnod string rel path relpath repositori except repositoryexcept
node getnod rel path relpath
path found except pathnotfoundexcept pnfe
node hasnod
node hasnod repositori except repositoryexcept
check state instanc
saniti check sanitycheck
hasnod respect access right
node' session
return fals child node exist
session grant read access
item mgr itemmgr child node haschildnod node nodeid
node hasproperti
properti hasproperti repositori except repositoryexcept
check state instanc
saniti check sanitycheck
hasproperti respect access right
node' session
return fals properti exist
session grant read access
item mgr itemmgr child properti haschildproperti node nodeid
node isnodetyp string
node type isnodetyp string node type nodetypenam repositori except repositoryexcept
qname ntname
ntname qname jcr fromjcrnam node type nodetypenam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
repositori except repositoryexcept invalid node type node type nodetypenam in
unknown prefix except unknownprefixexcept up
repositori except repositoryexcept invalid node type node type nodetypenam up
node type isnodetyp ntname
node isnodetyp string
node type isnodetyp qname ntname repositori except repositoryexcept
check state instanc
saniti check sanitycheck
ntname equal node type nodetyp getqnam
node type nodetyp deriv isderivedfrom ntname
check mixin type
set mixin name mixinnam node state nodest state mixin type name getmixintypenam
mixin name mixinnam empti isempti
node type registri nodetyperegistri reg ntreg session node type manag getnodetypemanag node type registri getnodetyperegistri
effect node type effectivenodetyp ent reg ntreg build effect node type buildeffectivenodetyp qname mixin name mixinnam arrai toarrai qname mixin name mixinnam size
ent includ node type includesnodetyp ntname
node type conflict except nodetypeconflictexcept ntce
string msg intern error invalid mixin node type
log error msg ntce
repositori except repositoryexcept msg ntce
node getprimarynodetyp
node type nodetyp primari node type getprimarynodetyp repositori except repositoryexcept
node type nodetyp
node getmixinnodetyp
node type nodetyp mixin node type getmixinnodetyp repositori except repositoryexcept
set mixin name mixinnam node state nodest state mixin type name getmixintypenam
mixin name mixinnam empti isempti
node type nodetyp
node type nodetyp nta node type nodetyp mixin name mixinnam size
iter iter mixin name mixinnam iter
iter hasnext
nta session node type manag getnodetypemanag node type getnodetyp qname iter
nta
node addmixin string
add mixin addmixin string mixin mixinnam
node type except nosuchnodetypeexcept constraint violat except constraintviolationexcept
repositori except repositoryexcept
check state instanc
saniti check sanitycheck
check version write
safe check safeischeckedout
string msg safe jcr path safegetjcrpath add mixin node type check node
log error msg
constraint violat except constraintviolationexcept msg
check protect flag
definit protect isprotect
string msg safe jcr path safegetjcrpath add mixin node type protect node
log error msg
constraint violat except constraintviolationexcept msg
qname ntname
ntname qname jcr fromjcrnam mixin mixinnam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
repositori except repositoryexcept invalid mixin type mixin mixinnam in
unknown prefix except unknownprefixexcept up
repositori except repositoryexcept invalid mixin type mixin mixinnam up
node type manag impl nodetypemanagerimpl mgr ntmgr session node type manag getnodetypemanag
node type impl nodetypeimpl mixin mgr ntmgr node type getnodetyp ntname
mixin mixin ismixin
repositori except repositoryexcept mixin mixinnam mixin node type
node type nodetyp deriv isderivedfrom ntname
repositori except repositoryexcept mixin mixinnam contain primari node type
build effect node type mixin' primari type order detect conflict
node type registri nodetyperegistri reg ntreg mgr ntmgr node type registri getnodetyperegistri
effect node type effectivenodetyp ent exist entexist ent entnew
exist mixin'
hash set hashset set hash set hashset node state nodest state mixin type name getmixintypenam
primari type
set add node type nodetyp getqnam
build effect node type repres primari type includ exist mixin'
ent exist entexist reg ntreg build effect node type buildeffectivenodetyp qname set arrai toarrai qname set size
ent exist entexist includ node type includesnodetyp ntname
repositori except repositoryexcept mixin mixinnam contain mixin type
add mixin
set add ntname
build effect node type throw case conflict
ent entnew reg ntreg build effect node type buildeffectivenodetyp qname set arrai toarrai qname set size
node type conflict except nodetypeconflictexcept ntce
constraint violat except constraintviolationexcept ntce messag getmessag
actual modif impli mixin
revert case excpet occur
modifi state node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
add mixin
set mixin hash set hashset state thisstat mixin type name getmixintypenam
mixin add ntname
state thisstat set mixin type name setmixintypenam mixin
set jcr mixintyp properti
set mixin type properti setmixintypesproperti mixin
add 'auto create' properti defin mixin type
properti def propertydef pda mixin auto creat properti def getautocreatepropertydef
pda length
properti def impl propertydefimpl properti def impl propertydefimpl pda
make properti defin primari type
exist mixin'
node type impl nodetypeimpl declar declaringnt node type impl nodetypeimpl declar node type getdeclaringnodetyp
ent exist entexist includ node type includesnodetyp declar declaringnt getqnam
creat child properti createchildproperti getqnam requir type getrequiredtyp
recurs add 'auto create' child node defin mixin type
node def nodedef nda mixin auto creat node def getautocreatenodedef
nda length
node def impl nodedefimpl node def impl nodedefimpl nda
make child node defin primari type
exist mixin'
node type impl nodetypeimpl declar declaringnt node type impl nodetypeimpl declar node type getdeclaringnodetyp
ent exist entexist includ node type includesnodetyp declar declaringnt getqnam
creat child node createchildnod getqnam node type impl nodetypeimpl default primari type getdefaultprimarytyp
check special node type
todo consolid version histori creation code nodeimpl addmixin itemimpl initversionhistori
ent exist entexist includ node type includesnodetyp node type registri nodetyperegistri mix version mix version
ent entnew includ node type includesnodetyp node type registri nodetyperegistri mix version mix version
node 'versionable' initi version histori
version histori versionhistori hist session version mgr versionmgr creat version histori createversionhistori
intern set properti internalsetproperti version manag versionmanag propnam version histori propnam version histori intern internalvalu creat uuid hist uuid getuuid
intern set properti internalsetproperti version manag versionmanag propnam base version propnam base version intern internalvalu creat uuid hist root version getrootvers uuid getuuid
intern set properti internalsetproperti version manag versionmanag propnam check propnam check intern internalvalu creat
intern set properti internalsetproperti version manag versionmanag propnam predecessor propnam predecessor intern internalvalu intern internalvalu creat uuid hist root version getrootvers uuid getuuid
repositori except repositoryexcept
undo modif remov mixin
remov mixin removemixin mixin mixinnam
repositori except repositoryexcept re1
silent ignor fall
node removemixin string
remov mixin removemixin string mixin mixinnam
node type except nosuchnodetypeexcept constraint violat except constraintviolationexcept
repositori except repositoryexcept
check state instanc
saniti check sanitycheck
check version write
safe check safeischeckedout
string msg safe jcr path safegetjcrpath remov mixin node type check node
log error msg
constraint violat except constraintviolationexcept msg
check protect flag
definit protect isprotect
string msg safe jcr path safegetjcrpath remov mixin node type protect node
log error msg
constraint violat except constraintviolationexcept msg
qname ntname
ntname qname jcr fromjcrnam mixin mixinnam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
repositori except repositoryexcept invalid mixin type mixin mixinnam in
unknown prefix except unknownprefixexcept up
repositori except repositoryexcept invalid mixin type mixin mixinnam up
check mixin assign
node state nodest state mixin type name getmixintypenam ntname
node type except nosuchnodetypeexcept mixin mixinnam
node type registri nodetyperegistri mix referenc mix referenc equal ntname
mix referenc special handl
special semant
remov refer node
properti iter propertyiter iter refer getrefer
iter hasnext
constraint violat except constraintviolationexcept mixin mixinnam remov node referenc properti type refer
modifi state node
node state nodest state thisstat node state nodest creat transient item state getorcreatetransientitemst
remov mixin
set mixin hash set hashset state thisstat mixin type name getmixintypenam
mixin remov ntname
state thisstat set mixin type name setmixintypenam mixin
set jcr mixintyp properti
set mixin type properti setmixintypesproperti mixin
build effect node type remain mixin' primari type
node type manag impl nodetypemanagerimpl mgr ntmgr session node type manag getnodetypemanag
node type registri nodetyperegistri reg ntreg mgr ntmgr node type registri getnodetyperegistri
effect node type effectivenodetyp ent remain entremain
remain mixin'
hash set hashset set hash set hashset mixin
primari type
set add node type nodetyp getqnam
build effect node type repres primari type includ remain mixin'
ent remain entremain reg ntreg build effect node type buildeffectivenodetyp qname set arrai toarrai qname set size
node type conflict except nodetypeconflictexcept ntce
constraint violat except constraintviolationexcept ntce messag getmessag
node type impl nodetypeimpl mixin session node type manag getnodetypemanag node type getnodetyp ntname
shortcut
mixin child node def getchildnodedef length
mixin properti def getpropertydef length
node type properti child node definit
walk properti child node remov
defin mixin type
temp arrai avoid concurrentmodificationexcept
arrai list arraylist tmp arrai list arraylist state thisstat properti entri getpropertyentri
iter iter tmp iter
iter hasnext
node state nodest properti entri propertyentri entri node state nodest properti entri propertyentri iter
properti impl propertyimpl prop properti impl propertyimpl item mgr itemmgr item getitem properti propertyid state thisstat uuid getuuid entri getnam
check properti defin mixin type supertyp
node type impl nodetypeimpl declar declaringnt node type impl nodetypeimpl prop definit getdefinit declar node type getdeclaringnodetyp
ent remain entremain includ node type includesnodetyp declar declaringnt getqnam
remain effect node type includ
node type declar properti safe
remov
remov child properti removechildproperti entri getnam
temp arrai avoid concurrentmodificationexcept
tmp arrai list arraylist state thisstat child node entri getchildnodeentri
iter tmp iter
iter hasnext
node state nodest child node entri childnodeentri entri node state nodest child node entri childnodeentri iter
node impl nodeimpl node node impl nodeimpl item mgr itemmgr item getitem node nodeid entri uuid getuuid
check node defin mixin type supertyp
node type impl nodetypeimpl declar declaringnt node type impl nodetypeimpl node definit getdefinit declar node type getdeclaringnodetyp
ent remain entremain includ node type includesnodetyp declar declaringnt getqnam
remain effect node type includ
node type declar child node safe
remov
remov child node removechildnod entri getnam entri index getindex
node canaddmixin string
add mixin canaddmixin string mixin mixinnam repositori except repositoryexcept
check state instanc
saniti check sanitycheck
check version write
safe check safeischeckedout
check protect flag
definit protect isprotect
qname ntname
ntname qname jcr fromjcrnam mixin mixinnam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
repositori except repositoryexcept invalid mixin type mixin mixinnam in
unknown prefix except unknownprefixexcept up
repositori except repositoryexcept invalid mixin type mixin mixinnam up
node type manag impl nodetypemanagerimpl mgr ntmgr session node type manag getnodetypemanag
node type impl nodetypeimpl mixin mgr ntmgr node type getnodetyp ntname
mixin mixin ismixin
node type nodetyp deriv isderivedfrom ntname
build effect node type mixin primari type order detect conflict
node type registri nodetyperegistri reg ntreg mgr ntmgr node type registri getnodetyperegistri
effect node type effectivenodetyp ent exist entexist
exist mixin'
hash set hashset set hash set hashset node state nodest state mixin type name getmixintypenam
primari type
set add node type nodetyp getqnam
build effect node type repres primari type includ exist mixin'
ent exist entexist reg ntreg build effect node type buildeffectivenodetyp qname set arrai toarrai qname set size
ent exist entexist includ node type includesnodetyp ntname
add mixin
set add ntname
build effect node type throw case conflict
reg ntreg build effect node type buildeffectivenodetyp qname set arrai toarrai qname set size
node type conflict except nodetypeconflictexcept ntce
node hasproperti string
properti hasproperti string rel path relpath repositori except repositoryexcept
properti getproperti rel path relpath
path found except pathnotfoundexcept pnfe
node getrefer
properti iter propertyiter refer getrefer repositori except repositoryexcept
workspac impl workspaceimpl wsp workspac impl workspaceimpl session workspac getworkspac
refer manag referencemanag ref mgr refmgr wsp refer manag getreferencemanag
ref mgr refmgr
node refer noderefer ref ref mgr refmgr node nodeid
ref getrefer return list propertyid'
list list idlist ref refer getrefer
lazi item iter lazyitemiter item mgr itemmgr list idlist
node getdefinit
node def nodedef definit getdefinit repositori except repositoryexcept
definit
node getnod string
node iter nodeiter node getnod string pattern namepattern repositori except repositoryexcept
check state instanc
saniti check sanitycheck
arrai list arraylist node arrai list arraylist
travers children special filter 'collector'
accept children collector filter childrencollectorfilt pattern namepattern node
iter helper iteratorhelp collect unmodifi list unmodifiablelist node
node getproperti string
properti iter propertyiter properti getproperti string pattern namepattern repositori except repositoryexcept
check state instanc
saniti check sanitycheck
arrai list arraylist properti arrai list arraylist
travers children special filter 'collector'
accept children collector filter childrencollectorfilt pattern namepattern properti
iter helper iteratorhelp collect unmodifi list unmodifiablelist properti
node getprimaryitem
item primari item getprimaryitem item found except itemnotfoundexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
properti iter propertyiter prop iter propit properti getproperti
check properti
prop iter propit hasnext
properti prop iter propit properti nextproperti
properti def propertydef definit getdefinit
primari item isprimaryitem
found 'primary' properti
check child node
node iter nodeiter node iter nodeit node getnod
node iter nodeit hasnext
node node iter nodeit node nextnod
node def nodedef definit getdefinit
primari item isprimaryitem
found 'primary' child node
recurs check
primari child item
return getprimaryitem
catch itemnotfoundexcept inf
return
recurs
item found except itemnotfoundexcept
node getuuid
string uuid getuuid unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check state instanc
saniti check sanitycheck
node type isnodetyp node type registri nodetyperegistri mix referenc mix referenc
unsupport repositori oper except unsupportedrepositoryoperationexcept
node state nodest state thisstat node state nodest state
state thisstat uuid getuuid
node getuuid
string intern uuid internalgetuuid repositori except repositoryexcept
check state instanc
saniti check sanitycheck
node state nodest state uuid getuuid
version support
check node version 'mix versionable'
throw unsupportedrepositoryoperationexcept
node version
check version checkversion
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
node type isnodetyp node type registri nodetyperegistri mix version mix version
string msg unabl perform version oper version node safe jcr path safegetjcrpath
log debug msg
unsupport repositori oper except unsupportedrepositoryoperationexcept msg
node checkin
version checkin
version except versionexcept unsupport repositori oper except unsupportedrepositoryoperationexcept
repositori except repositoryexcept
check ischeckedout
string msg unabl checkin node check safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
check transient state
modifi ismodifi
string msg unabl checkin node allow transient node safe jcr path safegetjcrpath
log debug msg
illeg state except illegalstateexcept msg
version session version mgr versionmgr checkin
properti prop intern set properti internalsetproperti version manag versionmanag propnam check propnam check intern internalvalu creat
prop save
prop intern set properti internalsetproperti version manag versionmanag propnam base version propnam base version intern internalvalu creat uuid uuid getuuid
prop save
prop intern set properti internalsetproperti version manag versionmanag propnam predecessor propnam predecessor intern internalvalu
prop save
node checkout
checkout
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check ischeckedout
string msg unabl checkout node check safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
properti prop intern set properti internalsetproperti version manag versionmanag propnam check propnam check intern internalvalu creat
prop save
prop intern set properti internalsetproperti version manag versionmanag propnam predecessor propnam predecessor
intern internalvalu
intern internalvalu creat uuid base version getbasevers uuid getuuid
prop save
node addpredecessor version
add predecessor addpredecessor version
version except versionexcept unsupport repositori oper except unsupportedrepositoryoperationexcept
repositori except repositoryexcept
check ischeckedout
version except versionexcept unabl add predecessor node check
add predecessor version histori
parent getpar uuid getuuid equal version histori getversionhistori uuid getuuid
string msg unabl add predecessor version histori safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
valu properti getproperti version manag versionmanag propnam predecessor propnam predecessor valu getvalu
intern internalvalu pred intern internalvalu valu length
valu length
valu string getstr equal uuid getuuid
ignor duplic
pred intern internalvalu creat uuid valu string getstr
pred intern internalvalu creat uuid uuid getuuid
properti prop intern set properti internalsetproperti version manag versionmanag propnam predecessor propnam predecessor pred
prop save
node removepredecessor version
remov predecessor removepredecessor version
version except versionexcept unsupport repositori oper except unsupportedrepositoryoperationexcept
repositori except repositoryexcept
check ischeckedout
version except versionexcept unabl remov predecessor node check
valu properti getproperti version manag versionmanag propnam predecessor propnam predecessor valu getvalu
valu length
found
intern internalvalu pred intern internalvalu valu length
valu length
valu string getstr equal uuid getuuid
pred length
pred intern internalvalu creat uuid valu string getstr
found
found
properti prop intern set properti internalsetproperti version manag versionmanag propnam predecessor propnam predecessor pred
prop save
string msg unabl remov predecessor exist version safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
version getpredecessor
version predecessor getpredecessor repositori except repositoryexcept
properti hasproperti version manag versionmanag propnam predecessor propnam predecessor
valu properti getproperti version manag versionmanag propnam predecessor propnam predecessor valu getvalu
version pred version valu length
valu length
pred version session node uuid getnodebyuuid valu string getstr
pred
version
node updat string
updat string src workspac srcworkspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
node impl nodeimpl src node srcnode node getcorrespondingnod src workspac srcworkspacenam
src node srcnode
item found except itemnotfoundexcept node safe jcr path safegetjcrpath
clone overrid 'this' node
session workspac getworkspac clone src workspac srcworkspacenam src node srcnode path getpath path getpath
return node code scrworkspacenam code
node
node workspac node workspac
defin
root node root node
referenc uuid node
uuid
referenc uuid
node nearest ancestor
referenc root node node
node rel path
param srcworkspacenam
return node code null code
node exist
throw nosuchworkspaceexcept code srcworkspac code exist
throw accessdeniedexcept current session suffici right perform oper
throw repositoryexcept error occur
node impl nodeimpl node getcorrespondingnod string src workspac srcworkspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
session impl sessionimpl src session srcsession rep system session getsystemsess src workspac srcworkspacenam
node root session root node getrootnod
isrepositoryroot work correctli workspac
issam root
node impl nodeimpl src session srcsession root node getrootnod
node referenc return
node type isnodetyp node type registri nodetyperegistri mix referenc mix referenc
node impl nodeimpl src session srcsession node uuid getnodebyuuid uuid getuuid
item found except itemnotfoundexcept
search nearest ancestor referenc
node impl nodeimpl
issam root node type isnodetyp node type registri nodetyperegistri mix referenc mix referenc
node impl nodeimpl parent getpar
special treatment root
issam root
node impl nodeimpl src session srcsession item getitem path getpath
calcul rel path note
iter 'while' loop getnam
return rel path path indic
getpath foo bar
getpath foo
relpath bar
string rel path relpath path getpath substr path getpath length
node impl nodeimpl src session srcsession node uuid getnodebyuuid uuid getuuid node getnod rel path relpath
item found except itemnotfoundexcept
node merg string boolean
merg string src workspac srcworkspac effort besteffort
unsupport repositori oper except unsupportedrepositoryoperationexcept workspac except nosuchworkspaceexcept
access deni except accessdeniedexcept merg except mergeexcept repositori except repositoryexcept
node impl nodeimpl src node srcnode merg test domergetest src workspac srcworkspac effort besteffort
src node srcnode
remov properti
properti iter propertyiter properti getproperti
hasnext
properti properti nextproperti
src node srcnode properti hasproperti getnam
set setvalu
copi properti
src node srcnode properti getproperti
hasnext
properti impl propertyimpl properti impl propertyimpl properti nextproperti
intern copi properti internalcopypropertyfrom
remov subnod
node iter nodeiter node getnod
hasnext
subnod exist src updat
delet
node node nextnod
src node srcnode node hasnod getnam
todo work sibl
remov
'clone' node exist
src node srcnode node getnod
hasnext
node node nextnod
node hasnod getnam
todo intern stuff
todo work sibl
todo clone oper 'save' work
session workspac getworkspac clone src workspac srcworkspac path getpath path getpath getnam
recurs merg
merg src workspac srcworkspac effort besteffort
chang node recus merg
node iter nodeiter src node srcnode node getnod
hasnext
node nextnod merg src workspac srcworkspac effort besteffort
save
perform merg test result 'update'
sourc node return result 'leave' 'besteffort fail'
code null code return result merg test
'fail' besteffort set code fals code mergeexcept
thrown
param srcworkspac
param besteffort
return
throw repositoryexcept
throw accessdeniedexcept
node impl nodeimpl merg test domergetest string src workspac srcworkspac effort besteffort
repositori except repositoryexcept access deni except accessdeniedexcept
node merg result leav
node impl nodeimpl src node srcnode node getcorrespondingnod src workspac srcworkspac
src node srcnode
version updat
node type isnodetyp node type registri nodetyperegistri mix version mix version
src node srcnode
sourc node version leav
src node srcnode node type isnodetyp node type registri nodetyperegistri mix version mix version
test version
intern version internalvers version impl versionimpl base version getbasevers intern version getinternalvers
intern version internalvers version impl versionimpl src node srcnode base version getbasevers intern version getinternalvers
recent ismorerec check ischeckedout
successor degre merg result
updat case thought case
newer updat reflect
src node srcnode
equal recent ismorerec
predecessor degre
ident version merg
result leav case thought case
older ag left
successor predecessor ident
merg result fail case
repres diverg branch version graph
determin result merg trivial
effort besteffort
add 'offending' version jcr mergefail properti
list valu properti hasproperti item impl itemimpl propnam merg fail propnam merg fail
arrai list aslist properti getproperti item impl itemimpl propnam merg fail propnam merg fail valu getvalu
arrai list arraylist
valu add refer referencevalu src node srcnode base version getbasevers
set properti setproperti item impl itemimpl propnam merg fail propnam merg fail valu arrai toarrai valu size
string msg unabl merg node violat version safe jcr path safegetjcrpath
log debug msg
merg except mergeexcept msg
node ischeckedout
check ischeckedout
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check version checkversion
properti getproperti version manag versionmanag propnam check propnam check boolean getboolean
link ischeckedout unsupportedexcept
safe check safeischeckedout repositori except repositoryexcept
node version opv copi
search ancestor verion node
properti hasproperti version manag versionmanag propnam check propnam check
properti getproperti version manag versionmanag propnam check propnam check boolean getboolean
node restor string
restor string version versionnam
version except versionexcept unsupport repositori oper except unsupportedrepositoryoperationexcept
repositori except repositoryexcept
check ischeckedout
string msg unabl restor version node check safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
gener version selector genericversionselector gv gener version selector genericversionselector
gv set setnam version versionnam
intern restor internalrestor version histori getversionhistori version getvers version versionnam gv
save
node restor version
restor version version
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check ischeckedout
string msg unabl restor version node check safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
check 'own' version
version parent getpar uuid getuuid equal version histori getversionhistori uuid getuuid
version except versionexcept unabl restor version version histori
intern restor internalrestor version gener version selector genericversionselector version creat getcreat
save
node restor version string
restor version version string rel path relpath
path found except pathnotfoundexcept item exist except itemexistsexcept
constraint violat except constraintviolationexcept unsupport repositori oper except unsupportedrepositoryoperationexcept
repositori except repositoryexcept
node exist 'normal' restor
node hasnod rel path relpath
node getnod rel path relpath restor version
recreat node frozen state
node impl nodeimpl node add node addnod rel path relpath version impl versionimpl version frozen node getfrozennod
node check ischeckedout
string msg unabl restor version node check node safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
node intern restor internalrestor version gener version selector genericversionselector version creat getcreat
node parent getpar save
node restorebylabel string
restor label restorebylabel string version label versionlabel
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check ischeckedout
string msg unabl restor version node check safe jcr path safegetjcrpath
log debug msg
version except versionexcept msg
version version histori getversionhistori version label getversionbylabel version label versionlabel
version except versionexcept version label version label versionlabel found
intern restor internalrestor gener version selector genericversionselector version label versionlabel
save
creat node code relpath code node type uuid
eventu mixin type store frozen node
code link addnod string relpath code primari
node type type uuid evt mixin type node
explictli frozen node
param code node code creat
param frozen frozen node creation inform
return node ad
throw itemexistsexcept item
path exist sibl allow
throw pathnotfoundexcept path impli intermediari
code node code exist
throw nosuchnodetypeexcept code nodetypenam code
recogn
throw constraintviolationexcept attempt made add node
child code properti code
throw repositoryexcept error occur
node impl nodeimpl add node addnod qname intern frozen node internalfrozennod frozen
item exist except itemexistsexcept path found except pathnotfoundexcept
constraint violat except constraintviolationexcept node type except nosuchnodetypeexcept
repositori except repositoryexcept
frozen node type
node type manag impl nodetypemanagerimpl mgr ntmgr session node type manag getnodetypemanag
node type impl nodetypeimpl node type impl nodetypeimpl mgr ntmgr node type getnodetyp frozen frozen primari type getfrozenprimarytyp
frozen uuid
string uuid frozen frozen uuid getfrozenuuid
node impl nodeimpl node intern add child node internaladdchildnod uuid
frozen mixin
todo respect mix type creation
qname name mxname frozen frozen mixin type getfrozenmixintyp
name mxname length
node add mixin addmixin name mxname jcr tojcrnam session namespac resolv getnamespaceresolv
prefix declar except noprefixdeclaredexcept
node type except nosuchnodetypeexcept unabl resolv mixin string tostr
node
creat node code relpath code node type uuid
eventu mixin type store frozen node
code link addnod string relpath code primari
node type type uuid evt mixin type node
explictli frozen node
param relpath path code node code creat
param frozen frozen node creation inform
return node ad
throw itemexistsexcept item
path exist sibl allow
throw pathnotfoundexcept path impli intermediari
code node code exist
throw nosuchnodetypeexcept code nodetypenam code
recogn
throw constraintviolationexcept attempt made add node
child code properti code
throw repositoryexcept error occur
node impl nodeimpl add node addnod string rel path relpath intern frozen node internalfrozennod frozen
item exist except itemexistsexcept path found except pathnotfoundexcept
constraint violat except constraintviolationexcept node type except nosuchnodetypeexcept
repositori except repositoryexcept
frozen node type
node type manag impl nodetypemanagerimpl mgr ntmgr session node type manag getnodetypemanag
node type impl nodetypeimpl node type impl nodetypeimpl mgr ntmgr node type getnodetyp frozen frozen primari type getfrozenprimarytyp
frozen uuid
string uuid frozen frozen uuid getfrozenuuid
node impl nodeimpl node intern add node internaladdnod rel path relpath uuid
frozen mixin
todo respect mix type creation
qname name mxname frozen frozen mixin type getfrozenmixintyp
name mxname length
node add mixin addmixin name mxname jcr tojcrnam session namespac resolv getnamespaceresolv
prefix declar except noprefixdeclaredexcept
node type except nosuchnodetypeexcept unabl resolv mixin string tostr
node
intern method restor version
param version
param vsel version selector select correct version
opv version childnod
throw unsupportedrepositoryoperationexcept
throw repositoryexcept
intern restor internalrestor version version version selector versionselector vsel
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
intern restor internalrestor version impl versionimpl version intern version getinternalvers vsel
intern method restor version
param version
param vsel version selector select correct version
opv version childnod
throw unsupportedrepositoryoperationexcept
throw repositoryexcept
intern restor internalrestor intern version internalvers version version selector versionselector vsel
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
child node properti chang remov
ad depend copi
onparentvers attribut detail
restor frozen state restorefrozenst version frozen node getfrozennod vsel
jcr basevers properti chang point
intern set properti internalsetproperti version manag versionmanag propnam base version propnam base version intern internalvalu creat uuid version getid
n' jcr predecessor properti set null
intern set properti internalsetproperti version manag versionmanag propnam predecessor propnam predecessor intern internalvalu
jcr ischeckedout properti set fals
intern set properti internalsetproperti version manag versionmanag propnam check propnam check intern internalvalu creat
creat frozen state node
param freez
throw repositoryexcept
restor frozen state restorefrozenst intern frozen node internalfrozennod freez version selector versionselector vsel
repositori except repositoryexcept
check uuid
node type isnodetyp node type registri nodetyperegistri mix referenc mix referenc
string uuid freez frozen uuid getfrozenuuid
uuid uuid equal uuid getuuid
item exist except itemexistsexcept unabl restor version safe jcr path safegetjcrpath uuid chang
check primarti type
freez frozen primari type getfrozenprimarytyp equal node type nodetyp getqnam
todo check spec happen
item exist except itemexistsexcept unabl restor version safe jcr path safegetjcrpath primarytyp chang
adjust mixin
qname valu freez frozen mixin type getfrozenmixintyp
node type nodetyp mixin mixin node type getmixinnodetyp
valu length
found
mixin length
valu equal node type impl nodetypeimpl mixin getqnam
clear
mixin
found
found
add mixin addmixin valu jcr tojcrnam session namespac resolv getnamespaceresolv
prefix declar except noprefixdeclaredexcept
string msg unabl add mixin restor node messag getmessag
log error msg
repositori except repositoryexcept msg
remov addit
mixin length
mixin
remov mixin removemixin mixin getnam
copi frozen properti
persist properti persistentproperti prop freez frozen properti getfrozenproperti
hash set hashset prop name propnam hash set hashset
prop length
persist properti persistentproperti prop prop
prop name propnam add prop getnam
prop valu getvalu length
intern set properti internalsetproperti prop getnam prop valu getvalu
repositori except repositoryexcept
ignor multipl
intern set properti internalsetproperti prop getnam prop valu getvalu
remov properti exist frozen represent
properti iter propertyiter piter properti getproperti
piter hasnext
properti impl propertyimpl prop properti impl propertyimpl piter properti nextproperti
ignor prop guard opv
prop getqnam equal version manag versionmanag propnam version histori propnam version histori
prop getqnam equal version manag versionmanag propnam predecessor propnam predecessor
prop definit getdefinit parent version getonparentvers parent version action onparentversionact copi
prop definit getdefinit parent version getonparentvers parent version action onparentversionact version
prop name propnam prop getqnam
remov child properti removechildproperti prop getqnam
restor frozen node
intern freez internalfreez frozen node frozennod freez frozen child node getfrozenchildnod
frozen node frozennod length
intern freez internalfreez child frozen node frozennod
child intern frozen node internalfrozennod
intern frozen node internalfrozennod intern frozen node internalfrozennod child
frozen node exist replac
todo make work sibl
node hasnod getnam
node getnod getnam remov
node impl nodeimpl add node addnod getnam
restor frozen state restorefrozenst vsel
child intern frozen version histori internalfrozenversionhistori
check child exist
node hasnod child getnam
desir version version selector
version histori versionhistori histori version histori versionhistori session node uuid getnodebyuuid intern frozen version histori internalfrozenversionhistori child version histori getversionhistoryid
intern version internalvers version impl versionimpl vsel select histori intern version getinternalvers
node impl nodeimpl node add node addnod child getnam frozen node getfrozennod
node intern restor internalrestor vsel
node getversionhistori
version histori versionhistori version histori getversionhistori
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check version checkversion
session version mgr versionmgr version histori getversionhistori
node getbasevers
version base version getbasevers
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
check version checkversion
session version mgr versionmgr base version getbasevers
copi properti node
param prop
throw repositoryexcept
intern copi properti internalcopypropertyfrom properti impl propertyimpl prop repositori except repositoryexcept
prop definit getdefinit multipl ismultipl
valu prop valu getvalu
intern internalvalu ivalu intern internalvalu valu length
valu length
ivalu intern internalvalu creat valu session namespac resolv getnamespaceresolv
intern set properti internalsetproperti prop getqnam ivalu
intern internalvalu intern internalvalu creat prop getvalu session namespac resolv getnamespaceresolv
intern set properti internalsetproperti prop getqnam
lock support
check node lockabl 'mix lockable'
throw unsupportedrepositoryoperationexcept
node lockabl
check lockabl checklock
unsupport repositori oper except unsupportedrepositoryoperationexcept repositori except repositoryexcept
node type isnodetyp node type registri nodetyperegistri mix lockabl mix lockabl
string msg unabl perform lock oper lockabl node safe jcr path safegetjcrpath
log debug msg
unsupport repositori oper except unsupportedrepositoryoperationexcept msg
node lock boolean boolean
lock lock deep isdeep session scope issessionscop
unsupport repositori oper except unsupportedrepositoryoperationexcept lock except lockexcept
access deni except accessdeniedexcept repositori except repositoryexcept
check lockabl checklock
todo implement lock support
unsupport repositori oper except unsupportedrepositoryoperationexcept
node getlock
lock lock getlock
unsupport repositori oper except unsupportedrepositoryoperationexcept lock except lockexcept
access deni except accessdeniedexcept repositori except repositoryexcept
check lockabl checklock
todo implement lock support
unsupport repositori oper except unsupportedrepositoryoperationexcept
node unlock
unlock
unsupport repositori oper except unsupportedrepositoryoperationexcept lock except lockexcept
access deni except accessdeniedexcept repositori except repositoryexcept
check lockabl checklock
todo implement lock support
unsupport repositori oper except unsupportedrepositoryoperationexcept
node holdslock
hold lock holdslock repositori except repositoryexcept
todo implement lock support
node islock
lock islock repositori except repositoryexcept
todo implement lock support
