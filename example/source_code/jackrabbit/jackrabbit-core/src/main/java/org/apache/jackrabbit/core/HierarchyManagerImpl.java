org apach jackrabbit core
java util collect
java util link hash set linkedhashset
java util set
javax jcr item found except itemnotfoundexcept
javax jcr repositori except repositoryexcept
org apach jackrabbit core item itemid
org apach jackrabbit core node nodeid
org apach jackrabbit core properti propertyid
org apach jackrabbit core state child node entri childnodeentri
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit spi
org apach jackrabbit spi path
org apach jackrabbit spi common convers malform path except malformedpathexcept
org apach jackrabbit spi common factori impl namefactoryimpl
org apach jackrabbit spi common path builder pathbuild
org apach jackrabbit spi common path factori impl pathfactoryimpl
org slf4j logger
org slf4j logger factori loggerfactori
code hierarchymanagerimpl code
hierarchi manag impl hierarchymanagerimpl hierarchi manag hierarchymanag
logger log logger factori loggerfactori logger getlogg hierarchi manag impl hierarchymanagerimpl
parent return orphan root node
todo proper invalid
empti empti factori impl namefactoryimpl instanc getinst creat
node nodeid root node rootnodeid
item state manag itemstatemanag provid
flag describ item return link resolvepath path int
return node return node
return properti return properti
return return return node return node return properti return properti
hierarchi manag impl hierarchymanagerimpl node nodeid root node rootnodeid
item state manag itemstatemanag provid
root node rootnodeid root node rootnodeid
provid provid
node nodeid root node getrootnodeid
root node rootnodeid
implement
intern implement iter resolv path item
param element path element
param index item code element code inspect
param item path code element code code element code
param typesallow code return code code return node code
code return properti code
return code null code
throw itemstateexcept intermedi item state found
throw malformedpathexcept build intermedi path fail
item itemid resolv path resolvepath path element element
item itemid type allow typesallow
item state except itemstateexcept malform path except malformedpathexcept
path builder pathbuild builder path builder pathbuild
builder add addlast element
element length
path element elem element
node nodeid parent parentid node nodeid
elem getnam
index elem index getindex
index
index
type expect typeexpect type allow typesallow
element length
intermedi item node
type expect typeexpect return node return node
node state nodest parent state parentst node state nodest item state getitemst parent parentid
type expect typeexpect return node return node
child node entri childnodeentri node entri nodeentri
child node entri getchildnodeentri parent state parentst index
node entri nodeentri
node entri nodeentri getid
type expect typeexpect return properti return properti
parent state parentst properti haspropertynam index
properti
properti propertyid parent state parentst node getnodeid
builder add addlast element
path resolv pathresolv builder
overrid
return item state item
low level hook provid special deriv class
param item
return item state
throw nosuchitemstateexcept item exist
throw itemstateexcept error occur
zombiehierarchymanag getitemst itemid
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
provid item state getitemst
determin item state item exist
low level hook provid special deriv class
param item
return code true code item state exist
code fals code
zombiehierarchymanag hasitemst itemid
item state hasitemst item itemid
provid item state hasitemst
return code parentuuid code item
low level hook provid special deriv class
param state item state
return code parentuuid code item
zombiehierarchymanag getparentid itemst
node nodeid parent getparentid item state itemst state
state parent getparentid
return parent node shareabl node possibl
parent
param state item state
param useoverlai overlai state shareabl node
return set parent code nodeid code state parent
arrai length code code
set node nodeid parent id getparentid item state itemst state overlai useoverlai
state node isnod
node quickli check shareabl
parent
node state nodest node state nodest state
shareabl isshar overlai useoverlai overlai state hasoverlayedst
node state nodest overlai state getoverlayedst
set node nodeid share set getsharedset
size
node nodeid parent parentid parent getparentid state
parent parentid
link hash set linkedhashset node nodeid link hash set linkedhashset node nodeid
add parent parentid
collect empti set emptyset
return code childnodeentri code code parent code
code uuid code code null code entri
low level hook provid special deriv class
param parent node state
param child node entri
return code childnodeentri code code parent code
code uuid code code null code
entri
zombiehierarchymanag getchildnodeentri nodest nodeid
child node entri childnodeentri child node entri getchildnodeentri node state nodest parent
node nodeid
parent child node entri getchildnodeentri
return code childnodeentri code code parent code
code code code index code code null code
entri
low level hook provid special deriv class
param parent node state
param child node entri
param index index child node entri
return code childnodeentri code code parent code
code code code index code
code null code entri
zombiehierarchymanag getchildnodeentri nodest int
child node entri childnodeentri child node entri getchildnodeentri node state nodest parent
index
parent child node entri getchildnodeentri index
add path element item path built
recurs invok method overridden subclass
return cach respons add respons cach exit
code builder code path code state code
param builder builder
param state item find path
build path buildpath path builder pathbuild builder item state itemst state
item state except itemstateexcept repositori except repositoryexcept
shortcut
state getid equal root node rootnodeid
builder add root addroot
node nodeid parent parentid parent getparentid state
parent parentid
string msg fail build path state getid
orphan item
log debug msg
item found except itemnotfoundexcept msg
node state nodest parent node state nodest item state getitemst parent parentid
recurs build path parent
build path buildpath builder parent
state node isnod
node state nodest node state nodest node state nodest state
node nodeid node state nodest node getnodeid
child node entri childnodeentri entri child node entri getchildnodeentri parent
entri
string msg fail build path state getid
parent node getnodeid child entri
log debug msg
item found except itemnotfoundexcept msg
add path
entri index getindex
builder add addlast entri getnam
builder add addlast entri getnam entri index getindex
properti state propertyst prop state propstat properti state propertyst state
prop state propstat getnam
add path
builder add addlast
intern implement link resolvepath path
resolv node properti overridden subclass
resolv intermedi path code itemid code
subclass invok link resolvepath org apach jackrabbit spi path element int itemid int
code code greater code code
param path path resolv
param typesallow code return code code return node code
code return properti code
return code null code
throw repositoryexcept error occur
item itemid resolv path resolvepath path path type allow typesallow
repositori except repositoryexcept
path element element path element getel
item itemid root node rootnodeid
resolv path resolvepath element type allow typesallow
item state except itemstateexcept
string msg fail retriev state intermediari node
log debug msg
repositori except repositoryexcept msg
call link resolvepath org apach jackrabbit spi path element int itemid int
overridden subclass process cach intermedi state
param resolv item
param builder path builder path resolv
throw malformedpathexcept path contain code builder code
malform
path resolv pathresolv item itemid path builder pathbuild builder
malform path except malformedpathexcept
hierarchymanag
inheritdoc
item itemid resolv path resolvepath path path repositori except repositoryexcept
shortcut
path denot root denotesroot
root node rootnodeid
path canon iscanon
string msg path canon
log debug msg
repositori except repositoryexcept msg
resolv path resolvepath path return return
inheritdoc
node nodeid resolv node path resolvenodepath path path repositori except repositoryexcept
node nodeid resolv path resolvepath path return node return node
inheritdoc
properti propertyid resolv properti path resolvepropertypath path path repositori except repositoryexcept
properti propertyid resolv path resolvepath path return properti return properti
inheritdoc
path path getpath item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
shortcut
equal root node rootnodeid
path factori impl pathfactoryimpl instanc getinst root path getrootpath
path builder pathbuild builder path builder pathbuild
build path buildpath builder item state getitemst
builder path getpath
item state except nosuchitemstateexcept nsise
string msg fail build path
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail build path
log debug msg
repositori except repositoryexcept msg is
malform path except malformedpathexcept mpe
string msg fail build path
log debug msg
repositori except repositoryexcept msg mpe
inheritdoc
getnam item itemid item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
item itemid denot node denotesnod
node nodeid node nodeid node nodeid item itemid
node state nodest node state nodest node state nodest item state getitemst node nodeid
node nodeid parent parentid parent getparentid node state nodest
parent parentid
root orphan node
fixm
empti empti
getnam node nodeid parent parentid
item state except nosuchitemstateexcept nsi
string msg fail resolv node nodeid
log debug msg
item found except itemnotfoundexcept node nodeid string tostr
item state except itemstateexcept is
string msg fail resolv node nodeid
log debug msg
repositori except repositoryexcept msg is
properti propertyid item itemid getnam
inheritdoc
getnam node nodeid node nodeid parent parentid
item found except itemnotfoundexcept repositori except repositoryexcept
node state nodest parent state parentst
parent state parentst node state nodest item state getitemst parent parentid
item state except nosuchitemstateexcept nsi
string msg fail resolv
log debug msg
item found except itemnotfoundexcept string tostr
item state except itemstateexcept is
string msg fail resolv
log debug msg
repositori except repositoryexcept msg is
child node entri childnodeentri entri
child node entri getchildnodeentri parent state parentst
entri
string msg fail resolv
log debug msg
item found except itemnotfoundexcept msg
entri getnam
inheritdoc
depth getdepth item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
shortcut
equal root node rootnodeid
item state itemst state item state getitemst
node nodeid parent parentid parent getparentid state
depth
parent parentid
depth
state item state getitemst parent parentid
parent parentid parent getparentid state
depth
item state except nosuchitemstateexcept nsise
string msg fail determin depth
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin depth
log debug msg
repositori except repositoryexcept msg is
inheritdoc
rel depth getrelativedepth node nodeid ancestor ancestorid item itemid descend descendantid
item found except itemnotfoundexcept repositori except repositoryexcept
ancestor ancestorid equal descend descendantid
depth
item state itemst state item state getitemst descend descendantid
node nodeid parent parentid parent getparentid state
parent parentid
parent parentid equal ancestor ancestorid
depth
depth
state item state getitemst parent parentid
parent parentid parent getparentid state
ancestor
item state except nosuchitemstateexcept nsise
string msg fail determin depth descend descendantid
rel ancestor ancestorid
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin depth descend descendantid
rel ancestor ancestorid
log debug msg
repositori except repositoryexcept msg is
inheritdoc
ancestor isancestor node nodeid node nodeid item itemid item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
node nodeid equal item itemid
ancestor
item state itemst state item state getitemst item itemid
node nodeid parent parentid parent getparentid state
parent parentid
parent parentid equal node nodeid
state item state getitemst parent parentid
parent parentid parent getparentid state
ancestor
item state except nosuchitemstateexcept nsise
string msg fail determin degre relationship
node nodeid item itemid
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin degre relationship
node nodeid item itemid
log debug msg
repositori except repositoryexcept msg is
inheritdoc
share ancestor isshareancestor node nodeid ancestor node nodeid descend
item found except itemnotfoundexcept repositori except repositoryexcept
ancestor equal descend
ancestor
item state itemst state item state getitemst descend
set node nodeid parent id parentid parent id getparentid state
parent id parentid size
parent id parentid ancestor
set node nodeid grandpar id grandparentid link hash set linkedhashset node nodeid
node nodeid parent parentid parent id parentid
grandpar id grandparentid add addal parent id getparentid item state getitemst parent parentid
parent id parentid grandpar id grandparentid
ancestor
item state except nosuchitemstateexcept nsise
string msg fail determin degre relationship
ancestor descend
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin degre relationship
ancestor descend
log debug msg
repositori except repositoryexcept msg is
inheritdoc
share rel depth getsharerelativedepth node nodeid ancestor item itemid descend
item found except itemnotfoundexcept repositori except repositoryexcept
ancestor equal descend
depth
item state itemst state item state getitemst descend
set node nodeid parent id parentid parent id getparentid state
parent id parentid size
parent id parentid ancestor
depth
depth
set node nodeid grandpar id grandparentid link hash set linkedhashset node nodeid
node nodeid parent parentid parent id parentid
state item state getitemst parent parentid
grandpar id grandparentid add addal parent id getparentid state
parent id parentid grandpar id grandparentid
ancestor
item state except nosuchitemstateexcept nsise
string msg fail determin degre relationship
ancestor descend
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin degre relationship
ancestor descend
log debug msg
repositori except repositoryexcept msg is
