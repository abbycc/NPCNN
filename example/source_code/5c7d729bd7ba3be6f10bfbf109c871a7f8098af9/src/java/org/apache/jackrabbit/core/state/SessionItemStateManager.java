org apach jackrabbit core state
org apach jackrabbit core
org apach jackrabbit core virtual virtual item state provid virtualitemstateprovid
org apach log4j logger
javax jcr invalid item state except invaliditemstateexcept
javax jcr item found except itemnotfoundexcept
javax jcr repositori except repositoryexcept
java print stream printstream
java util
code sessionitemstatemanag code
session item state manag sessionitemstatemanag updat item state manag updatableitemstatemanag
logger log logger logger getlogg session item state manag sessionitemstatemanag
root node
node nodeid root node rootnodeid
state manag updat
updat item state manag updatableitemstatemanag persist state mgr persistentstatemgr
virtual item state provid
virtual item state provid virtualitemstateprovid virtual provid virtualprovid virtual item state provid virtualitemstateprovid
transient item state manag transientitemstatemanag transient state mgr transientstatemgr
hierarchi manag hierarchymanag hier mgr hiermgr
creat code sessionitemstatemanag code instanc
param rootnodeuuid
param persistentstatemgr
param nsresolv
session item state manag sessionitemstatemanag string root node uuid rootnodeuuid
updat item state manag updatableitemstatemanag persist state mgr persistentstatemgr
namespac resolv namespaceresolv resolv nsresolv
root node rootnodeid node nodeid root node uuid rootnodeuuid
persist state mgr persistentstatemgr persist state mgr persistentstatemgr
creat transient item state manag
transient state mgr transientstatemgr transient item state manag transientitemstatemanag
creat hierarchi manag transient persist state
hier mgr hiermgr hierarchi manag impl hierarchymanagerimpl root node uuid rootnodeuuid resolv nsresolv
transient state mgr transientstatemgr attic getatt
disabl chach path valu
mind cach code path code automat
updat underli hierarchi chang
turn caution special situat local
narrow scope underli hierarchi expect
chang
param enabl
enabl path cach enablepathcach enabl
enabl
hier mgr hiermgr cach hierarchi manag cachinghierarchymanag
hier mgr hiermgr cach hierarchi manag cachinghierarchymanag hier mgr hiermgr
hier mgr hiermgr cach hierarchi manag cachinghierarchymanag
cach hierarchi manag cachinghierarchymanag chm cach hierarchi manag cachinghierarchymanag hier mgr hiermgr
chm clear cach clearcach
hier mgr hiermgr chm unwrap
add virtual item state provid
param prov
add virtual item state provid addvirtualitemstateprovid virtual item state provid virtualitemstateprovid prov
virtual item state provid virtualitemstateprovid prov virtual item state provid virtualitemstateprovid virtual provid virtualprovid length
system arraycopi virtual provid virtualprovid prov virtual provid virtualprovid length
prov virtual provid virtualprovid length prov
virtual provid virtualprovid prov
dump state code sessionitemstatemanag code instanc
diagnost purpos
param
dump print stream printstream
println sessionitemstatemanag
println
fixm hack
persist state mgr persistentstatemgr item state cach itemstatecach
item state cach itemstatecach persist state mgr persistentstatemgr dump
println
transient state mgr transientstatemgr dump
println
return hierarchi manag
return hierarchi manag
hierarchi manag hierarchymanag hierarchi mgr gethierarchymgr
hier mgr hiermgr
itemstatemanag
itemstatemanag getitemst itemid
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
check item transient remov
transient state mgr transientstatemgr attic getatt item state hasitemst
check transient state item
properti 'x' remov
properti creat
throw nosuchitemstateexcept
transient state
transient state mgr transientstatemgr item state getitemst
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
virtual provid virtualprovid item state getitemst
check transient state item
transient state mgr transientstatemgr item state hasitemst
transient state mgr transientstatemgr item state getitemst
check persist state item
persist state mgr persistentstatemgr item state hasitemst
persist state mgr persistentstatemgr item state getitemst
check virtual state item
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
virtual provid virtualprovid item state getitemst
item state except nosuchitemstateexcept string tostr
itemstatemanag hasitemst itemid
item state hasitemst item itemid
check item transient remov
transient state mgr transientstatemgr attic getatt item state hasitemst
check transient state item
properti 'x' remov
properti creat
transient state mgr transientstatemgr item state hasitemst
check virtual root id need overlai
virtual provid virtualprovid length
virtual provid virtualprovid virtual root isvirtualroot
check transient state item
transient state mgr transientstatemgr item state hasitemst
check persist state item
persist state mgr persistentstatemgr item state hasitemst
check virtual state item
virtual provid virtualprovid length
virtual provid virtualprovid item state hasitemst
itemstatemanag getnoderefer
node refer noderefer node refer getnoderefer node refer nodereferencesid
item state except nosuchitemstateexcept item state except itemstateexcept
persist state mgr persistentstatemgr node refer getnoderefer
updatableitemstatemanag edit
edit item state except itemstateexcept
persist state mgr persistentstatemgr edit
updatableitemstatemanag createnew
node state nodest creat createnew string uuid qname node type nodetypenam string parent uuid parentuuid
persist state mgr persistentstatemgr creat createnew uuid node type nodetypenam parent uuid parentuuid
updatableitemstatemanag createnew
properti state propertyst creat createnew qname prop propnam string parent uuid parentuuid
persist state mgr persistentstatemgr creat createnew prop propnam parent uuid parentuuid
updatableitemstatemanag store
store item state itemst state
persist state mgr persistentstatemgr store state
updatableitemstatemanag store
store node refer noderefer ref
persist state mgr persistentstatemgr store ref
updatableitemstatemanag destroi
destroi item state itemst state
persist state mgr persistentstatemgr destroi state
updatableitemstatemanag cancel
cancel
persist state mgr persistentstatemgr cancel
updatableitemstatemanag updat
updat item state except itemstateexcept
persist state mgr persistentstatemgr updat
method list retriev transient itemst instanc
param
return
throw nosuchitemstateexcept
throw itemstateexcept
item state itemst transient item state gettransientitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
transient state mgr transientstatemgr item state getitemst
return
transient item state hasanytransientitemst
transient state mgr transientstatemgr empti isempti
return iter transient item state instanc
direct indirect descend item state
code parentid code transient item state instanc
code parentid code includ
instanc return depth tree travers order
param parentid common parent transient item state
instanc return
return iter descend transient item state instanc
throw invaliditemstateexcept descend item state
delet extern
throw repositoryexcept error occur
iter descend transient item state getdescendanttransientitemst item itemid parent parentid
invalid item state except invaliditemstateexcept repositori except repositoryexcept
todo effici find descend cach hierarch index
transient state mgr transientstatemgr item state hasanyitemst
collect empti list empti list iter
collect descend transient state
path serv kei sort criteria
tree map treemap descend tree map treemap path compar pathcompar
shortcut root parent
case root state descend
parent parentid equal root node rootnodeid
iter iter transient state mgr transientstatemgr entri getentri
iter hasnext
item state itemst state item state itemst iter
item itemid state getid
equal root node rootnodeid
skip root
path hier mgr hiermgr path getpath
descend put state
item found except itemnotfoundexcept inf
string msg item remov extern
log debug msg
invalid item state except invaliditemstateexcept msg
descend valu iter
path parent path parentpath
parent path parentpath hier mgr hiermgr path getallpath parent parentid
item found except itemnotfoundexcept inf
string msg parent parentid item remov extern
log debug msg
invalid item state except invaliditemstateexcept msg
walk list transient state check
descend parent
iter iter transient state mgr transientstatemgr entri getentri
iter hasnext
item state itemst state item state itemst iter
item itemid state getid
path path
path hier mgr hiermgr path getallpath
item found except itemnotfoundexcept inf
parent item
remov extern path
determin descend
itemnotfoundexcept thrown
descend affect
log warn ignor
todo fixm
log warn inconsist hierarchi state inf
descend isdescend
check path transient state
descend parentid' path
path length
path path path path path transient state
walk arrai parentid' path
parent path parentpath length
path parent path parentpath path parentpath path parentid
descend isdescendantof
descend add list
continu transient state
descend put state
descend isdescend
descend isdescend
descend isdescend denot node denotesnod
final check transient state unlink
parent node orphan
link parent node
case check parent
descend ident
parentid' path
node state nodest node state nodest node state nodest state
iter iter uui iteruuid node state nodest remov parent uui getremovedparentuuid iter
iter uui iteruuid hasnext
check path remov parent
descend ident
parentid' path
string uuid string iter uui iteruuid
path
hier mgr hiermgr path getallpath node nodeid uuid
item found except itemnotfoundexcept inf
parent item
remov extern path
determin descend
itemnotfoundexcept thrown
descend affect
log warn ignor
todo fixm
log warn inconsist hierarchi state inf
length
path path path remov parent
walk arrai parentid' path
parent path parentpath length
path parent path parentpath path parentpath path parentid
equal descend isdescendantof
descend add list
continu transient state
fixm creat dummi path
append random integ order
avoid potenti conflict
path dummi path creat
path creat qname constant default uri default uri integ string tostr random int nextint
descend put dummi state
descend isdescend
descend isdescend
descend isdescend
continu transient state
malform path except malformedpathexcept mpe
string msg inconsist hierarchi state
log warn msg mpe
repositori except repositoryexcept msg mpe
descend valu iter
code link getdescendanttransientitemst itemid code
item state instanc attic return
param parentid common parent transient item state
instanc return
return iter descend transient item state instanc attic
iter descend transient item state attic getdescendanttransientitemstatesinatt item itemid parent parentid
todo effici find descend attic hierarch index
transient state mgr transientstatemgr item state attic hasanyitemstatesinatt
collect empti list empti list iter
collect descend transient state attic
path serv kei sort criteria
tree map treemap descend tree map treemap path compar pathcompar
path parent path parentpath hier mgr hiermgr path getallpath parent parentid
walk list transient state attic check
descend parent
iter iter transient state mgr transientstatemgr entri attic getentriesinatt
iter hasnext
item state itemst state item state itemst iter
item itemid state getid
path path hier mgr hiermgr path getallpath
descend isdescend
check path transient state
descend parentid' path
path length
path path path path path transient state attic
walk arrai parentid' path
parent path parentpath length
path parent path parentpath path parentpath path parentid
descend isdescendantof
descend add list
continu transient state
descend put state
descend isdescend
descend isdescend
continu transient state
malform path except malformedpathexcept mpe
log warn inconsist hierarchi state mpe
repositori except repositoryexcept
log warn inconsist hierarchi state
descend valu iter
method creat discard transient itemst instanc
param uuid
param nodetypenam
param parentuuid
param initialstatu
return
throw itemstateexcept
node state nodest creat transient node state createtransientnodest string uuid qname node type nodetypenam string parent uuid parentuuid initi statu initialstatu
item state except itemstateexcept
transient state mgr transientstatemgr creat node state createnodest uuid node type nodetypenam parent uuid parentuuid initi statu initialstatu
param overlayedst
param initialstatu
return
throw itemstateexcept
node state nodest creat transient node state createtransientnodest node state nodest overlai state overlayedst initi statu initialstatu
item state except itemstateexcept
transient state mgr transientstatemgr creat node state createnodest overlai state overlayedst initi statu initialstatu
param parentuuid
param propnam
param initialstatu
return
throw itemstateexcept
properti state propertyst creat transient properti state createtransientpropertyst string parent uuid parentuuid qname prop propnam initi statu initialstatu
item state except itemstateexcept
transient state mgr transientstatemgr creat properti state createpropertyst parent uuid parentuuid prop propnam initi statu initialstatu
param overlayedst
param initialstatu
return
throw itemstateexcept
properti state propertyst creat transient properti state createtransientpropertyst properti state propertyst overlai state overlayedst initi statu initialstatu
item state except itemstateexcept
transient state mgr transientstatemgr creat properti state createpropertyst overlai state overlayedst initi statu initialstatu
dispos transient item state instanc discard
clear cach
param state transient code itemst code instanc
dispos
itemst discard
dispos transient item state disposetransientitemst item state itemst state
transient state mgr transientstatemgr dispos item state disposeitemst state
transfer transient item state instanc 'active'
cach attic
param state transient code itemst code instanc
move attic
move transient item state attic movetransientitemstatetoatt item state itemst state
transient state mgr transientstatemgr move item state attic moveitemstatetoatt state
dispos transient item state instanc attic
discard remov attic
param state transient code itemst code instanc
dispos itemst discard
dispos transient item state attic disposetransientitemstateinatt item state itemst state
transient state mgr transientstatemgr dispos item state attic disposeitemstateinatt state
dispos transient item state cach attic
dispos transient item state disposealltransientitemst
transient state mgr transientstatemgr dispos item state disposeallitemst
class
compar sort canon code path code object
hierarch depth tree travers order
path compar pathcompar compar
param
param
return
compar object object
path path
path path
equal
ancestor isancestorof
descend isdescendantof
malform path except malformedpathexcept mpe
log warn unabl compar canon rel path mpe
path graph
string comparison individu path element
path path element pathel pea1 element getel
path path element pathel pea2 element getel
pea1 length
pea2 length
string pea1 string tostr
string pea2 string tostr
result compar compareto
result
result
