org apach jackrabbit core journal
org apach common util ioutil
org apach jackrabbit spi common convers path resolv namepathresolv
org apach jackrabbit spi common namespac namespac resolv namespaceresolv
org slf4j logger
org slf4j logger factori loggerfactori
java buffer input stream bufferedinputstream
java data input stream datainputstream
java data output stream dataoutputstream
java file
java file input stream fileinputstream
java file output stream fileoutputstream
java except ioexcept
java input stream inputstream
java output stream outputstream
java buffer output stream bufferedoutputstream
java byte arrai output stream bytearrayoutputstream
file record log file link record file record
log header physic layout
blockquot
tabl border cellpad
align center valign bottom bgcolor silver
byte
byte
byte
byte
align center 'j'
align center 'l'
align center 'o'
align center 'g'
align center colspan major
align center colspan minor
align center colspan start revis
tabl
blockquot
header code readrecord code follow
file record log filerecordlog
logger
logger log logger factori loggerfactori logger getlogg file record log filerecordlog
record log signatur
signatur
major version
major version major version
minor version
minor version minor version
header size size link signatur link major version
link minor version revis byte
header size header size
underli file
file log file logfil
flag indic log
isnew
input stream seek specif record
data input stream datainputstream
revis log
previou revis previousrevis
rel posit insid log
posit
revis log
revis lastrevis
major version found record log
major
minor version found record log
minor
creat instanc class open record log read mode
param logfil file record log
throw java ioexcept error occur
file record log filerecordlog file log file logfil except ioexcept
log file logfil log file logfil
log file logfil exist
data input stream datainputstream data input stream datainputstream
buffer input stream bufferedinputstream file input stream fileinputstream log file logfil
read header readhead
previou revis previousrevis read long readlong
revis lastrevis previou revis previousrevis log file logfil length header size header size
close
isnew
initi record log write header
previou revis
init previou revis previousrevis except ioexcept
isnew
data output stream dataoutputstream data output stream dataoutputstream
buffer output stream bufferedoutputstream file output stream fileoutputstream log file logfil
write header writehead
write long writelong previou revis previousrevis
close
previou revis previousrevis previou revis previousrevis
revis lastrevis previou revis previousrevis
isnew
return flag indic record log revis
param revis revis
return code true code record log revis
code fals code
revis
revis previou revis previousrevis revis revis lastrevis
return flag indic record log
return code true code record log
code fals code
isnew
isnew
return flag indic record log exce size
exce size
revis lastrevis previou revis previousrevis size
seek entri oper underli input stream
sequenti scan call
param revis revis seek
throw java ioexcept error occur
seek revis except ioexcept
string msg stream open seek allow
illeg state except illegalstateexcept msg
data input stream datainputstream buffer input stream bufferedinputstream
file input stream fileinputstream log file logfil
skip revis previou revis previousrevis header size header size
posit revis previou revis previousrevis
skip code code byte throw byte skip
param byte skip
throw java ioexcept error occur code code byte
skip
skip except ioexcept
skiplen
skiplen
skip skip skiplen
skip
skiplen skip
skiplen
string msg unabl skip remain byte
except ioexcept msg
read file record current seek posit
param resolv namespac resolv
return file record
throw java ioexcept error occur
read record readrecord read namespac resolv namespaceresolv resolv path resolv namepathresolv resolv npresolv except ioexcept
string journal journalid read utf readutf
string produc producerid read utf readutf
length read int readint
posit
utf length utflength journal journalid utf length utflength produc producerid length
revis previou revis previousrevis posit
read record readrecord journal journalid produc producerid revis length resolv resolv npresolv
append record log return revis record
param journalid journal identifi
param producerid produc identifi
param record add
param length record length
throw java ioexcept error occur
append string journal journalid string produc producerid input stream inputstream length
except ioexcept
output stream outputstream file output stream fileoutputstream log file logfil
data buffer databuff buffer data buffer databuff
buffer write utf writeutf journal journalid
buffer write utf writeutf produc producerid
buffer write int writeint length
buffer copi
util ioutil copi
flush
revis lastrevis
utf length utflength journal journalid utf length utflength produc producerid
length
revis lastrevis
close
return previou revis revis preced
revis log
return previou revis
previou revis getpreviousrevis
previou revis previousrevis
return revis revis log
return revis
revis getlastrevis
revis lastrevis
close log
close
close
except ioexcept
string msg error close record log messag getmessag
log warn msg
read signatur major minor version file verifi
param input stream
throw java ioexcept error occur file
valid header
read header readhead data input stream datainputstream except ioexcept
signatur signatur length
read fulli readfulli signatur
signatur length
signatur signatur
string msg record log log file logfil path getpath
wrong signatur hex string tohexstr signatur
except ioexcept msg
major read short readshort
major major version major version
string msg record log log file logfil path getpath
incompat major version major
except ioexcept msg
minor read short readshort
write signatur major minor
param input stream
throw java ioexcept error occur
write header writehead data output stream dataoutputstream except ioexcept
write signatur
write short writeshort major version major version
write short writeshort minor version minor version
close input stream log warn error occur
close input stream inputstream
close
except ioexcept
string msg error close input stream
log warn msg
close output stream log warn error occur
close output stream outputstream
close
except ioexcept
string msg error close input stream
log warn msg
convert byte arrai hexadecim string represent
string hex string tohexstr
string builder stringbuild buf string builder stringbuild
length
string integ hex string tohexstr upper case touppercas
length
buf append
buf append
buf string tostr
return length string convert java modifi
utf encod code datainput readutf code
code dataoutput writeutf code
utf length utflength string
char arrai tochararrai
utflen
length
utflen
utflen
utflen
utflen
simpl helper class write buffer current buffer
link copi copi output stream
data buffer databuff data output stream dataoutputstream
data buffer databuff
byte arrai output stream bytearrayoutputstream
copi byte held buffer
output stream
param output stream buffer data written
throw ioexcept error occur write data
code code
copi output stream outputstream except ioexcept
buffer byte arrai output stream bytearrayoutputstream byte arrai tobytearrai
write buffer
