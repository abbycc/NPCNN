org apach jackrabbit core version
org apach jackrabbit core
org apach jackrabbit core state
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core util uuid uuid
org apach jackrabbit core virtual
org apach jackrabbit core state item state except itemstateexcept
org apach log4j logger
javax jcr repositori except repositoryexcept
javax jcr properti type propertytyp
javax jcr workspac
javax jcr nodetyp node def nodedef
javax jcr version version histori versionhistori
javax jcr version version
java util iter
class implement session ti version manag repsons
map intern version present layer virtual
node item
author tripod
version revis date
version manag versionmanag
default logger
logger log logger logger getlogg version manag versionmanag
root path version storag
qname version histori root version histori root qname namespac registri impl namespaceregistryimpl jcr uri jcr uri versionstorag
'jcr frozenuuid' properti
qname propnam frozen uuid propnam frozen uuid qname namespac registri impl namespaceregistryimpl jcr uri jcr uri frozenuuid
'jcr frozenprimarytype' properti
qname propnam frozen primari type propnam frozen primari type qname namespac registri impl namespaceregistryimpl jcr uri jcr uri frozenprimarytyp
'jcr frozenmixintypes' properti
qname propnam frozen mixin type propnam frozen mixin type qname namespac registri impl namespaceregistryimpl jcr uri jcr uri frozenmixintyp
'jcr predecessors' properti
qname propnam predecessor propnam predecessor qname namespac registri impl namespaceregistryimpl jcr uri jcr uri predecessor
'jcr versionlabels' properti
qname propnam version label propnam version label qname namespac registri impl namespaceregistryimpl jcr uri jcr uri versionlabel
'jcr successors' properti
qname propnam successor propnam successor qname namespac registri impl namespaceregistryimpl jcr uri jcr uri successor
'jcr ischeckedout' properti
qname propnam check propnam check qname namespac registri impl namespaceregistryimpl jcr uri jcr uri ischeckedout
'jcr versionhistory' properti
qname propnam version histori propnam version histori qname namespac registri impl namespaceregistryimpl jcr uri jcr uri versionhistori
'jcr baseversion' properti
qname propnam base version propnam base version qname namespac registri impl namespaceregistryimpl jcr uri jcr uri basevers
'jcr created' properti
qname propnam creat propnam creat qname namespac registri impl namespaceregistryimpl jcr uri jcr uri creat
'jcr rootversion' node
qname nodenam rootvers nodenam rootvers qname namespac registri impl namespaceregistryimpl jcr uri jcr uri rootvers
version manag intern version
persist version manag persistentversionmanag mgr vmgr
virtual item manag expos version content
default item state provid defaultitemstateprovid virt provid virtprovid
virtual histori root
virtual node state virtualnodest histori root historyroot
param vmgr
version manag versionmanag persist version manag persistentversionmanag mgr vmgr
mgr vmgr mgr vmgr
return virtual item state provid expos intern version
item
param base
return
virtual item state provid virtualitemstateprovid virtual item state provid getvirtualitemstateprovid session impl sessionimpl session item state provid itemstateprovid base
virt provid virtprovid
check workspac session histori root
node impl nodeimpl system root systemroot repositori impl repositoryimpl session repositori getrepositori system root node getsystemrootnod session
system root systemroot node hasnod version manag versionmanag version histori root version histori root
exist creat
system root systemroot add node addnod version manag versionmanag version histori root version histori root node type registri nodetyperegistri unstructur unstructur
system root systemroot save
string root rootid system root systemroot node getnod version manag versionmanag version histori root version histori root intern uuid internalgetuuid
virt provid virtprovid default item state provid defaultitemstateprovid mgr vmgr node type manag getnodetypemanag
creat duplic version histori root
node state nodest virt root state virtrootst node state nodest base item state getitemst node nodeid root rootid
histori root historyroot virt provid virtprovid add overlai addoverlai virt root state virtrootst
iter iter mgr vmgr version histori getversionhistori
iter hasnext
intern version histori internalversionhistori intern version histori internalversionhistori iter
map version histori mapversionhistori
except
todo error handl
log error error initi virtual item
illeg state except illegalstateexcept string tostr
virt provid virtprovid
creat version histori action need creat
'mix versionable' node ad 'mix versionalbe' mixin
node
param node
return
throw repositoryexcept
version histori versionhistori creat version histori createversionhistori node impl nodeimpl node repositori except repositoryexcept
intern version histori internalversionhistori histori mgr vmgr creat version histori createversionhistori node
version histori versionhistori node session getsess node uuid getnodebyuuid histori getid
return base version node assum mix version
param node
return
throw repositoryexcept
version base version getbasevers node impl nodeimpl node repositori except repositoryexcept
string hist uuid histuuid node properti getproperti version manag versionmanag propnam version histori propnam version histori string getstr
intern version histori internalversionhistori histori mgr vmgr version histori getversionhistori hist uuid histuuid
intern version internalvers version histori version getvers node properti getproperti propnam base version propnam base version string getstr
version version node session getsess node uuid getnodebyuuid version getid
return version histori node assum mix version
version histori set properti
param node
return
throw repositoryexcept
version histori versionhistori version histori getversionhistori node impl nodeimpl node
repositori except repositoryexcept
string hist uuid histuuid node properti getproperti version manag versionmanag propnam version histori propnam version histori string getstr
intern version histori internalversionhistori histori mgr vmgr version histori getversionhistori hist uuid histuuid
version histori versionhistori node session getsess node uuid getnodebyuuid histori getid
creat versionhistoryimpl instanc call
link itemmanag
param session
param state
param def
param itemmgr
param listen
return
throw repositoryexcept
version histori impl versionhistoryimpl creat version histori instanc createversionhistoryinst session impl sessionimpl session
node state nodest state node def nodedef def
item manag itemmanag item mgr itemmgr
item life cycl listen itemlifecyclelisten listen
repositori except repositoryexcept
state node type getnodetypenam equal node type registri nodetyperegistri version histori version histori
repositori except repositoryexcept node versionhistori
node nodeid node nodeid node nodeid state getid
intern version histori internalversionhistori histori mgr vmgr version histori getversionhistori node nodeid uuid getuuid
version histori impl versionhistoryimpl item mgr itemmgr session node nodeid state def listen histori
creat versionimpl instanc call
link itemmanag
param session
param state
param def
param itemmgr
param listen
return
throw repositoryexcept
version impl versionimpl creat version instanc createversioninst session impl sessionimpl session
node state nodest state node def nodedef def
item manag itemmanag item mgr itemmgr
item life cycl listen itemlifecyclelisten listen
repositori except repositoryexcept
state node type getnodetypenam equal node type registri nodetyperegistri version version
repositori except repositoryexcept node version
node nodeid node nodeid node nodeid state getid
string histori historyid state parent uuid getparentuuid
intern version histori internalversionhistori histori mgr vmgr version histori getversionhistori histori historyid
intern version internalvers version histori version getvers node nodeid uuid getuuid
version impl versionimpl item mgr itemmgr session node nodeid state def listen version
invok checkin persist version manag remap
newli creat version object
param node
return
throw repositoryexcept
version checkin node impl nodeimpl node repositori except repositoryexcept
intern version internalvers version mgr vmgr checkin node
mgr vmgr version histori modifi onversionhistorymodifi version version histori getversionhistori
virtual node state virtualnodest node vhnode virtual node state virtualnodest virt provid virtprovid item state getitemst node nodeid version version histori getversionhistori getid
invalid predecessor 'sucessors' properti
intern version internalvers pred version predecessor getpredecessor
pred length
version modifi onversionmodifi pred
version node session getsess node uuid getnodebyuuid version getid
item state except nosuchitemstateexcept
repositori except repositoryexcept
call intern version chang intern structur
properti remap content
param
throw repositoryexcept
version modifi onversionmodifi intern version internalvers repositori except repositoryexcept
virtual node state virtualnodest virtual node state virtualnodest virt provid virtprovid item state getitemst node nodeid getid
map dynam properti mapdynamicproperti
item state except nosuchitemstateexcept
repositori except repositoryexcept
call intern version histori chang intern structur
structur remap content
param
throw repositoryexcept
version histori modifi onversionhistorymodifi intern version histori internalversionhistori repositori except repositoryexcept
map version histori mapversionhistori
map version histori version content represent
param
throw repositoryexcept
map version histori mapversionhistori intern version histori internalversionhistori
repositori except repositoryexcept
string uuid getid
virtual node state virtualnodest parent histori root historyroot
qname histori node historynodenam qname namespac registri impl namespaceregistryimpl default uri default uri uuid substr
parent child node entri haschildnodeentri histori node historynodenam
parent virt provid virtprovid add node addnod parent histori node historynodenam node type registri nodetyperegistri unstructur unstructur
parent virt provid virtprovid node getnod parent histori node historynodenam
histori node historynodenam qname namespac registri impl namespaceregistryimpl default uri default uri uuid substr
parent child node entri haschildnodeentri histori node historynodenam
parent virt provid virtprovid add node addnod parent histori node historynodenam node type registri nodetyperegistri unstructur unstructur
parent virt provid virtprovid node getnod parent histori node historynodenam
histori node historynodenam qname namespac registri impl namespaceregistryimpl default uri default uri uuid substr
virtual node state virtualnodest node vhnode
parent child node entri haschildnodeentri histori node historynodenam
node vhnode virt provid virtprovid node getnod parent histori node historynodenam
node vhnode virt provid virtprovid add node addnod parent histori node historynodenam getid node type registri nodetyperegistri version histori version histori
add version
iter iter version getvers
iter hasnext
intern version internalvers intern version internalvers iter
map version mapvers node vhnode
item state except itemstateexcept
repositori except repositoryexcept
map intern version respect content represent
param vhnode
param version
throw repositoryexcept
map version mapvers virtual node state virtualnodest node vhnode intern version internalvers version
repositori except repositoryexcept
virtual node state virtualnodest node vnode
node vhnode child node entri haschildnodeentri version getnam
node vnode virt provid virtprovid node getnod node vhnode version getnam
node vnode virt provid virtprovid add node addnod node vhnode version getnam version getid node type registri nodetyperegistri version version
initi version
virt provid virtprovid set properti setpropertyvalu node vnode version manag versionmanag propnam creat propnam creat intern internalvalu creat version creat getcreat
initi primari properti
intern frozen node internalfrozennod node fnode version frozen node getfrozennod
virt provid virtprovid set properti setpropertyvalu node vnode version manag versionmanag propnam frozen uuid propnam frozen uuid intern internalvalu creat node fnode frozen uuid getfrozenuuid
virt provid virtprovid set properti setpropertyvalu node vnode version manag versionmanag propnam frozen primari type propnam frozen primari type intern internalvalu creat node fnode frozen primari type getfrozenprimarytyp
virt provid virtprovid set properti valu setpropertyvalu node vnode version manag versionmanag propnam frozen mixin type propnam frozen mixin type properti type propertytyp intern internalvalu creat node fnode frozen mixin type getfrozenmixintyp
version root version isrootvers
map root verion
map frozen node mapfrozennod node vnode persist version manag persistentversionmanag nodenam frozen nodenam frozen node fnode
map dynam
map dynam properti mapdynamicproperti node vnode version
item state except itemstateexcept
repositori except repositoryexcept
map properti intern version content
chang time label successor
param vnode
param version
throw repositoryexcept
map dynam properti mapdynamicproperti virtual node state virtualnodest node vnode intern version internalvers version repositori except repositoryexcept
add version label
virt provid virtprovid set properti valu setpropertyvalu node vnode version manag versionmanag propnam version label propnam version label properti type propertytyp string intern internalvalu creat version intern label internalgetlabel
add predecessor
intern version internalvers pred version predecessor getpredecessor
intern internalvalu pred predv intern internalvalu pred length
pred length
pred predv intern internalvalu creat uuid pred getid
virt provid virtprovid set properti valu setpropertyvalu node vnode version manag versionmanag propnam predecessor propnam predecessor properti type propertytyp refer pred predv
add successor
intern version internalvers succ version successor getsuccessor
intern internalvalu succ succv intern internalvalu succ length
succ length
succ succv intern internalvalu creat uuid succ getid
virt provid virtprovid set properti valu setpropertyvalu node vnode version manag versionmanag propnam successor propnam successor properti type propertytyp refer succ succv
map frozen content intern version content
represent
param parent
param
param fnode
throw repositoryexcept
map frozen node mapfrozennod virtual node state virtualnodest parent qname intern frozen node internalfrozennod node fnode repositori except repositoryexcept
virtual node state virtualnodest node virt provid virtprovid add node addnod parent node fnode frozen primari type getfrozenprimarytyp node fnode frozen mixin type getfrozenmixintyp
initi content
persist properti persistentproperti prop node fnode frozen properti getfrozenproperti
prop length
virt provid virtprovid set properti valu setpropertyvalu node prop getnam prop type gettyp prop valu getvalu prop multipl ismultipl
intern freez internalfreez freez node fnode frozen child node getfrozenchildnod
freez length
freez intern frozen version histori internalfrozenversionhistori
intern frozen version histori internalfrozenversionhistori intern frozen version histori internalfrozenversionhistori freez
virtual node state virtualnodest child fchild virt provid virtprovid add node addnod node getid getnam node type registri nodetyperegistri frozen version child frozen version child
virt provid virtprovid set properti setpropertyvalu child fchild version manag versionmanag propnam version histori propnam version histori intern internalvalu creat uuid string fromstr version histori getversionhistoryid
instanc internalfrozennod
intern frozen node internalfrozennod intern frozen node internalfrozennod freez
map frozen node mapfrozennod node getnam
item state except itemstateexcept
repositori except repositoryexcept
