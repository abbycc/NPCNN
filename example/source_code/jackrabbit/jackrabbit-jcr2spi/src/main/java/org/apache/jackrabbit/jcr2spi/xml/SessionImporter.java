org apach jackrabbit jcr2spi xml
org apach jackrabbit jcr2spi session impl sessionimpl
org apach jackrabbit jcr2spi session listen sessionlisten
org apach jackrabbit jcr2spi hierarchi node entri nodeentri
org apach jackrabbit jcr2spi hierarchi properti entri propertyentri
org apach jackrabbit jcr2spi nodetyp effect node type effectivenodetyp
org apach jackrabbit jcr2spi nodetyp effect node type provid effectivenodetypeprovid
org apach jackrabbit jcr2spi oper add node addnod
org apach jackrabbit jcr2spi oper add properti addproperti
org apach jackrabbit jcr2spi oper oper
org apach jackrabbit jcr2spi oper remov
org apach jackrabbit jcr2spi oper set mixin setmixin
org apach jackrabbit jcr2spi oper set properti setpropertyvalu
org apach jackrabbit jcr2spi state item state valid itemstatevalid
org apach jackrabbit jcr2spi state node state nodest
org apach jackrabbit jcr2spi state properti state propertyst
org apach jackrabbit jcr2spi state session item state manag sessionitemstatemanag
org apach jackrabbit jcr2spi state statu
org apach jackrabbit jcr2spi util log util logutil
org apach jackrabbit jcr2spi util refer chang tracker referencechangetrack
org apach jackrabbit spi
org apach jackrabbit spi node nodeid
org apach jackrabbit spi path
org apach jackrabbit spi node definit qnodedefinit
org apach jackrabbit spi properti definit qpropertydefinit
org apach jackrabbit spi qvalu
org apach jackrabbit spi common convers path resolv namepathresolv
org apach jackrabbit spi common constant nameconst
org apach jackrabbit spi common format valueformat
org apach jackrabbit util base64
org apach jackrabbit util transient file factori transientfilefactori
org apach jackrabbit helper valuehelp
org slf4j logger
org slf4j logger factori loggerfactori
javax jcr import uuid behavior importuuidbehavior
javax jcr item exist except itemexistsexcept
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr properti type propertytyp
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr
javax jcr lock lock except lockexcept
javax jcr nodetyp constraint violat except constraintviolationexcept
javax jcr version version except versionexcept
java byte arrai output stream bytearrayoutputstream
java file
java file output stream fileoutputstream
java except ioexcept
java reader
java util arrai list arraylist
java util arrai
java util list
java util stack
java util uuid
code sessionimport code
session import sessionimport import session listen sessionlisten
logger log logger factori loggerfactori logger getlogg session import sessionimport
node state nodest import target importtarget
uuid behavior uuidbehavior
session impl sessionimpl session
session item state manag sessionitemstatemanag state mgr statemgr
stack node state nodest parent
import close importerclos
session close sessionclos
helper object track remap uuid' import refer
properti correct depend uuid map
refer chang tracker referencechangetrack ref tracker reftrack
creat code workspaceimport code instanc
param parentpath path target node add import
subtre
param session
param uuidbehavior flag govern incom uuid handl
throw pathnotfoundexcept node exist code parentpath code
current session grant read access
throw constraintviolationexcept node code parentpath code
protect
throw versionexcept node code parentpath code
check
throw lockexcept lock prevent addit subtre
throw repositoryexcept error occur
session import sessionimport path parent path parentpath session impl sessionimpl session
session item state manag sessionitemstatemanag state manag statemanag uuid behavior uuidbehavior
path found except pathnotfoundexcept constraint violat except constraintviolationexcept
version except versionexcept lock except lockexcept repositori except repositoryexcept
session session
state mgr statemgr state manag statemanag
uuid behavior uuidbehavior uuid behavior uuidbehavior
perform preliminari check
import target importtarget session hierarchi manag gethierarchymanag node state getnodest parent path parentpath
check import target writabl lock check
option item state valid itemstatevalid check access check access item state valid itemstatevalid check lock check lock item state valid itemstatevalid check version check version
session valid getvalid check writabl checkiswrit import target importtarget option
ref tracker reftrack refer chang tracker referencechangetrack
parent stack node state nodest
parent push import target importtarget
item found except itemnotfoundexcept
path found except pathnotfoundexcept log util logutil safe jcr path safegetjcrpath parent path parentpath session path resolv getpathresolv
import
inheritdoc
start repositori except repositoryexcept
explicitli set statu import start listen session
set close setclos
inheritdoc
start node startnod node info nodeinfo node info nodeinfo list prop info propinfo prop info propinfo path resolv namepathresolv resolv
repositori except repositoryexcept
close isclos
workspac import ignor import abort
check session checksess
node state nodest parent parent peek
parent
parent node skip skip child node
parent push parent push null push null stack skip node
log debug skip node node info nodeinfo getnam
node entri nodeentri parent entri parententri node entri nodeentri parent hierarchi entri gethierarchyentri
node state nodest node state nodest
parent entri parententri node entri hasnodeentri node info nodeinfo getnam
valid child node exist
node entri nodeentri entri parent entri parententri node entri getnodeentri node info nodeinfo getnam path index default index default
node state nodest exist entri node state getnodest
node definit qnodedefinit def exist definit getdefinit
def sibl allowssamenames
exist sibl check conflict
effect node type provid effectivenodetypeprovid provid session effect node type provid geteffectivenodetypeprovid
name ntname exist node type name getallnodetypenam
effect node type effectivenodetyp ent exist entexist provid effect node type geteffectivenodetyp name ntname
def protect isprotect ent exist entexist includ node type includesnodetyp node info nodeinfo node type getnodetypenam
skip protect node
parent push parent push null push null stack skip node
log debug skip protect node log util logutil safe jcr path safegetjcrpath exist session path resolv getpathresolv
def auto creat isautocr ent exist entexist includ node type includesnodetyp node info nodeinfo node type getnodetypenam
node auto creat creat
node state nodest exist
item exist except itemexistsexcept log util logutil safe jcr path safegetjcrpath exist session path resolv getpathresolv
item found except itemnotfoundexcept
'existing' exist ignor
node state nodest
node exist creat
node info nodeinfo uuid getuuid
potenti uuid conflict add node info
node state nodest import node importnod node info nodeinfo parent
make import defin uuid
primarytyp mixin make node referenc
check includ mix referenc checkincludesmixreferenc node info nodeinfo
potenti uuid conflict
node nodeid conflict conflictingid session factori getidfactori creat node createnodeid node info nodeinfo uuid getuuid
node entri nodeentri conflict session hierarchi manag gethierarchymanag node entri getnodeentri conflict conflictingid
assert entri
conflict item state getitemst
node state nodest resolv uuid conflict resolveuuidconflict parent conflict node info nodeinfo
item found except itemnotfoundexcept
conflict creat uuid
node state nodest import node importnod node info nodeinfo parent
node state 'null' applic def protect
node state nodest
process properti
prop info propinfo prop info propinfo
import properti importproperti node state nodest resolv
push current nodest stack parent
parent push node state nodest
inheritdoc
end node endnod node info nodeinfo node info nodeinfo repositori except repositoryexcept
close isclos
workspac import ignor import abort
parent pop
inheritdoc
end repositori except repositoryexcept
close isclos
workspac import ignor import abort
check session checksess
adjust refer refer remap uuid
state mgr statemgr adjust refer adjustrefer ref tracker reftrack
close import
set close setclos
sessionlisten
param session
sessionlisten loggingout session
log loggingout session session
session valid call
import fail
session close sessionclos
param session
sessionlisten loggedout session
log loggedout session session
ignor
import session statu
set close setclos close isclos
import close importerclos close isclos
close isclos
session remov listen removelisten
session add listen addlisten
close isclos
import close importerclos
check session checksess repositori except repositoryexcept
session close sessionclos
repositori except repositoryexcept session close
privat method
param parent
param conflict
param nodeinfo
return
throw repositoryexcept
node state nodest resolv uuid conflict resolveuuidconflict node state nodest parent node entri nodeentri conflict
node info nodeinfo node info nodeinfo item exist except itemexistsexcept repositori except repositoryexcept
node state nodest node state nodest
uuid behavior uuidbehavior
import uuid behavior importuuidbehavior import uuid creat import uuid creat
string origin uuid originaluuid node info nodeinfo uuid getuuid
string uuid newuuid uuid random uuid randomuuid string tostr
reset nodeinfo forc creation uuid
node info nodeinfo set uuid setuuid uuid newuuid
node state nodest import node importnod node info nodeinfo parent
node state nodest
rememb uuid map
ref tracker reftrack map uui mappeduuid origin uuid originaluuid uuid newuuid
import uuid behavior importuuidbehavior import uuid collis throw import uuid collis throw
string msg node uuid node info nodeinfo uuid getuuid exist
log debug msg
item exist except itemexistsexcept msg
import uuid behavior importuuidbehavior import uuid collis remov exist import uuid collis remov exist
make conflict node importtarget ancestor thereof
path import target importtarget path getpath
path conflict path getpath
equal ancestor isancestorof
msg remov ancestor node
log debug msg
constraint violat except constraintviolationexcept msg
remov conflict recurs includ valid check
oper remov creat conflict node state getnodest
state mgr statemgr execut
item found except itemnotfoundexcept
conflict exist remov
creat uuid
node state nodest import node importnod node info nodeinfo parent
import uuid behavior importuuidbehavior import uuid collis replac exist import uuid collis replac exist
conflict node state getnodest root isroot
msg root node replac
log debug msg
repositori except repositoryexcept msg
'replace' current parent parent conflict
parent conflict parent getpar node state getnodest
remov conflict recurs includ valid check
oper remov creat conflict node state getnodest
state mgr statemgr execut
creat uuid locat conflict
node state nodest import node importnod node info nodeinfo parent
msg unknown uuidbehavior uuid behavior uuidbehavior
log debug msg
repositori except repositoryexcept msg
node state nodest
param nodeinfo
param parent
return
throw constraintviolationexcept
throw itemnotfoundexcept
throw repositoryexcept
node state nodest import node importnod node info nodeinfo node info nodeinfo node state nodest parent constraint violat except constraintviolationexcept item found except itemnotfoundexcept repositori except repositoryexcept
parent name parentntnam parent node type name getallnodetypenam
parent properti haspropertynam node info nodeinfo getnam
properti exist properti
import document view import
element attribut
parent element renam conflict properti
http issu apach org jira brows jcr
properti state propertyst conflict parent properti state getpropertyst node info nodeinfo getnam
conflict statu getstatu statu
assum properti import
renam conflict properti
todo revers escap scheme creat uniqu
newnam session factori getnamefactori creat node info nodeinfo getnam namespac uri getnamespaceuri node info nodeinfo getnam local getlocalnam
parent properti haspropertynam newnam
newnam session factori getnamefactori creat newnam namespac uri getnamespaceuri newnam local getlocalnam
find applic definit
properti definit qpropertydefinit prop def propdef
conflict valu getvalu length
singl multi valu
singl valu
prop def propdef session item definit provid getitemdefinitionprovid properti definit getqpropertydefinit parent name parentntnam newnam conflict type gettyp
constraint violat except constraintviolationexcept cve
multi valu
prop def propdef session item definit provid getitemdefinitionprovid properti definit getqpropertydefinit parent name parentntnam newnam conflict type gettyp
multi valu
prop def propdef session item definit provid getitemdefinitionprovid properti definit getqpropertydefinit parent name parentntnam newnam conflict type gettyp
oper add properti addproperti creat parent newnam conflict type gettyp prop def propdef conflict valu getvalu
state mgr statemgr execut
oper remov creat conflict
state mgr statemgr execut
creat nodest
node definit qnodedefinit def session item definit provid getitemdefinitionprovid node definit getqnodedefinit parent name parentntnam node info nodeinfo getnam node info nodeinfo node type getnodetypenam
def protect isprotect
log debug skip protect nodest node info nodeinfo getnam
ntname node info nodeinfo node type getnodetypenam
ntname
default node type
ntname def default primari type getdefaultprimarytyp
oper add node addnod creat parent node info nodeinfo getnam ntname node info nodeinfo uuid getuuid
state mgr statemgr execut
retriev state creat execut addnod
node state nodest child state childstat node state nodest add node addnod ad state getaddedst
set mixin type
mixin name mixinnam node info nodeinfo mixin name getmixinnam
mixin name mixinnam mixin name mixinnam length
oper set mixin setmixin creat child state childstat node info nodeinfo mixin name getmixinnam
state mgr statemgr execut
child state childstat
param
param parentst
param resolv
throw repositoryexcept
throw constraintviolationexcept
import properti importproperti prop info propinfo node state nodest parent state parentst path resolv namepathresolv resolv repositori except repositoryexcept constraint violat except constraintviolationexcept
prop propnam getnam
text textvalu tva valu getvalu
info type infotyp type gettyp
properti state propertyst prop state propstat
properti definit qpropertydefinit def
node entri nodeentri parent entri parententri node entri nodeentri parent state parentst hierarchi entri gethierarchyentri
properti entri propertyentri entri pentri parent entri parententri properti entri getpropertyentri prop propnam
entri pentri
properti exist
properti state propertyst exist entri pentri properti state getpropertyst
def exist definit getdefinit
def protect isprotect
skip protect properti
log debug skip protect properti log util logutil safe jcr path safegetjcrpath exist session path resolv getpathresolv
def auto creat isautocr
exist type gettyp info type infotyp info type infotyp properti type propertytyp undefin
def multipl ismultipl exist multi valu ismultivalu
properti auto creat creat
prop state propstat exist
item exist except itemexistsexcept log util logutil safe jcr path safegetjcrpath exist session path resolv getpathresolv
item found except itemnotfoundexcept
properti exist
ignor
parent name parentntnam parent state parentst node type name getallnodetypenam
def
properti find applic definit
tva length
singl multi valu
def session item definit provid getitemdefinitionprovid properti definit getqpropertydefinit parent name parentntnam prop propnam info type infotyp
multi valu
def session item definit provid getitemdefinitionprovid properti definit getqpropertydefinit parent name parentntnam prop propnam info type infotyp
def protect isprotect
skip protect properti
log debug skip protect properti prop propnam
retriev target properti type need creation qvalu
includ eventu convers targettyp need
set updat type properti state
target type targettyp def requir type getrequiredtyp
target type targettyp properti type propertytyp undefin
info type infotyp properti type propertytyp undefin
target type targettyp properti type propertytyp string
target type targettyp info type infotyp
qvalu valu properti valu getpropertyvalu target type targettyp def multipl ismultipl resolv
prop state propstat
creat properti
oper add properti addproperti creat parent state parentst prop propnam target type targettyp def valu
state mgr statemgr execut
prop state propstat parent entri parententri properti entri getpropertyentri prop propnam properti state getpropertyst
modifi exist properti
oper set properti setpropertyvalu creat prop state propstat valu target type targettyp
state mgr statemgr execut
store refer resolut
prop state propstat type gettyp properti type propertytyp refer
ref tracker reftrack process refer processedrefer prop state propstat
param propertyinfo
param targettyp
param ismultipl
param resolv path resolv build code qvalu code
return
throw repositoryexcept
qvalu properti valu getpropertyvalu prop info propinfo properti info propertyinfo target type targettyp
multipl ismultipl path resolv namepathresolv resolv
repositori except repositoryexcept
text textvalu tva properti info propertyinfo valu getvalu
check multi valu characterist
tva length tva length multipl ismultipl
constraint violat except constraintviolationexcept properti info propertyinfo getnam multi valu
convert serial valu qvalu object
qvalu iva qvalu tva length
tva length
iva build buildqvalu tva target type targettyp resolv
iva
param
param targettyp
param resolv path resolv build code qvalu code
return
throw repositoryexcept
qvalu build buildqvalu text textvalu target type targettyp path resolv namepathresolv resolv repositori except repositoryexcept
qvalu
target type targettyp
properti type propertytyp binari
base64 encod binari type
length
65kb deseri binari type memori
byte arrai output stream bytearrayoutputstream bao byte arrai output stream bytearrayoutputstream
base64 decod retriev bao
close bytearrayoutputstream
bao close
session factori getqvaluefactori creat bao byte arrai tobytearrai
65kb deseri binari type
reader temporari file
transient file factori transientfilefactori file factori filefactori transient file factori transientfilefactori instanc getinst
file tmp file tmpfile file factori filefactori creat transient file createtransientfil bin
file output stream fileoutputstream file output stream fileoutputstream tmp file tmpfile
reader reader reader
base64 decod reader
reader close
close
session factori getqvaluefactori creat tmp file tmpfile
build namespac context xml document
helper valuehelp convert retriev target type targettyp session factori getvaluefactori
format valueformat getqvalu resolv session factori getqvaluefactori
except ioexcept
string msg fail retriev serial
log debug msg
repositori except repositoryexcept msg
valid code nodeinfo code make uuid
defin primari mixin type includ mix referenc
param nodeinfo
throw repositoryexcept
check includ mix referenc checkincludesmixreferenc import node info nodeinfo node info nodeinfo repositori except repositoryexcept
list arrai list arraylist
add node info nodeinfo node type getnodetypenam
mixin name mixinnam node info nodeinfo mixin name getmixinnam
mixin name mixinnam mixin name mixinnam length
add addal arrai list aslist node info nodeinfo mixin name getmixinnam
constant nameconst mix referenc mix referenc
shortcut
name ntname arrai toarrai size
effect node type effectivenodetyp ent session effect node type provid geteffectivenodetypeprovid effect node type geteffectivenodetyp name ntname
ent includ node type includesnodetyp constant nameconst mix referenc mix referenc
constraint violat except constraintviolationexcept xml defin jcr uuid defin import node referenc
