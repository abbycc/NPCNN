org apach jackrabbit core
java file
java except ioexcept
java input stream inputstream
java output stream outputstream
java string reader stringread
java secur access control context accesscontrolcontext
java secur access control accesscontrol
java util arrai list arraylist
java util arrai
java util hash map hashmap
java util hash set hashset
java util list
java util map
java util properti
java util set
java util concurr schedul executor servic scheduledexecutorservic
java util concurr time unit timeunit
javax jcr access deni except accessdeniedexcept
javax jcr credenti
javax jcr login except loginexcept
javax jcr workspac except nosuchworkspaceexcept
javax jcr properti type propertytyp
javax jcr repositori
javax jcr repositori except repositoryexcept
javax jcr session
javax jcr simpl credenti simplecredenti
javax jcr
javax jcr factori valuefactori
javax jcr observ event
javax jcr observ observ manag observationmanag
javax secur auth subject
org apach common collect map refer map referencemap
org apach common util ioutil
org apach jackrabbit api jackrabbit repositori jackrabbitrepositori
org apach jackrabbit api manag repositori manag repositorymanag
org apach jackrabbit api secur authent token token credenti tokencredenti
org apach jackrabbit common abstract repositori abstractrepositori
org apach jackrabbit core cach cach manag cachemanag
org apach jackrabbit core cluster cluster context clustercontext
org apach jackrabbit core cluster cluster except clusterexcept
org apach jackrabbit core cluster cluster node clusternod
org apach jackrabbit core cluster lock event channel lockeventchannel
org apach jackrabbit core cluster updat event channel updateeventchannel
org apach jackrabbit core cluster updat event listen updateeventlisten
org apach jackrabbit core cluster workspac event channel workspaceeventchannel
org apach jackrabbit core cluster workspac listen workspacelisten
org apach jackrabbit core config cluster config clusterconfig
org apach jackrabbit core config persist manag config persistencemanagerconfig
org apach jackrabbit core config repositori config repositoryconfig
org apach jackrabbit core config secur manag config securitymanagerconfig
org apach jackrabbit core config version config versioningconfig
org apach jackrabbit core config workspac config workspaceconfig
org apach jackrabbit core data data store datastor
org apach jackrabbit core data data store except datastoreexcept
org apach jackrabbit core data garbag collector garbagecollector
org apach jackrabbit core file system filesystem
org apach jackrabbit core file system except filesystemexcept
org apach jackrabbit core file system resourc filesystemresourc
org apach jackrabbit core node nodeid
org apach jackrabbit core node factori nodeidfactori
org apach jackrabbit core lock lock manag lockmanag
org apach jackrabbit core lock lock manag impl lockmanagerimpl
org apach jackrabbit core nodetyp node type registri nodetyperegistri
org apach jackrabbit core nodetyp virtual virtual node type state manag virtualnodetypestatemanag
org apach jackrabbit core observ deleg observ dispatch delegatingobservationdispatch
org apach jackrabbit core observ event state eventst
org apach jackrabbit core observ event state collect eventstatecollect
org apach jackrabbit core observ observ dispatch observationdispatch
org apach jackrabbit core persist iter persist manag iterablepersistencemanag
org apach jackrabbit core persist context pmcontext
org apach jackrabbit core persist persist manag persistencemanag
org apach jackrabbit core retent retent registri retentionregistri
org apach jackrabbit core retent retent registri impl retentionregistryimpl
org apach jackrabbit core secur jackrabbit secur manag jackrabbitsecuritymanag
org apach jackrabbit core secur authent auth context authcontext
org apach jackrabbit core secur authent token token base authent tokenbasedauthent
org apach jackrabbit core secur author privileg registri privilegeregistri
org apach jackrabbit core secur simpl simpl secur manag simplesecuritymanag
org apach jackrabbit core state chang log changelog
org apach jackrabbit core state ism lock ismlock
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state manag mlru item state cach factori managedmlruitemstatecachefactori
org apach jackrabbit core state share item state manag shareditemstatemanag
org apach jackrabbit core util repositori lock mechan repositorylockmechan
org apach jackrabbit core version intern version manag internalversionmanag
org apach jackrabbit core version intern version manag impl internalversionmanagerimpl
org apach jackrabbit core xml clone input sourc clonedinputsourc
org apach jackrabbit spi common constant nameconst
org apach jackrabbit spi common namespac namespac resolv namespaceresolv
org apach jackrabbit spi common namespac registri namespac resolv registrynamespaceresolv
org apach jackrabbit factori impl valuefactoryimpl
org slf4j logger
org slf4j logger factori loggerfactori
org xml sax input sourc inputsourc
oswego util concurr mutex
oswego util concurr read write lock readwritelock
oswego util concurr reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
oswego util concurr writer prefer read write lock writerpreferencereadwritelock
code repositoryimpl code
repositori impl repositoryimpl abstract repositori abstractrepositori
javax jcr repositori jackrabbit repositori jackrabbitrepositori session listen sessionlisten workspac listen workspacelisten
logger log logger factori loggerfactori logger getlogg repositori impl repositoryimpl
hardcod repositori root node
node nodeid root node root node node nodeid valueof cafebab cafe babe cafe babecafebab
hardcod jcr system node
node nodeid system root node system root node node nodeid valueof deadbeef cafe babe cafe babecafebab
hardcod jcr system jcr versionstorag node
node nodeid version storag node version storag node node nodeid valueof deadbeef face babe cafe babecafebab
hardcod jcr system jcr activ node
node nodeid activ node activ node node nodeid valueof deadbeef face babe ac71 babecafebab
hardcod jcr system jcr configur node
node nodeid configur node configur node node nodeid valueof deadbeef face babe c04f babecafebab
hardcod jcr system jcr nodetyp node
node nodeid nodetyp node nodetyp node node nodeid valueof deadbeef cafe cafe cafe babecafebab
resourc custom descriptor repositori
string properti resourc properti resourc repositori properti
repositori descriptor map string kei object
map string descriptor descriptorvalu rep descriptor repdescriptor hash map hashmap string descriptor descriptorvalu
repositori context repositorycontext context repositori context repositorycontext
virtual node type state manag virtualnodetypestatemanag virt mgr virtntmgr
secur manag
jackrabbit secur manag jackrabbitsecuritymanag secur mgr securitymgr
search manag jcr system tree code null code
configur
search manag searchmanag system search mgr systemsearchmgr
configur repositori
repositori config repositoryconfig rep config repconfig
node factori nodeidfactori node factori nodeidfactori
deleg observ dispatch workspac
deleg observ dispatch delegatingobservationdispatch deleg dispatch delegatingdispatch
deleg observ dispatch delegatingobservationdispatch
map workspac name code workspaceinfo code
hash map hashmap string workspac info workspaceinfo wsp info wspinfo hash map hashmap string workspac info workspaceinfo
activ session weak refer
map session session activ session activesess
refer map referencemap refer map referencemap weak refer map referencemap weak
flag indic repositori shut
dispos
repositori lock mechan ensur repositori instanti
repositori lock mechan repositorylockmechan rep lock replock
shutdown lock guarante session start
repositori shutdown repositori shutdown initi
login session login acquir read lock
repositori shutdown requir write lock guarante
multipl concurr login repositori shut
singl shutdown concurr login
happen simultan
read write lock readwritelock shutdown lock shutdownlock writer prefer read write lock writerpreferencereadwritelock
cach manag repositori manag size cach
cach manag cachemanag cach mgr cachemgr cach manag cachemanag
chanel post creat workspac messag
workspac event channel workspaceeventchannel creat workspac event channel createworkspaceeventchannel
protect constructor
param repconfig repositori configur
throw repositoryexcept repositori
instanc run configur
error occur
repositori impl repositoryimpl repositori config repositoryconfig rep config repconfig repositori except repositoryexcept
acquir lock repositori home
rep lock replock rep config repconfig repositori lock mechan getrepositorylockmechan
rep lock replock init rep config repconfig home dir gethomedir
rep lock replock acquir
system current time milli currenttimemilli
log info start repositori
succeed
rep config repconfig rep config repconfig
context set file system setfilesystem rep config repconfig file system getfilesystem
load root node identifi
context set root node setrootnodeid load root node loadrootnodeid
initi repositori descriptor
init repositori descriptor initrepositorydescriptor
creat registri
context set namespac registri setnamespaceregistri creat namespac registri createnamespaceregistri
context set node type registri setnodetyperegistri creat node type registri createnodetyperegistri
context set privileg registri setprivilegeregistri privileg registri privilegeregistri context namespac registri getnamespaceregistri context file system getfilesystem
creat item state cach manag
context set item state cach factori setitemstatecachefactori
manag mlru item state cach factori managedmlruitemstatecachefactori cach mgr cachemgr
data store datastor data store datastor rep config repconfig data store getdatastor
data store datastor
context set data store setdatastor data store datastor
node factori nodeidfactori node factori nodeidfactori rep config repconfig home dir gethomedir
node factori nodeidfactori open
context set node factori setnodeidfactori node factori nodeidfactori
context set workspac manag setworkspacemanag workspac manag workspacemanag
init workspac config
workspac config workspaceconfig config rep config repconfig workspac config getworkspaceconfig
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put config getnam info
initi option cluster set
extern event sourc cluster node interest
cluster node clusternod cluster node clusternod
rep config repconfig cluster config getclusterconfig
cluster node clusternod creat cluster node createclusternod
context set cluster node setclusternod cluster node clusternod
context namespac registri getnamespaceregistri set event channel seteventchannel cluster node clusternod
context node type registri getnodetyperegistri set event channel seteventchannel cluster node clusternod
context privileg registri getprivilegeregistri set event channel seteventchannel cluster node clusternod
creat workspac event channel createworkspaceeventchannel cluster node clusternod
cluster node clusternod set listen setlisten
init version manag
intern version manag impl internalversionmanagerimpl mgr vmgr creat version manag createversionmanag
rep config repconfig version config getversioningconfig deleg dispatch delegatingdispatch
context set intern version manag setinternalversionmanag mgr vmgr
cluster node clusternod
mgr vmgr set event channel seteventchannel cluster node clusternod creat updat channel createupdatechannel
init virtual node type manag
virt mgr virtntmgr virtual node type state manag virtualnodetypestatemanag
context node type registri getnodetyperegistri
deleg dispatch delegatingdispatch nodetyp node nodetyp node system root node system root node
initi startup workspac
init startup workspac initstartupworkspac
initi system search manag
system search manag getsystemsearchmanag rep config repconfig default workspac getdefaultworkspacenam
initialis secur manag
init secur manag initsecuritymanag
workspac initi pass system session
virtual node type manag
todo fixm global virtual node type manag session bound singl specif workspac
virt mgr virtntmgr set session setsess system session getsystemsess rep config repconfig default workspac getdefaultworkspacenam
start cluster node step
cluster node clusternod
cluster node clusternod start
cluster except clusterexcept
string msg unabl start cluster node forc shutdown
log error msg
shutdown
repositori except repositoryexcept msg
amount time second idl workspac automat
shut
max idl time maxidletim rep config repconfig workspac max idl time getworkspacemaxidletim
max idl time maxidletim
start workspac janitor thread
thread wsp janitor wspjanitor thread workspac janitor workspacejanitor max idl time maxidletim
wsp janitor wspjanitor set setnam workspacejanitor
wsp janitor wspjanitor set prioriti setprior thread min prioriti min prioriti
wsp janitor wspjanitor set daemon setdaemon
wsp janitor wspjanitor start
succeed
log info repositori start system current time milli currenttimemilli
repositori except repositoryexcept
log error fail start repositori messag getmessag
succeed
repositori startup fail clean
shutdown
throwabl
ensur except overlai origin
startup except log
log error addit startup fail unexpect problem
occur shut repositori
clear repositori lock left place
rep lock replock releas
protect factori method creat namespac registri
call constructor repositori file system
initialis
return namespac registri
throw repositoryexcept namespac registri creat
namespac registri impl namespaceregistryimpl creat namespac registri createnamespaceregistri
repositori except repositoryexcept
namespac registri impl namespaceregistryimpl context file system getfilesystem
protect factori method creat node type registri
call constructor repositori file system
namespac registri initialis
return node type registri
throw repositoryexcept node type registri creat
node type registri nodetyperegistri creat node type registri createnodetyperegistri
repositori except repositoryexcept
node type registri nodetyperegistri
context namespac registri getnamespaceregistri context file system getfilesystem
return intern compon context repositori
packag privat method
reason access repositori context
design access repositori instanc
repositori context
return repositori context
repositori context repositorycontext repositori context getrepositorycontext repositorycontext getrepositorycontext todo rid method
context
cach manag repositori
set memori paramet
return cach manag
cach manag cachemanag cach manag getcachemanag
cach mgr cachemgr
creat link org apach jackrabbit core secur jackrabbitsecuritymanag securitymanag
code repositori code add repositori context
throw repositoryexcept error occur
init secur manag initsecuritymanag repositori except repositoryexcept
secur manag config securitymanagerconfig smc
config getconfig secur config getsecurityconfig secur manag config getsecuritymanagerconfig
smc
log debug configur entri securitymanag org apach jackrabbit core secur simpl simplesecuritymanag
secur mgr securitymgr simpl secur manag simplesecuritymanag
secur mgr securitymgr smc instanc newinst jackrabbit secur manag jackrabbitsecuritymanag
log info securitymanag secur mgr securitymgr class getclass
context set secur manag setsecuritymanag secur mgr securitymgr
string workspac workspacenam config getconfig default workspac getdefaultworkspacenam
smc smc workspac getworkspacenam
workspac workspacenam smc workspac getworkspacenam
mark workspac 'active' dispos
workspac janitor
todo cleaner
mark workspac activ markworkspaceact workspac workspacenam
fixm note call secur
manag ad repositori context
initialis code invok code depend presenc
secur manag case
secur mgr securitymgr init system session getsystemsess workspac workspacenam
creat version manag
param vconfig version config
return newli creat version manag
throw repositoryexcept error occur
intern version manag impl internalversionmanagerimpl creat version manag createversionmanag version config versioningconfig config vconfig
deleg observ dispatch delegatingobservationdispatch deleg dispatch delegatingdispatch
repositori except repositoryexcept
file system filesystem config vconfig file system getfilesystem
persist manag persistencemanag creat persist manag createpersistencemanag
config vconfig home dir gethomedir
config vconfig persist manag config getpersistencemanagerconfig
ism lock ismlock ism lock ismlock config vconfig ism lock getismlock
intern version manag impl internalversionmanagerimpl
context node type registri getnodetyperegistri deleg dispatch delegatingdispatch
system root node system root node
version storag node version storag node
activ node activ node
context item state cach factori getitemstatecachefactori
ism lock ismlock
context node factori getnodeidfactori
initi startup workspac base implement initi
default workspac deriv class initi startup
workspac call base implement
throw repositoryexcept error occur
init startup workspac initstartupworkspac repositori except repositoryexcept
string wsp wspname rep config repconfig default workspac getdefaultworkspacenam
string sec wsp secwspnam
secur manag config securitymanagerconfig smc rep config repconfig secur config getsecurityconfig secur manag config getsecuritymanagerconfig
smc
sec wsp secwspnam smc workspac getworkspacenam
wsp info wspinfo wsp wspname initi
sec wsp secwspnam wsp info wspinfo kei containskei sec wsp secwspnam
creat workspac createworkspac sec wsp secwspnam
log info creat system workspac sec wsp secwspnam
repositori except repositoryexcept
default workspac fail initi shutdown
log error fail initi workspac wsp wspname
log error unabl start repositori forc shutdown
shutdown
return root node identifi identifi load
code meta rootuuid code file repositori file system
file exist hardcod default root node
identifi link root node written file
util method constructor
repositori file system initialis
return root node identifi
throw repositoryexcept identifi load save
node nodeid load root node loadrootnodeid repositori except repositoryexcept
file system resourc filesystemresourc uuid file uuidfil file system resourc filesystemresourc
context file system getfilesystem meta rootuuid
uuid file uuidfil exist
load uuid repository' root node store
text format charact readabl
input stream inputstream uuid file uuidfil input stream getinputstream
node nodeid valueof util ioutil string tostr ascii
util ioutil close quietli closequietli
hard code uuid root node gener
uuid repositori instanc
hard code uuid make easier copi move entir
workspac repositori instanc
uuid file uuidfil make parent dir makeparentdir
output stream outputstream uuid file uuidfil output stream getoutputstream
write root node root node string tostr byte getbyt ascii
root node root node
util ioutil close quietli closequietli
except ioexcept
repositori except repositoryexcept
fail load persist root node identifi
file system except filesystemexcept fse
repositori except repositoryexcept
fail access root node identifi fse
creat code repositoryimpl code instanc
param config configur repositori
return code repositoryimpl code instanc
throw repositoryexcept error occur
repositori impl repositoryimpl creat repositori config repositoryconfig config
repositori except repositoryexcept
repositori impl repositoryimpl config
perform saniti check repositori instanc
throw repositoryexcept repositori render
invalid reason shut
saniti check sanitycheck repositori except repositoryexcept
check repositori statu
dispos
repositori except repositoryexcept
repositori instanc shut
return system search manag code null code
configur
search manag searchmanag system search manag getsystemsearchmanag string wsp wspname
repositori except repositoryexcept
system search mgr systemsearchmgr
rep config repconfig search enabl issearchen
system search mgr systemsearchmgr search manag searchmanag
context
rep config repconfig
workspac info getworkspaceinfo wsp wspname item state mgr itemstatemgr
context intern version manag getinternalversionmanag persist manag getpersistencemanag
system root node system root node
system session systemsess def sy session defsyssess system session getsystemsess wsp wspname
observ manag observationmanag ob mgr obsmgr def sy session defsyssess workspac getworkspac observ manag getobservationmanag
ob mgr obsmgr add event listen addeventlisten system search mgr systemsearchmgr event node ad node ad
event node remov node remov event properti ad properti ad
event properti chang properti chang event properti remov properti remov
def sy session defsyssess jcr getjcrnam constant nameconst jcr system jcr system
system search mgr systemsearchmgr
creat cluster node
return cluster node
cluster node clusternod creat cluster node createclusternod repositori except repositoryexcept
cluster node clusternod cluster node clusternod cluster node clusternod
cluster node clusternod init extern event listen externaleventlisten
cluster node clusternod
except
repositori except repositoryexcept
return name workspac repositori
return name workspac repositori
javax jcr workspac getaccessibleworkspacenam
string workspac name getworkspacenam
wsp info wspinfo
wsp info wspinfo kei set keyset arrai toarrai string wsp info wspinfo kei set keyset size
return link workspaceinfo name workspac
param workspacenam workspac link workspaceinfo
return code null code
return link workspaceinfo name workspac
code null code
throw nosuchworkspaceexcept name workspac exist
throw repositoryexcept repositori shut
workspac info workspaceinfo workspac info getworkspaceinfo string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info workspaceinfo wsp info wspinfo
wsp info wspinfo
wsp info wspinfo wsp info wspinfo workspac workspacenam
wsp info wspinfo
workspac except nosuchworkspaceexcept workspac workspacenam
wsp info wspinfo initi
repositori except repositoryexcept
log error unabl initi workspac workspac workspacenam
workspac except nosuchworkspaceexcept workspac workspacenam
wsp info wspinfo
creat workspac
param workspacenam workspac
throw repositoryexcept workspac
exist error occur
workspaceimpl createworkspac string
creat workspac createworkspac string workspac workspacenam
repositori except repositoryexcept
wsp info wspinfo
wsp info wspinfo kei containskei workspac workspacenam
repositori except repositoryexcept workspac
workspac workspacenam exist
need newli creat workspac config file content
run cluster environ
string buffer stringbuff workspac config content workspaceconfigcont
context cluster node getclusternod
workspac config content workspaceconfigcont string buffer stringbuff
creat workspac configur
workspac config workspaceconfig config rep config repconfig creat workspac config createworkspaceconfig workspac workspacenam workspac config content workspaceconfigcont
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put workspac workspacenam info
workspac config content workspaceconfigcont creat workspac event channel createworkspaceeventchannel
notifi cluster node workspac creat
input sourc inputsourc input sourc inputsourc string reader stringread workspac config content workspaceconfigcont string tostr
creat workspac event channel createworkspaceeventchannel workspac creat workspacecr workspac workspacenam clone input sourc clonedinputsourc
extern workspac creat externalworkspacecr string workspac workspacenam
input sourc inputsourc config templat configtempl repositori except repositoryexcept
creat workspac intern createworkspaceintern workspac workspacenam config templat configtempl
creat workspac workspac configur
templat
differ method link createworkspac string inputsourc
notifi cluster node workspac creat
method creat workspac
param workspacenam workspac
param configtempl workspac configur templat
workspac
throw repositoryexcept workspac
exist error occur
workspaceimpl createworkspac string inputsourc
creat workspac intern createworkspaceintern string workspac workspacenam
input sourc inputsourc config templat configtempl
repositori except repositoryexcept
wsp info wspinfo
wsp info wspinfo kei containskei workspac workspacenam
repositori except repositoryexcept workspac
workspac workspacenam exist
creat workspac configur
workspac config workspaceconfig config rep config repconfig creat workspac config createworkspaceconfig workspac workspacenam config templat configtempl
workspac info workspaceinfo info creat workspac info createworkspaceinfo config
wsp info wspinfo put workspac workspacenam info
creat workspac workspac configur
templat
param workspacenam workspac
param configtempl workspac configur templat
workspac
throw repositoryexcept workspac
exist error occur
workspaceimpl createworkspac string inputsourc
creat workspac createworkspac string workspac workspacenam
input sourc inputsourc config templat configtempl
repositori except repositoryexcept
creat workspac event channel createworkspaceeventchannel
creat workspac intern createworkspaceintern workspac workspacenam config templat configtempl
clone input sourc clonedinputsourc templat clone input sourc clonedinputsourc config templat configtempl
creat workspac intern createworkspaceintern workspac workspacenam templat clone input sourc cloneinputsourc
creat workspac event channel createworkspaceeventchannel workspac creat workspacecr workspac workspacenam templat
share item state manag shareditemstatemanag workspac state manag getworkspacestatemanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam item state provid getitemstateprovid
enabl disabl referenti integr check workspac
disabl referenti integr check result corrupt
workspac featur custom
implement subclass repositoryimpl
href http issu apach org jira brows jcr issu jcr
param workspac workspac
param enabl code true code enabl integr check default
code fals code disabl
throw repositoryexcept error occur
set referenti integr check setreferentialintegritycheck
string workspac enabl repositori except repositoryexcept
share item state manag shareditemstatemanag manag workspac state manag getworkspacestatemanag workspac
manag set check refer setcheckrefer enabl
observ dispatch observationdispatch observ dispatch getobservationdispatch string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam observ dispatch getobservationdispatch
return link searchmanag workspac
code workspacenam code
param workspacenam workspac
return code searchmanag code workspac
code null code workspac
code searchmanag code configur
throw nosuchworkspaceexcept workspac
code workspacenam code
throw repositoryexcept error occur open
search index
search manag searchmanag search manag getsearchmanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam search manag getsearchmanag
return link lockmanag workspac
code workspacenam code
param workspacenam workspac
return code lockmanag code workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
lock manag impl lockmanagerimpl lock manag getlockmanag string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam lock manag getlockmanag
return link org apach jackrabbit core retent retentionregistri workspac
code workspacenam code
param workspacenam workspac
return code retentionevalu code workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
retent registri retentionregistri retent registri getretentionregistri string workspac workspacenam workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam retent registri getretentionregistri
return link systemsess workspac
code workspacenam code
param workspacenam workspac
return system session workspac
throw nosuchworkspaceexcept workspac exist
throw repositoryexcept error occur
system session systemsess system session getsystemsess string workspac workspacenam
workspac except nosuchworkspaceexcept repositori except repositoryexcept
check saniti instanc
saniti check sanitycheck
workspac info getworkspaceinfo workspac workspacenam system session getsystemsess
mark workspac activ workspac
janitor attempt dispos featur
secur manag data store garbag collector prevent
workspac disappear
fixm cleaner
param workspacenam workspac
throw repositoryexcept workspac access
mark workspac activ markworkspaceact string workspac workspacenam repositori except repositoryexcept
workspac info getworkspaceinfo workspac workspacenam set activ setact
creat repositori session workspac
authent subject login context
add activ session
call link createsessioninst authcontext workspaceconfig
creat actual code sessionimpl code instanc
param logincontext login context authent subject
param workspacenam workspac
return session
throw nosuchworkspaceexcept workspac exist
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur
session impl sessionimpl creat session createsess auth context authcontext login context logincontext
string workspac workspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo workspac workspacenam
session impl sessionimpl se creat session instanc createsessioninst login context logincontext wsp info wspinfo config getconfig
session creat onsessioncr se
reset idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp
se
creat repositori session workspac
authent subject add activ
session
call link createsessioninst subject workspaceconfig
creat actual code sessionimpl code instanc
param subject authent subject
param workspacenam workspac
return session
throw nosuchworkspaceexcept workspac exist
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur
session impl sessionimpl creat session createsess subject subject
string workspac workspacenam
workspac except nosuchworkspaceexcept access deni except accessdeniedexcept
repositori except repositoryexcept
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo workspac workspacenam
session impl sessionimpl se creat session instanc createsessioninst subject wsp info wspinfo config getconfig
session creat onsessioncr se
reset idl timestamp
wsp info wspinfo set idl timestamp setidletimestamp
se
add session list activ session regist
repositori listen
param session session regist
session creat onsessioncr session impl sessionimpl session
activ session activesess
session add listen addlisten
activ session activesess put session session
add princip subject
access subject current accesscontrolcontext
subject found logincontext evok order
possibl extens preauthent subject
contrast login credenti session creat
authent fail
link subject mark unmodific
authent subject fail session build unchang
subject
param workspacenam null
return subject exst null
throw repositoryexcept
throw accessdeniedexcept
session extend authent extendauthent string workspac workspacenam
repositori except repositoryexcept access deni except accessdeniedexcept
subject subject
access control context accesscontrolcontext acc access control accesscontrol context getcontext
subject subject subject getsubject acc
secur except securityexcept
log warn check preauthent reason messag getmessag
subject
log debug preauthent subject found return null
session
subject read isreadonli
log debug preauthent subject read creat session
creat session createsess subject workspac workspacenam
log debug found preauthent subject extend authent
login jaa custom loginmodul
auth context authcontext auth ctx authctx context secur manag getsecuritymanag auth context getauthcontext
subject workspac workspacenam
auth ctx authctx login
creat session createsess auth ctx authctx workspac workspacenam
javax secur auth login login except loginexcept
subject extend
log debug preauthent extend
creat session createsess subject workspac workspacenam
jackrabbitrepositori
shut repositori shutdown guard shutdown lock
prevent session start simultan
shutdown
shutdown lock shutdownlock write lock writelock acquir
interrupt except interruptedexcept
todo check except
runtim except runtimeexcept shutdown lock acquir
check statu instanc
dispos
shutdown doshutdown
shutdown lock shutdownlock write lock writelock releas
protect method perform actual shutdown shutdown
lock acquir link shutdown method
shutdown doshutdown
log info shut repositori
stop option cluster node
cluster node clusternod cluster node clusternod context cluster node getclusternod
cluster node clusternod
cluster node clusternod stop
secur mgr securitymgr
secur mgr securitymgr close
close activ user session
copi session arrai avoid concurrentmodificationexcept
manual copi entri call referencemap toarrai
order work http issu apach org bugzilla show bug cgi
list session
activ session activesess
arrai list arraylist session activ session activesess size
session session activ session activesess valu
add session
session session
session
session logout
shutdown system search manag
system search mgr systemsearchmgr
system search mgr systemsearchmgr close
shut workspac
wsp info wspinfo
workspac info workspaceinfo wsp info wspinfo wsp info wspinfo valu
wsp info wspinfo dispos
intern version manag internalversionmanag context intern version manag getinternalversionmanag
close
except
log error error close version manag
rep descriptor repdescriptor clear
data store datastor data store datastor context data store getdatastor
data store datastor
close datastor
data store datastor close
data store except datastoreexcept
log error error close datastor
close repositori file system
context file system getfilesystem close
file system except filesystemexcept
log error error close repositori file system
node factori nodeidfactori close
repositori except repositoryexcept
log error error close repositori file system
make instanc anymor
dispos
wake thread wait instance' monitor workspac janitor
notifi notifyal
shut executor servic
schedul executor servic scheduledexecutorservic executor context executor getexecutor
executor shutdown
wait remain background thread termin
executor await termin awaittermin time unit timeunit second
log warn attempt forcibl shutdown runawai thread
executor shutdown shutdownnow
interrupt except interruptedexcept
log warn interrupt wait background thread
rep config repconfig connect factori getconnectionfactori close
final releas repositori lock
rep lock replock
rep lock replock releas
repositori except repositoryexcept
log error fail releas repositori lock
log info repositori shutdown
return configur repositori
return repositori configur
repositori config repositoryconfig config getconfig
rep config repconfig
initi repositori descriptor execut step
set standard descriptor
link getcustomrepositorydescriptor call
order add custom overwrit standard repositori decriptor
throw repositoryexcept
init repositori descriptor initrepositorydescriptor repositori except repositoryexcept
factori valuefactori val factori valfactori factori impl valuefactoryimpl instanc getinst
val true valtru val factori valfactori creat createvalu
val fals valfals val factori valfactori creat createvalu
set descriptor setdescriptor repositori rep desc rep desc jackrabbit
set descriptor setdescriptor repositori rep vendor desc rep vendor desc apach softwar foundat
set descriptor setdescriptor repositori rep vendor url desc rep vendor url desc http jackrabbit apach org
set descriptor setdescriptor repositori spec desc spec desc content repositori api java technolog specif
set descriptor setdescriptor repositori spec version desc spec version desc
set descriptor setdescriptor repositori identifi stabil identifi stabil repositori identifi stabil indefinit durat identifi stabil indefinit durat
set descriptor setdescriptor repositori level support level support val true valtru
set descriptor setdescriptor repositori level support level support val true valtru
set descriptor setdescriptor repositori write support write support val true valtru
set descriptor setdescriptor repositori option node type manag support option node type manag support val true valtru
set descriptor setdescriptor repositori node type manag autocr definit support node type manag autocr definit support val true valtru
set descriptor setdescriptor repositori node type manag inherit node type manag inherit repositori node type manag inherit multipl node type manag inherit multipl
set descriptor setdescriptor repositori node type manag multipl binari properti support node type manag multipl binari properti support val true valtru
set descriptor setdescriptor repositori node type manag multivalu properti support node type manag multivalu properti support val true valtru
set descriptor setdescriptor repositori node type manag order child node support node type manag order child node support val true valtru
set descriptor setdescriptor repositori node type manag overrid support node type manag overrid support val fals valfals
set descriptor setdescriptor repositori node type manag primari item support node type manag primari item support val true valtru
type
val factori valfactori creat createvalu properti type propertytyp binari
val factori valfactori creat createvalu properti type propertytyp boolean
val factori valfactori creat createvalu properti type propertytyp date
val factori valfactori creat createvalu properti type propertytyp decim
val factori valfactori creat createvalu properti type propertytyp doubl
val factori valfactori creat createvalu properti type propertytyp long
val factori valfactori creat createvalu properti type propertytyp
val factori valfactori creat createvalu properti type propertytyp path
val factori valfactori creat createvalu properti type propertytyp refer
val factori valfactori creat createvalu properti type propertytyp string
val factori valfactori creat createvalu properti type propertytyp uri
val factori valfactori creat createvalu properti type propertytyp weakrefer
val factori valfactori creat createvalu properti type propertytyp undefin
set descriptor setdescriptor repositori node type manag properti type node type manag properti type type
set descriptor setdescriptor repositori node type manag residu definit support node type manag residu definit support val true valtru
set descriptor setdescriptor repositori node type manag sibl support node type manag sibl support val true valtru
set descriptor setdescriptor repositori node type manag constraint support node type manag constraint support val true valtru
set descriptor setdescriptor repositori node type manag updat suport node type manag updat suport val fals valfals
set descriptor setdescriptor repositori option access control support option access control support val true valtru
set descriptor setdescriptor repositori option journal observ support option journal observ support val true valtru
set descriptor setdescriptor repositori option lifecycl support option lifecycl support val true valtru
set descriptor setdescriptor repositori option lock support option lock support val true valtru
set descriptor setdescriptor repositori option observ support option observ support val true valtru
set descriptor setdescriptor repositori option node properti support option node properti support val true valtru
set descriptor setdescriptor repositori option queri sql support option queri sql support val true valtru
set descriptor setdescriptor repositori option retent support option retent support val true valtru
set descriptor setdescriptor repositori option shareabl node support option shareabl node support val true valtru
set descriptor setdescriptor repositori option simpl version support option simpl version support val true valtru
set descriptor setdescriptor repositori option transact support option transact support val true valtru
set descriptor setdescriptor repositori option unfil content support option unfil content support val fals valfals
set descriptor setdescriptor repositori option updat mixin node type support option updat mixin node type support val true valtru
set descriptor setdescriptor repositori option updat primari node type support option updat primari node type support val true valtru
set descriptor setdescriptor repositori option version support option version support val true valtru
set descriptor setdescriptor repositori option workspac manag support option workspac manag support val true valtru
set descriptor setdescriptor repositori option xml export support option xml export support val true valtru
set descriptor setdescriptor repositori option xml import support option xml import support val true valtru
set descriptor setdescriptor repositori option activ support option activ support val true valtru
set descriptor setdescriptor repositori option baselin support option baselin support val true valtru
set descriptor setdescriptor repositori queri full text search support queri full text search support val true valtru
set descriptor setdescriptor repositori queri join queri join repositori queri join outer queri join outer
languag
val factori valfactori creat createvalu javax jcr queri jcr jqom
val factori valfactori creat createvalu javax jcr queri jcr sql2
set descriptor setdescriptor repositori queri languag queri languag languag
set descriptor setdescriptor repositori queri store queri support queri store queri support val true valtru
set descriptor setdescriptor repositori queri xpath po index queri xpath po index val true valtru
disabl default configur document order support
http issu apach org jira brows jcr detail
set descriptor setdescriptor repositori queri xpath doc order queri xpath doc order val fals valfals
set custom repositori descriptor valu exist
properti prop custom repositori descriptor getcustomrepositorydescriptor
prop
object prop kei set keyset
string kei string
set descriptor setdescriptor kei prop properti getproperti kei
return code properti code object custom repositori
descriptor code null code exist
overrid subclass add custom descriptor
overrid standard descriptor valu
note properti entri set singl valu code string code
descriptor valu
method load code properti code
code org apach jackrabbit core repositori properti code resourc
found class path
throw repositoryexcept properti load
properti custom repositori descriptor getcustomrepositorydescriptor repositori except repositoryexcept
input stream inputstream repositori impl repositoryimpl resourc stream getresourceasstream properti resourc properti resourc
properti prop properti
prop load
prop
except ioexcept
string msg fail load custom repositori properti string tostr
log error msg
repositori except repositoryexcept msg
util ioutil close quietli closequietli
set descriptor setdescriptor string desc string
set descriptor setdescriptor desc factori impl valuefactoryimpl instanc getinst creat createvalu
set descriptor setdescriptor string desc
rep descriptor repdescriptor put desc descriptor descriptorvalu
set descriptor setdescriptor string desc valu
rep descriptor repdescriptor put desc descriptor descriptorvalu valu
creat workspac persist manag base
configur persist manag instanti
inform persist manag configur
initi persist manag context
argument
return creat workspac persist manag
throw repositoryexcept persist manag
instanti initi
persist manag persistencemanag creat persist manag createpersistencemanag
file home dir homedir file system filesystem persist manag config persistencemanagerconfig config pmconfig
repositori except repositoryexcept
persist manag persistencemanag config pmconfig
instanc newinst persist manag persistencemanag
context pmcontext context pmcontext context pmcontext
home dir homedir
context root node getrootnodeid
context namespac registri getnamespaceregistri
context node type registri getnodetyperegistri
context data store getdatastor
context repositori statist getrepositorystatist
init context pmcontext
except
string msg instanti persist manag config pmconfig class getclassnam
repositori except repositoryexcept msg
creat code shareditemstatemanag code deriv
param persistmgr persist manag
param usesrefer code true code item state manag
node refer verifi integr refer properti
code fals code
return item state manag
throw itemstateexcept error occur
share item state manag shareditemstatemanag creat item state manag createitemstatemanag
persist manag persistencemanag persist mgr persistmgr refer usesrefer
ism lock ismlock lock item state except itemstateexcept
share item state manag shareditemstatemanag
persist mgr persistmgr
context root node getrootnodeid
context node type registri getnodetyperegistri
context item state cach factori getitemstatecachefactori
lock
context node factori getnodeidfactori
creat data store garbag collector repositori
note link repositorymanag interfac
access function repositoryimpl method
remov futur jackrabbit version
garbag collector garbagecollector creat data store garbag collector createdatastoregarbagecollector
repositori except repositoryexcept
arrai list arraylist persist manag persistencemanag list pmlist arrai list arraylist persist manag persistencemanag
intern version manag impl internalversionmanagerimpl context intern version manag getinternalversionmanag
persist manag persistencemanag persist manag getpersistencemanag
list pmlist add
string wsp name wspname workspac name getworkspacenam
session session session wsp name wspname length
wsp name wspname length
string wsp wspname wsp name wspname
workspac info workspaceinfo wsp info wspinfo workspac info getworkspaceinfo wsp wspname
initi workspac requir
session impl sessionimpl system session systemsess
system session systemsess creat context wsp info wspinfo config getconfig
mark workspac 'active' dispos
workspac janitor garbag collector
wsp info wspinfo set activ setact
workspac dispos initi requir
dispos mark activ
wsp info wspinfo initi
session system session systemsess
wsp info wspinfo persist manag getpersistencemanag
list pmlist add
iter persist manag iterablepersistencemanag ipm list ipmlist
iter persist manag iterablepersistencemanag list pmlist size
list pmlist size
list pmlist
iter persist manag iterablepersistencemanag
ipm list ipmlist
ipm list ipmlist iter persist manag iterablepersistencemanag
garbag collector garbagecollector context data store getdatastor ipm list ipmlist session
repositori
inheritdoc
session login credenti credenti string workspac workspacenam
login except loginexcept workspac except nosuchworkspaceexcept repositori except repositoryexcept
shutdown lock shutdownlock read lock readlock acquir
interrupt except interruptedexcept
repositori except repositoryexcept login lock acquir
check saniti instanc
saniti check sanitycheck
workspac workspacenam
workspac workspacenam rep config repconfig default workspac getdefaultworkspacenam
check workspac exist throw nosuchworkspaceexcept
workspac info getworkspaceinfo workspac workspacenam
credenti
obtain ident authent
subject access control context
session session extend authent extendauthent workspac workspacenam
session
success extend authent
session
log debug attempt login credenti subject login null credenti
preauthent login credenti
auth context authcontext auth ctx authctx context secur manag getsecuritymanag auth context getauthcontext
credenti subject workspac workspacenam
auth ctx authctx login
creat session add simplecredenti attribut jcr
session impl sessionimpl session creat session createsess auth ctx authctx workspac workspacenam
credenti simpl credenti simplecredenti
simpl credenti simplecredenti simpl credenti simplecredenti credenti
string attribut name getattributenam
token base authent tokenbasedauthent mandatori attribut ismandatoryattribut
session set attribut setattribut attribut getattribut
set token credenti tokencredenti token cred tokencr session subject getsubject public credenti getpubliccredenti token credenti tokencredenti
token cred tokencr empti isempti
token credenti tokencredenti token cred tokencr iter
string attribut name getattributenam
token base authent tokenbasedauthent mandatori attribut ismandatoryattribut
session set attribut setattribut attribut getattribut
log debug user log workspac
session user getuserid workspac workspacenam
session
secur except securityexcept
login except loginexcept unabl access authent inform
javax secur auth login login except loginexcept
login except loginexcept messag getmessag
access deni except accessdeniedexcept ad
authent subject author workspac
login except loginexcept workspac access deni ad
shutdown lock shutdownlock read lock readlock releas
inheritdoc
string descriptor getdescriptor string kei
descriptor getdescriptorvalu kei
string getstr
repositori except repositoryexcept
log error corrupt descriptor kei
inheritdoc
string descriptor kei getdescriptorkei
string kei rep descriptor repdescriptor kei set keyset arrai toarrai string rep descriptor repdescriptor kei set keyset size
arrai sort kei
kei
inheritdoc
descriptor getdescriptorvalu string kei
descriptor descriptorvalu desc val descval rep descriptor repdescriptor kei
desc val descval desc val descval getvalu
inheritdoc
descriptor valu getdescriptorvalu string kei
descriptor descriptorvalu desc val descval rep descriptor repdescriptor kei
desc val descval desc val descval valu getvalu
inheritdoc
singl descriptor issinglevaluedescriptor string kei
descriptor descriptorvalu desc val descval rep descriptor repdescriptor kei
desc val descval desc val descval getvalu
sessionlisten
inheritdoc
log loggingout session impl sessionimpl session
inheritdoc
log loggedout session impl sessionimpl session
activ session activesess
remov session activ session
activ session activesess remov session
overrid factori method
creat instanc link sessionimpl class repres
user authent code logincontext code instanc attach
workspac configur code wspconfig code
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur creat
session
session impl sessionimpl creat session instanc createsessioninst auth context authcontext login context logincontext
workspac config workspaceconfig wsp config wspconfig
access deni except accessdeniedexcept repositori except repositoryexcept
session impl xasessionimpl context login context logincontext wsp config wspconfig
creat instanc link sessionimpl class repres
user repres code subject code instanc attach
workspac configur code wspconfig code
throw accessdeniedexcept subject login context
grant access
workspac
throw repositoryexcept error occur creat
session
session impl sessionimpl creat session instanc createsessioninst subject subject
workspac config workspaceconfig wsp config wspconfig
access deni except accessdeniedexcept repositori except repositoryexcept
session impl xasessionimpl context subject wsp config wspconfig
creat link repositoryimpl workspaceinfo instanc
code wspconfig code
param wspconfig workspac configur
return code workspaceinfo code instanc
workspac info workspaceinfo creat workspac info createworkspaceinfo workspac config workspaceconfig wsp config wspconfig
workspac info workspaceinfo wsp config wspconfig
class
code workspaceinfo code hold object share
multipl session code workspaceimpl code instanc
repres name workspac physic
storag
workspac info workspaceinfo updat event listen updateeventlisten
workspac configur pass constructor
workspac config workspaceconfig config
file system instanti init
file system filesystem
persist manag instanti init
persist manag persistencemanag persist mgr persistmgr
item state provid instanti init
share item state manag shareditemstatemanag item state mgr itemstatemgr
observ dispatch instanti init
observ dispatch observationdispatch dispatch
system session lazili instanti
system session systemsess system session systemsess
search manag lazili instanti
search manag searchmanag search mgr searchmgr
lock manag lazili instanti
lock manag impl lockmanagerimpl lock mgr lockmgr
intern manag evalu effect retent polici
hold
retent registri impl retentionregistryimpl retent reg retentionreg
flag indic instanc initi
initi
flag mark activ workspac
automat dispos workspac janitor
activ
lock guard initi instanc
read write lock readwritelock init lock initlock
reentrant writer prefer read write lock reentrantwriterpreferencereadwritelock
timestamp workspac determin idl
idl timestamp idletimestamp
mutex workspac lock transact
mutex lock xalock mutex
updat event channel cluster environ
updat event channel updateeventchannel updat channel updatechannel
lock event channel cluster environ
lock event channel lockeventchannel lock channel lockchannel
creat code workspaceinfo code base
code config code
param config workspac configur
workspac info workspaceinfo workspac config workspaceconfig config
config config
idl timestamp idletimestamp
initi
return workspac
return workspac
string getnam
config getnam
return workspac configur
return workspac configur
workspac config workspaceconfig config getconfig
config
return timestamp workspac idl
workspac idl
return timestamp workspac idl
workspac idl
idl timestamp getidletimestamp
idl timestamp idletimestamp
set timestamp workspac idl
code code workspac mark
activ
param timestamp workspac idl
set idl timestamp setidletimestamp
idl timestamp idletimestamp
return code true code workspac info initi
return code fals code
return code true code workspac info initi
initi isiniti
init lock initlock read lock readlock attempt
interrupt except interruptedexcept
'finally' pattern
ret initi
init lock initlock read lock readlock releas
ret
activ isact
activ
set activ setact activ
activ activ
return workspac file system
return workspac file system
file system filesystem file system getfilesystem
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
return workspac persist manag
return workspac persist manag
throw repositoryexcept persist manag
instanti initi
persist manag persistencemanag persist manag getpersistencemanag
repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
persist mgr persistmgr
return workspac item state provid
return workspac item state provid
throw repositoryexcept workspac item state provid
creat
share item state manag shareditemstatemanag item state provid getitemstateprovid
repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
item state mgr itemstatemgr
return observ dispatch workspac
return observ dispatch workspac
observ dispatch observationdispatch observ dispatch getobservationdispatch
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
dispatch
return search manag workspac
return search manag workspac code null code
code searchmanag code
throw repositoryexcept search manag creat
search manag searchmanag search manag getsearchmanag repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
search mgr searchmgr config search enabl issearchen
search manag lazili instanti order avoid
'chicken egg' bootstrap problem
search mgr searchmgr search manag searchmanag
context
config
item state mgr itemstatemgr persist mgr persistmgr
context root node getrootnodeid
system search manag getsystemsearchmanag getnam
system root node system root node
search mgr searchmgr
return lock manag workspac
return lock manag workspac
throw repositoryexcept lock manag creat
lock manag impl lockmanagerimpl lock manag getlockmanag repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
lock manag lazili instanti order avoid
'chicken egg' bootstrap problem
lock mgr lockmgr
lock mgr lockmgr creat lock manag createlockmanag
cluster node clusternod cluster node clusternod context cluster node getclusternod
cluster node clusternod config cluster isclust
lock channel lockchannel cluster node clusternod creat lock channel createlockchannel getnam
lock mgr lockmgr set event channel seteventchannel lock channel lockchannel
lock mgr lockmgr
creat lock manag method call
getlockmanag
return lock manag
lock manag impl lockmanagerimpl creat lock manag createlockmanag repositori except repositoryexcept
lock manag impl lockmanagerimpl
system session getsystemsess context executor getexecutor
return manag evalu effect retent hold
return
throw repositoryexcept
retent registri retentionregistri retent registri getretentionregistri repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam initi
retent reg retentionreg
retent reg retentionreg retent registri impl retentionregistryimpl system session getsystemsess
retent reg retentionreg
return system session workspac
return system session workspac
throw repositoryexcept system session creat
system session systemsess system session getsystemsess repositori except repositoryexcept
initi isiniti
illeg state except illegalstateexcept workspac getnam
initi
system session lazili instanti order avoid
'chicken egg' bootstrap problem
system session systemsess
system session systemsess system session systemsess creat context config
system session systemsess
initi workspac info compon
initi immedi
file system
persist manag
share item state manag
observ manag factori
compon initi lazili demand
order save resourc avoid 'chicken egg' bootstrap
problem
system session
lock manag
search manag
return code true code instanc successfulli
initi code fals code initi
throw repositoryexcept error occur initi
initi repositori except repositoryexcept
check initi statu
init lock initlock read lock readlock acquir
interrupt except interruptedexcept
repositori except repositoryexcept unabl aquir read lock
initi
initi
init lock initlock read lock readlock releas
workspac info initi check write lock
init lock initlock write lock writelock acquir
interrupt except interruptedexcept
repositori except repositoryexcept unabl aquir write lock
initi
initi thread quicker
log info initi workspac getnam
initi doiniti
initi
post initi dopostiniti
log info workspac getnam initi
init lock initlock write lock writelock releas
actual initi work assum hold write lock
throw repositoryexcept error occur
initi doiniti repositori except repositoryexcept
config file system getfilesystem
persist mgr persistmgr creat persist manag createpersistencemanag
file config home dir gethomedir
config persist manag config getpersistencemanagerconfig
version recoveri doversionrecoveri
ism lock ismlock ism lock ismlock config ism lock getismlock
creat item state manag
item state mgr itemstatemgr
creat item state manag createitemstatemanag persist mgr persistmgr ism lock ismlock
item state mgr itemstatemgr add virtual item state provid addvirtualitemstateprovid
context intern version manag getinternalversionmanag virtual item state provid getvirtualitemstateprovid
item state mgr itemstatemgr add virtual item state provid addvirtualitemstateprovid
virt mgr virtntmgr virtual item state provid getvirtualitemstateprovid
except
log error unabl add vmgr string tostr
cluster node clusternod cluster node clusternod context cluster node getclusternod
cluster node clusternod config cluster isclust
updat channel updatechannel cluster node clusternod creat updat channel createupdatechannel getnam
item state mgr itemstatemgr set event channel seteventchannel updat channel updatechannel
updat channel updatechannel set listen setlisten
item state except itemstateexcept is
string msg fail instanti share item state manag
log debug msg
repositori except repositoryexcept msg is
dispatch observ dispatch observationdispatch
regist observ factori workspac
deleg dispatch delegatingdispatch add dispatch adddispatch dispatch
recov lost version histori
version recoveri doversionrecoveri repositori except repositoryexcept
jcr recoveri lost version histori
boolean boolean getboolean org apach jackrabbit version recoveri
repositori checker repositorycheck checker repositori checker repositorycheck
persist mgr persistmgr context intern version manag getinternalversionmanag
checker check root node root node
checker fix
initi search manag workspac info method
call hold write lock workspac
info link initi set code true code
throw repositoryexcept search manag creat
post initi dopostiniti
repositori except repositoryexcept
system workspac instanc
workspac impl workspaceimpl wsp workspac impl workspaceimpl system session getsystemsess workspac getworkspac
todo implement 'system' workspac
fixm
'system' workspac repositori
'system' workspac jcr system node
version version histori node type reflect
system workspac content jcr system
workspac dynam workspac base
'read only' system workspac
jcr system node creat
link org apach jackrabbit core state shareditemstatemanag createrootnodest
log debug initi searchmanag
system current time milli currenttimemilli
regist searchmanag event listen
search manag searchmanag search mgr searchmgr search manag getsearchmanag
search mgr searchmgr
wsp observ manag getobservationmanag add event listen addeventlisten search mgr searchmgr
event node ad node ad event node remov node remov
event properti ad properti ad event properti remov properti remov
event properti chang properti chang
log debug searchmanag initi system current time milli currenttimemilli
dispos code workspaceinfo code idl
code maxidletim code millisecond
param maxidletim amount time mmillisecond idl
workspac automat shutdown
dispos idl disposeifidl max idl time maxidletim
init lock initlock read lock readlock acquir
interrupt except interruptedexcept
initi activ
current currentt system current time milli currenttimemilli
idl timestamp idletimestamp
set idl timestamp
idl timestamp idletimestamp current currentt
current currentt idl timestamp idletimestamp max idl time maxidletim
temporarili shutdown workspac
log info dispos workspac getnam
idl
current currentt idl timestamp idletimestamp
dispos
init lock initlock read lock readlock releas
dispos object code workspaceinfo code hold
dispos
init lock initlock write lock writelock acquir
interrupt except interruptedexcept
illeg state except illegalstateexcept unabl aquir write lock
initi
dispos
log info shut workspac getnam
dispos dodispos
reset idl timestamp
idl timestamp idletimestamp
activ
initi
log info workspac getnam shutdown
init lock initlock write lock writelock releas
actual dispos assum hold write lock
dispos dodispos
inform cluster node dispos
updat channel updatechannel
updat channel updatechannel set listen setlisten
lock channel lockchannel
lock channel lockchannel set listen setlisten
deregist observ factori workspac
deleg dispatch delegatingdispatch remov dispatch removedispatch dispatch
dispos observ manag factori
dispatch dispos
dispatch
shutdown search manag
search mgr searchmgr
search mgr searchmgr close
search mgr searchmgr
deregist
secur mgr securitymgr
secur mgr securitymgr dispos getnam
close system session
system session systemsess
system session systemsess remov listen removelisten repositori impl repositoryimpl
system session systemsess logout
system session systemsess
dispos share item state manag
item state mgr itemstatemgr dispos
item state mgr itemstatemgr
close persist manag
persist mgr persistmgr close
except
log error error close persist manag workspac
config getnam
persist mgr persistmgr
close lock manag
lock mgr lockmgr
lock mgr lockmgr close
lock mgr lockmgr
close retent registri
retent reg retentionreg
retent reg retentionreg close
retent reg retentionreg
close workspac file system
close
file system except filesystemexcept fse
log error error close file system workspac config getnam fse
lock workspac info
link xasessionimpl order lock intern resourc
commit
throw transactionexcept
lock acquir lockacquir transact except transactionexcept
lock xalock acquir
interrupt except interruptedexcept
transact except transactionexcept error acquier lock
unlock workspac info
link xasessionimpl order lock intern resourc
commit
lock releas lockreleas
lock xalock releas
updateeventlisten
inheritdoc
extern updat externalupd chang log changelog extern
list event state eventst event
timestamp
string user data userdata repositori except repositoryexcept
event state collect eventstatecollect esc event state collect eventstatecollect
observ dispatch getobservationdispatch
esc set user data setuserdata user data userdata
esc add addal event
esc set timestamp settimestamp timestamp
item state provid getitemstateprovid extern updat externalupd extern esc
illeg state except illegalstateexcept
string msg unabl deliv event messag getmessag
repositori except repositoryexcept msg
workspac janitor thread shutdown workspac
idl amount time
workspac janitor workspacejanitor runnabl
amount time millisecond idl workspac
automat shutdown
max idl time maxidletim
interv millisecond check idl workspac
check interv checkinterv
creat code workspacejanitor code instanc respons
shut idl workspac
param maxidletim amount time millisecond idl
workspac automat shutdown
workspac janitor workspacejanitor max idl time maxidletim
max idl time maxidletim max idl time maxidletim
comput check interv maxidletim
check interv checkinterv max idl time maxidletim
inheritdoc
perform task code true code loop
wait code checkinterv code millisecond
build list initi inact workspac
exclud default workspac
shutdown workspac idl
code maxidletim code millisecond
run
repositori impl repositoryimpl
repositori impl repositoryimpl wait check interv checkinterv
interrupt except interruptedexcept
ignor
dispos
name workspac
set string wsp name wspname
wsp info wspinfo
wsp name wspname hash set hashset string wsp info wspinfo kei set keyset
remov default workspac shutdown idl
wsp name wspname remov rep config repconfig default workspac getdefaultworkspacenam
activ session activesess
remov workspac activ session
session se activ session activesess valu
wsp name wspname remov se workspac getworkspac getnam
remain name denot workspac
activ session
string wsp wspname wsp name wspname
workspac info workspaceinfo wsp info wspinfo
wsp info wspinfo
wsp info wspinfo wsp info wspinfo wsp wspname
wsp info wspinfo dispos idl disposeifidl max idl time maxidletim
cluster context pass code clusternod code
extern event listen externaleventlisten cluster context clustercontext
inheritdoc
cluster config clusterconfig cluster config getclusterconfig
config getconfig cluster config getclusterconfig
inheritdoc
file repositori home getrepositoryhom
file config getconfig home dir gethomedir
inheritdoc
namespac resolv namespaceresolv namespac resolv getnamespaceresolv
registri namespac resolv registrynamespaceresolv context namespac registri getnamespaceregistri
inheritdoc
updat event readi updateeventsreadi string workspac repositori except repositoryexcept
toggl initi workspac
workspac info getworkspaceinfo workspac
inheritdoc
lock event readi lockeventsreadi string workspac repositori except repositoryexcept
toggl initi workspace' lock manag
workspac info getworkspaceinfo workspac lock manag getlockmanag
repres repositori descriptor
descriptor descriptorvalu
val
val
descriptor descriptorvalu val
val val
descriptor descriptorvalu val
val val
getvalu
val
valu getvalu
val val val
