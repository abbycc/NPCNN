org apach jackrabbit core
org apach jackrabbit core state item state itemst
org apach jackrabbit core state item state except itemstateexcept
org apach jackrabbit core state item state manag itemstatemanag
org apach jackrabbit core state item state except nosuchitemstateexcept
org apach jackrabbit core state node state nodest
org apach jackrabbit core state properti state propertyst
org apach jackrabbit malform path except malformedpathexcept
org apach jackrabbit namespac resolv namespaceresolv
org apach jackrabbit prefix declar except noprefixdeclaredexcept
org apach jackrabbit path
org apach jackrabbit qname
org apach log4j logger
javax jcr item found except itemnotfoundexcept
javax jcr path found except pathnotfoundexcept
javax jcr repositori except repositoryexcept
code hierarchymanagerimpl code
hierarchi manag impl hierarchymanagerimpl hierarchi manag hierarchymanag
logger log logger logger getlogg hierarchi manag impl hierarchymanagerimpl
parent return orphan root node
todo proper invalid qname
qname empti empti qname
node nodeid root node rootnodeid
item state manag itemstatemanag provid
output user friendli path name
namespac resolv namespaceresolv resolv nsresolv
hierarchi manag impl hierarchymanagerimpl node nodeid root node rootnodeid
item state manag itemstatemanag provid
namespac resolv namespaceresolv resolv nsresolv
root node rootnodeid root node rootnodeid
provid provid
resolv nsresolv resolv nsresolv
node nodeid root node getrootnodeid
root node rootnodeid
namespac resolv namespaceresolv namespac resolv getnamespaceresolv
resolv nsresolv
misc helper method
failsaf convers intern code path code jcr path
error messag
param path path convert
return jcr path
string safe jcr path safegetjcrpath path path
path jcr path tojcrpath resolv nsresolv
prefix declar except noprefixdeclaredexcept npde
log error fail convert path string tostr jcr path
return string represent intern path fallback
path string tostr
failsaf translat intern code itemid code jcr path
error messag
param translat
return jcr path
string safe jcr path safegetjcrpath item itemid
safe jcr path safegetjcrpath path getpath
repositori except repositoryexcept
log error fail determin path
return string represent fallback
string tostr
overrid
return item state item
low level hook provid special deriv class
param item
return item state
throw nosuchitemstateexcept item exist
throw itemstateexcept error occur
zombiehierarchymanag getitemst itemid
item state itemst item state getitemst item itemid
item state except nosuchitemstateexcept item state except itemstateexcept
provid item state getitemst
determin item state item exist
low level hook provid special deriv class
param item
return code true code item state exist
code fals code
zombiehierarchymanag hasitemst itemid
item state hasitemst item itemid
provid item state hasitemst
return code parentuuid code item
low level hook provid special deriv class
param state item state
return code parentuuid code item
zombiehierarchymanag getparentid itemst
node nodeid parent getparentid item state itemst state
state parent getparentid
return code childnodeentri code code parent code
code uuid code code null code entri
low level hook provid special deriv class
param parent node state
param child node entri
return code childnodeentri code code parent code
code uuid code code null code
entri
zombiehierarchymanag getchildnodeentri nodest nodeid
node state nodest child node entri childnodeentri child node entri getchildnodeentri node state nodest parent
node nodeid
parent child node entri getchildnodeentri
return code childnodeentri code code parent code
code code code index code code null code
entri
low level hook provid special deriv class
param parent node state
param child node entri
param index index child node entri
return code childnodeentri code code parent code
code code code index code
code null code entri
zombiehierarchymanag getchildnodeentri nodest qname int
node state nodest child node entri childnodeentri child node entri getchildnodeentri node state nodest parent
qname
index
parent child node entri getchildnodeentri index
resolv path item recurs invok method
overridden subclass return cach respons add
respons cach
param path full path item resolv
param intermedi item
param path element index resolv
return item denot code path code
item itemid resolv path resolvepath path path item itemid
repositori except repositoryexcept
resolv path resolvepath path item state getitemst
item state except nosuchitemstateexcept
string msg fail retriev state intermediari node
log debug msg
repositori except repositoryexcept msg
item state except itemstateexcept
string msg fail retriev state intermediari node
log debug msg
repositori except repositoryexcept msg
resolv path item recurs invok method
overridden subclass return cach respons add
respons cach
param path full path item resolv
param state intermedi state
param path element index resolv
return item denot code path code
item itemid resolv path resolvepath path path item state itemst state
path found except pathnotfoundexcept item state except itemstateexcept
path path element pathel element path element getel
element length
state getid
path path element pathel elem element
qname elem getnam
index elem index getindex
index
index
node state nodest parent state parentst node state nodest state
item itemid child childid
parent state parentst child node entri haschildnodeentri index
child node
node state nodest child node entri childnodeentri node entri nodeentri
child node entri getchildnodeentri parent state parentst index
child childid node entri nodeentri getid
parent state parentst properti haspropertynam
properti
index
properti sibl
path found except pathnotfoundexcept safe jcr path safegetjcrpath path
element length
properti element path
path found except pathnotfoundexcept safe jcr path safegetjcrpath path
child childid properti propertyid parent state parentst node getnodeid
item
path found except pathnotfoundexcept safe jcr path safegetjcrpath path
resolv path resolvepath path item state getitemst child childid
add path element item path built
recurs invok method overridden subclass
return cach respons add respons cach exit
code builder code path code state code
param builder builder
param state item find path
build path buildpath path path builder pathbuild builder item state itemst state
item state except itemstateexcept repositori except repositoryexcept
shortcut
state getid equal root node rootnodeid
builder add root addroot
node nodeid parent parentid parent getparentid state
parent parentid
string msg fail build path state getid
orphan item
log debug msg
item found except itemnotfoundexcept msg
node state nodest parent node state nodest item state getitemst parent parentid
recurs build path parent
build path buildpath builder parent
state node isnod
node state nodest node state nodest node state nodest state
node nodeid node state nodest node getnodeid
node state nodest child node entri childnodeentri entri child node entri getchildnodeentri parent
entri
string msg fail build path state getid
parent node getnodeid child entri
log debug msg
item found except itemnotfoundexcept msg
add path
entri index getindex
builder add addlast entri getnam
builder add addlast entri getnam entri index getindex
properti state propertyst prop state propstat properti state propertyst state
qname prop state propstat getnam
add path
builder add addlast
hierarchymanag
inheritdoc
item itemid resolv path resolvepath path path
path found except pathnotfoundexcept repositori except repositoryexcept
shortcut
path denot root denotesroot
root node rootnodeid
path canon iscanon
string msg path canon
log debug msg
repositori except repositoryexcept msg
resolv path resolvepath path root node rootnodeid
inheritdoc
path path getpath item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
shortcut
equal root node rootnodeid
path root
path path builder pathbuild builder path path builder pathbuild
build path buildpath builder item state getitemst
builder path getpath
item state except nosuchitemstateexcept nsise
string msg fail build path
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail build path
log debug msg
repositori except repositoryexcept msg is
malform path except malformedpathexcept mpe
string msg fail build path
log debug msg
repositori except repositoryexcept msg mpe
inheritdoc
qname getnam item itemid item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
item itemid denot node denotesnod
node nodeid node nodeid node nodeid item itemid
node state nodest parent state parentst
node state nodest node state nodest node state nodest item state getitemst node nodeid
node nodeid parent parentid parent getparentid node state nodest
parent parentid
root orphan node
fixm
empti empti
parent state parentst node state nodest item state getitemst parent parentid
item state except nosuchitemstateexcept nsi
string msg fail resolv node nodeid
log debug msg
item found except itemnotfoundexcept node nodeid string tostr
item state except itemstateexcept is
string msg fail resolv node nodeid
log debug msg
repositori except repositoryexcept msg is
node state nodest child node entri childnodeentri entri
child node entri getchildnodeentri parent state parentst node nodeid
entri
string msg fail resolv node nodeid
log debug msg
repositori except repositoryexcept msg
entri getnam
properti propertyid item itemid getnam
inheritdoc
depth getdepth item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
shortcut
equal root node rootnodeid
item state itemst state item state getitemst
node nodeid parent parentid parent getparentid state
depth
parent parentid
depth
state item state getitemst parent parentid
parent parentid parent getparentid state
depth
item state except nosuchitemstateexcept nsise
string msg fail determin depth
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin depth
log debug msg
repositori except repositoryexcept msg is
inheritdoc
rel depth getrelativedepth node nodeid ancestor ancestorid item itemid descend descendantid
item found except itemnotfoundexcept repositori except repositoryexcept
ancestor ancestorid equal descend descendantid
depth
item state itemst state item state getitemst descend descendantid
node nodeid parent parentid parent getparentid state
parent parentid
parent parentid equal ancestor ancestorid
depth
depth
state item state getitemst parent parentid
parent parentid parent getparentid state
ancestor
item state except nosuchitemstateexcept nsise
string msg fail determin depth descend descendantid
rel ancestor ancestorid
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin depth descend descendantid
rel ancestor ancestorid
log debug msg
repositori except repositoryexcept msg is
inheritdoc
ancestor isancestor node nodeid node nodeid item itemid item itemid
item found except itemnotfoundexcept repositori except repositoryexcept
node nodeid equal item itemid
ancestor
item state itemst state item state getitemst item itemid
node nodeid parent parentid parent getparentid state
parent parentid
parent parentid equal node nodeid
state item state getitemst parent parentid
parent parentid parent getparentid state
ancestor
item state except nosuchitemstateexcept nsise
string msg fail determin degre relationship
node nodeid item itemid
log debug msg
item found except itemnotfoundexcept msg nsise
item state except itemstateexcept is
string msg fail determin degre relationship
node nodeid item itemid
log debug msg
repositori except repositoryexcept msg is
