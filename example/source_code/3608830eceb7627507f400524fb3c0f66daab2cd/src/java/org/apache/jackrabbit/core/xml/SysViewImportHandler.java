org apach jackrabbit core xml
org apach jackrabbit core
org apach jackrabbit core version version manag versionmanag
org apach jackrabbit core nodetyp node type impl nodetypeimpl
org apach jackrabbit core util base64
org apach jackrabbit core util helper valuehelp
org apach log4j logger
org xml sax attribut
org xml sax content handler contenthandl
org xml sax sax except saxexcept
org xml sax helper default handler defaulthandl
javax jcr
javax jcr nodetyp node def nodedef
javax jcr nodetyp properti def propertydef
javax jcr nodetyp constraint violat except constraintviolationexcept
java byte arrai output stream bytearrayoutputstream
java except ioexcept
java util arrai list arraylist
java util stack
code sysviewimporthandl code
sy view import handler sysviewimporthandl default handler defaulthandl
logger log logger logger getlogg sy view import handler sysviewimporthandl
session impl sessionimpl session
stack importst instanc instanc push stack
startel method time node element encount
instanc pop stack endel method
node element encount
stack state stack statestack stack
field temporarili process properti element
qname current prop currentpropnam
current prop type currentproptyp properti type propertytyp undefin
arrai list arraylist current prop valu currentpropvalu
string buffer stringbuff current prop currentpropvalu
sy view import handler sysviewimporthandl node impl nodeimpl import target node importtargetnod session impl sessionimpl session
import state importst state import state importst
state node import target node importtargetnod
session session
state stack statestack push state
contenthandl
contenthandl startel string string string attribut
start element startel string namespac uri namespaceuri string local localnam string qname attribut att sax except saxexcept
string elem elemnam
string uri nsuri
namespac uri namespaceuri equal namespac uri namespaceuri
uri nsuri namespac uri namespaceuri
elem elemnam local localnam
uri nsuri qname jcr fromjcrnam qname session namespac resolv getnamespaceresolv namespac uri getnamespaceuri
elem elemnam qname jcr fromjcrnam qname session namespac resolv getnamespaceresolv local getlocalnam
base except baseexcept
happen
string msg intern error fail pars resolv element qname
log error msg
sax except saxexcept msg
check namespac
namespac registri impl namespaceregistryimpl uri uri equal uri nsuri
sax except saxexcept invalid serial data except invalidserializeddataexcept invalid namespac element system view xml document uri nsuri
check element
sy view sax event gener sysviewsaxeventgener node element node element equal elem elemnam
node element
node attribut
string att getvalu sy view sax event gener sysviewsaxeventgener uri uri sy view sax event gener sysviewsaxeventgener attribut attribut
qualifi
att getvalu sy view sax event gener sysviewsaxeventgener prefix prefix sy view sax event gener sysviewsaxeventgener attribut attribut
sax except saxexcept invalid serial data except invalidserializeddataexcept miss mandatori attributeof element node
import state importst current import state importst state stack statestack peek
current node
creat current node
creat node createnod current
push importst instanc stack
import state importst state import state importst
state parent current node
state node nodenam qname jcr fromjcrnam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg node in
unknown prefix except unknownprefixexcept up
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg node up
state stack statestack push state
sy view sax event gener sysviewsaxeventgener properti element properti element equal elem elemnam
properti element
reset temp field
current prop valu currentpropvalu arrai list arraylist
properti attribut
string att getvalu sy view sax event gener sysviewsaxeventgener uri uri sy view sax event gener sysviewsaxeventgener attribut attribut
qualifi
att getvalu sy view sax event gener sysviewsaxeventgener prefix prefix sy view sax event gener sysviewsaxeventgener attribut attribut
sax except saxexcept invalid serial data except invalidserializeddataexcept miss mandatori attributeof element properti
current prop currentpropnam qname jcr fromjcrnam session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg properti in
unknown prefix except unknownprefixexcept up
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg properti up
properti type type attribut
string type att getvalu sy view sax event gener sysviewsaxeventgener uri uri sy view sax event gener sysviewsaxeventgener type attribut type attribut
type
qualifi
type att getvalu sy view sax event gener sysviewsaxeventgener prefix prefix sy view sax event gener sysviewsaxeventgener type attribut type attribut
type
sax except saxexcept invalid serial data except invalidserializeddataexcept miss mandatori type attributeof element properti
current prop type currentproptyp properti type propertytyp valuefromnam type
sy view sax event gener sysviewsaxeventgener element element equal elem elemnam
element
reset temp field
current prop currentpropvalu string buffer stringbuff
sax except saxexcept invalid serial data except invalidserializeddataexcept unexpect element found system view xml document elem elemnam
repositori except repositoryexcept
sax except saxexcept
contenthandl charact char int int
charact start length sax except saxexcept
current prop currentpropvalu
properti charact data element
current prop currentpropvalu append start length
contenthandl endel string string string
end element endel string namespac uri namespaceuri string local localnam string qname sax except saxexcept
string elem elemnam
local localnam equal local localnam
elem elemnam local localnam
elem elemnam qname jcr fromjcrnam qname session namespac resolv getnamespaceresolv local getlocalnam
base except baseexcept
happen
string msg intern error fail pars resolv element qname
log error msg
sax except saxexcept msg
check element
import state importst current import state importst state stack statestack peek
sy view sax event gener sysviewsaxeventgener node element node element equal elem elemnam
node element
current node
creat current node
creat node createnod current
pop current state stack
state stack statestack pop
sy view sax event gener sysviewsaxeventgener properti element properti element equal elem elemnam
properti element
check system properti jcr primarytyp jcr uuid
collect creat node
current prop currentpropnam equal item impl itemimpl propnam primarytyp propnam primarytyp
current primari type primarytyp qname jcr fromjcrnam string current prop valu currentpropvalu session namespac resolv getnamespaceresolv
illeg except illegalnameexcept in
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg node type current prop valu currentpropvalu in
unknown prefix except unknownprefixexcept up
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg node type current prop valu currentpropvalu up
current prop currentpropnam equal item impl itemimpl propnam mixintyp propnam mixintyp
current mixin type mixintyp
current mixin type mixintyp arrai list arraylist current prop valu currentpropvalu size
current prop valu currentpropvalu size
qname mixin qname jcr fromjcrnam string current prop valu currentpropvalu session namespac resolv getnamespaceresolv
current mixin type mixintyp add mixin
illeg except illegalnameexcept in
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg mixin type current prop valu currentpropvalu in
unknown prefix except unknownprefixexcept up
sax except saxexcept invalid serial data except invalidserializeddataexcept illeg mixin type current prop valu currentpropvalu up
current prop currentpropnam equal item impl itemimpl propnam uuid propnam uuid
current uuid string current prop valu currentpropvalu
jcr uuid system properti assum
requir system properti collect
current node
collect requir system properti
readi creat node
creat node createnod current
current prop currentpropnam equal version manag versionmanag propnam base version propnam base version
ignor
current prop currentpropnam equal version manag versionmanag propnam version histori propnam version histori
ignor
current prop currentpropnam equal version manag versionmanag propnam predecessor propnam predecessor
ignor
current prop currentpropnam equal version manag versionmanag propnam check propnam check
ignor
system properti encount assum
requir system properti collect
current node
collect requir system properti
readi creat node
creat node createnod current
convert valu nativ type set properti
val current prop valu currentpropvalu size
current prop valu currentpropvalu size
string string current prop valu currentpropvalu
current prop type currentproptyp properti type propertytyp binari
base64 encod binari
byte arrai output stream bytearrayoutputstream bao byte arrai output stream bytearrayoutputstream
base64 decod bao
bao close
except ioexcept ioe
sax except saxexcept fail decod binari ioe
val binari binaryvalu bao byte arrai tobytearrai
val helper valuehelp convert current prop type currentproptyp
current node properti hasproperti current prop currentpropnam
properti def propertydef def current node properti getproperti current prop currentpropnam definit getdefinit
def protect isprotect
ignor protect properti
reset temp field outta
current prop valu currentpropvalu
multi singl valu properti
val length
singl multi valu
set singl
current node set properti setproperti current prop currentpropnam val
constraint violat except constraintviolationexcept vfe
set arrai
current node set properti setproperti current prop currentpropnam val
multi valu
current node set properti setproperti current prop currentpropnam val
reset temp field
current prop valu currentpropvalu
sy view sax event gener sysviewsaxeventgener element element equal elem elemnam
element
current prop valu currentpropvalu add current prop currentpropvalu string tostr
reset temp field
current prop currentpropvalu
sax except saxexcept invalid serial data except invalidserializeddataexcept invalid element system view xml document elem elemnam
repositori except repositoryexcept
sax except saxexcept
creat node createnod import state importst state repositori except repositoryexcept
state primari type primarytyp
invalid serial data except invalidserializeddataexcept miss mandatori jcr primarytyp properti
state uuid
todo semant uuid respect import
move exist node uuid current posit
creat uuid refer valu refer uuid
state parent node hasnod state node nodenam
state node state parent node getnod state node nodenam
node def nodedef def state node definit getdefinit
def protect isprotect
todo handl protect auto creat child node
def auto creat isautocr
todo handl protect auto creat child node
state node node impl nodeimpl state parent add node addnod state node nodenam state primari type primarytyp
state mixin type mixintyp
state mixin type mixintyp size
node type impl nodetypeimpl mixin session node type manag getnodetypemanag node type getnodetyp qname state mixin type mixintyp
state node add mixin addmixin mixin getnam
class
import state importst
qname primari type primarytyp
arrai list arraylist mixin type mixintyp
string uuid
qname node nodenam
node impl nodeimpl parent
node impl nodeimpl node
